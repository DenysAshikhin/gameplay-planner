"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-use-audio-player";
exports.ids = ["vendor-chunks/react-use-audio-player"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-use-audio-player/dist/react-use-audio-player.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/react-use-audio-player/dist/react-use-audio-player.esm.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAudioPlayer: () => (/* binding */ useAudioPlayer),\n/* harmony export */   useGlobalAudioPlayer: () => (/* binding */ useGlobalAudioPlayer)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! howler */ \"(ssr)/./node_modules/howler/dist/howler.js\");\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nvar ActionTypes;\n(function (ActionTypes) {\n  ActionTypes[\"START_LOAD\"] = \"START_LOAD\";\n  ActionTypes[\"ON_LOAD\"] = \"ON_LOAD\";\n  ActionTypes[\"ON_ERROR\"] = \"ON_ERROR\";\n  ActionTypes[\"ON_PLAY\"] = \"ON_PLAY\";\n  ActionTypes[\"ON_PAUSE\"] = \"ON_PAUSE\";\n  ActionTypes[\"ON_STOP\"] = \"ON_STOP\";\n  ActionTypes[\"ON_END\"] = \"ON_END\";\n  ActionTypes[\"ON_RATE\"] = \"ON_RATE\";\n  ActionTypes[\"ON_MUTE\"] = \"ON_MUTE\";\n  ActionTypes[\"ON_VOLUME\"] = \"ON_VOLUME\";\n  ActionTypes[\"ON_LOOP\"] = \"ON_LOOP\";\n})(ActionTypes || (ActionTypes = {}));\nfunction initStateFromHowl(howl) {\n  if (howl === undefined) {\n    return {\n      src: null,\n      isReady: false,\n      isLoading: false,\n      looping: false,\n      duration: 0,\n      rate: 1,\n      volume: 1,\n      muted: false,\n      playing: false,\n      paused: false,\n      stopped: false,\n      error: null\n    };\n  }\n  var position = howl.seek();\n  var playing = howl.playing();\n  return {\n    isReady: howl.state() === \"loaded\",\n    isLoading: howl.state() === \"loading\",\n    // @ts-ignore _src exists\n    src: howl._src,\n    looping: howl.loop(),\n    duration: howl.duration(),\n    rate: howl.rate(),\n    volume: howl.volume(),\n    muted: howl.mute(),\n    playing: playing,\n    paused: !playing,\n    stopped: !playing && position === 0,\n    error: null\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case ActionTypes.START_LOAD:\n      return _extends({}, initStateFromHowl(), {\n        isLoading: true\n      });\n    case ActionTypes.ON_LOAD:\n      // in React 18 there is a weird race condition where ON_LOAD receives a Howl object that has been unloaded\n      // if we detect this case just return the existing state to wait for another action\n      if (action.howl.state() === \"unloaded\") {\n        return state;\n      }\n      return initStateFromHowl(action.howl);\n    case ActionTypes.ON_ERROR:\n      return _extends({}, initStateFromHowl(), {\n        error: action.message\n      });\n    case ActionTypes.ON_PLAY:\n      return _extends({}, state, {\n        playing: true,\n        paused: false,\n        stopped: false\n      });\n    case ActionTypes.ON_PAUSE:\n      return _extends({}, state, {\n        playing: false,\n        paused: true\n      });\n    case ActionTypes.ON_STOP:\n      {\n        return _extends({}, state, {\n          playing: false,\n          paused: false,\n          stopped: true\n        });\n      }\n    case ActionTypes.ON_END:\n      {\n        return _extends({}, state, {\n          playing: state.looping,\n          stopped: !state.looping\n        });\n      }\n    case ActionTypes.ON_MUTE:\n      {\n        var _action$howl$mute;\n        return _extends({}, state, {\n          muted: (_action$howl$mute = action.howl.mute()) !== null && _action$howl$mute !== void 0 ? _action$howl$mute : false\n        });\n      }\n    case ActionTypes.ON_RATE:\n      {\n        var _action$howl$rate, _action$howl;\n        return _extends({}, state, {\n          rate: (_action$howl$rate = (_action$howl = action.howl) === null || _action$howl === void 0 ? void 0 : _action$howl.rate()) !== null && _action$howl$rate !== void 0 ? _action$howl$rate : 1.0\n        });\n      }\n    case ActionTypes.ON_VOLUME:\n      {\n        var _action$howl$volume, _action$howl2;\n        return _extends({}, state, {\n          volume: (_action$howl$volume = (_action$howl2 = action.howl) === null || _action$howl2 === void 0 ? void 0 : _action$howl2.volume()) !== null && _action$howl$volume !== void 0 ? _action$howl$volume : 1.0\n        });\n      }\n    case ActionTypes.ON_LOOP:\n      {\n        var _action$toggleValue = action.toggleValue,\n          toggleValue = _action$toggleValue === void 0 ? false : _action$toggleValue,\n          howl = action.howl;\n        howl.loop(toggleValue);\n        return _extends({}, state, {\n          looping: toggleValue\n        });\n      }\n    default:\n      return state;\n  }\n}\n\nfunction useHowlEventSync(howlManager, _ref) {\n  var state = _ref[0],\n    dispatch = _ref[1];\n  var onLoad = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_LOAD,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (_, errorCode) {\n    dispatch({\n      type: ActionTypes.ON_ERROR,\n      message: errorCode\n    });\n  }, [dispatch]);\n  var onPlay = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    // TODO since this is the sync layer i should really extract the info from the howl here and pass that in with the action payload\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_PLAY,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onPause = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_PAUSE,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onEnd = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_END,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_STOP,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onMute = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_MUTE,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onVolume = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_VOLUME,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  var onRate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.getHowl();\n    if (howl === undefined) return;\n    dispatch({\n      type: ActionTypes.ON_RATE,\n      howl: howl\n    });\n  }, [dispatch, howlManager]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    return function () {\n      var howl = howlManager.getHowl();\n      // howl?.off(\"load\", onLoad)\n      howl === null || howl === void 0 ? void 0 : howl.off(\"loaderror\", onError);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"playerror\", onError);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"play\", onPlay);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"pause\", onPause);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"end\", onEnd);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"stop\", onStop);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"mute\", onMute);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"volume\", onVolume);\n      howl === null || howl === void 0 ? void 0 : howl.off(\"rate\", onRate);\n    };\n  }, []);\n  // using ref bc we don't want identity of dispatch function to change\n  // see talk: https://youtu.be/nUzLlHFVXx0?t=1558\n  var wrappedDispatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(function (action) {\n    if (action.type === ActionTypes.START_LOAD) {\n      var howl = action.howl;\n      // set up event listening\n      howl.once(\"load\", onLoad);\n      howl.on(\"loaderror\", onError);\n      howl.on(\"playerror\", onError);\n      howl.on(\"play\", onPlay);\n      howl.on(\"pause\", onPause);\n      howl.on(\"end\", onEnd);\n      howl.on(\"stop\", onStop);\n      howl.on(\"mute\", onMute);\n      howl.on(\"volume\", onVolume);\n      howl.on(\"rate\", onRate);\n    }\n    dispatch(action);\n  });\n  return [state, wrappedDispatch.current];\n}\n\nvar _excluded = [\"initialVolume\", \"initialRate\", \"initialMute\"];\nvar HowlInstanceManager = /*#__PURE__*/function () {\n  function HowlInstanceManager() {\n    this.callbacks = new Map();\n    this.howl = undefined;\n    this.options = {};\n    this.subscriptionIndex = 0;\n  }\n  var _proto = HowlInstanceManager.prototype;\n  _proto.subscribe = function subscribe(cb) {\n    var id = (this.subscriptionIndex++).toString();\n    this.callbacks.set(id, cb);\n    return id;\n  };\n  _proto.unsubscribe = function unsubscribe(subscriptionId) {\n    this.callbacks[\"delete\"](subscriptionId);\n  };\n  _proto.getHowl = function getHowl() {\n    return this.howl;\n  };\n  _proto.getNumberOfConnections = function getNumberOfConnections() {\n    return this.callbacks.size;\n  };\n  _proto.createHowl = function createHowl(options) {\n    this.destroyHowl();\n    this.options = options;\n    var _this$options = this.options,\n      initialVolume = _this$options.initialVolume,\n      initialRate = _this$options.initialRate,\n      initialMute = _this$options.initialMute,\n      rest = _objectWithoutPropertiesLoose(_this$options, _excluded);\n    var newHowl = new howler__WEBPACK_IMPORTED_MODULE_1__.Howl(_extends({\n      mute: initialMute,\n      volume: initialVolume,\n      rate: initialRate\n    }, rest));\n    this.callbacks.forEach(function (cb) {\n      return cb({\n        type: ActionTypes.START_LOAD,\n        howl: newHowl\n      });\n    });\n    this.howl = newHowl;\n    return newHowl;\n  };\n  _proto.destroyHowl = function destroyHowl() {\n    var _this$howl6;\n    if (this.options.onload) {\n      var _this$howl;\n      (_this$howl = this.howl) === null || _this$howl === void 0 ? void 0 : _this$howl.off(\"load\", this.options.onload);\n    }\n    if (this.options.onend) {\n      var _this$howl2;\n      (_this$howl2 = this.howl) === null || _this$howl2 === void 0 ? void 0 : _this$howl2.off(\"end\", this.options.onend);\n    }\n    if (this.options.onplay) {\n      var _this$howl3;\n      (_this$howl3 = this.howl) === null || _this$howl3 === void 0 ? void 0 : _this$howl3.off(\"play\", this.options.onplay);\n    }\n    if (this.options.onpause) {\n      var _this$howl4;\n      (_this$howl4 = this.howl) === null || _this$howl4 === void 0 ? void 0 : _this$howl4.off(\"pause\", this.options.onpause);\n    }\n    if (this.options.onstop) {\n      var _this$howl5;\n      (_this$howl5 = this.howl) === null || _this$howl5 === void 0 ? void 0 : _this$howl5.off(\"stop\", this.options.onstop);\n    }\n    (_this$howl6 = this.howl) === null || _this$howl6 === void 0 ? void 0 : _this$howl6.unload();\n  };\n  _proto.broadcast = function broadcast(action) {\n    this.callbacks.forEach(function (cb) {\n      return cb(action);\n    });\n  };\n  return HowlInstanceManager;\n}();\nvar HowlInstanceManagerSingleton = /*#__PURE__*/function () {\n  function HowlInstanceManagerSingleton() {}\n  HowlInstanceManagerSingleton.getInstance = function getInstance() {\n    if (this.instance === undefined) {\n      HowlInstanceManagerSingleton.instance = new HowlInstanceManager();\n    }\n    return HowlInstanceManagerSingleton.instance;\n  };\n  return HowlInstanceManagerSingleton;\n}();\nHowlInstanceManagerSingleton.instance = void 0;\n\nvar useAudioPlayer = function useAudioPlayer() {\n  var howlManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  function getHowlManager() {\n    if (howlManager.current !== null) {\n      return howlManager.current;\n    }\n    var manager = new HowlInstanceManager();\n    howlManager.current = manager;\n    return manager;\n  }\n  var _useHowlEventSync = useHowlEventSync(getHowlManager(), (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer, getHowlManager().getHowl(), initStateFromHowl)),\n    state = _useHowlEventSync[0],\n    dispatch = _useHowlEventSync[1];\n  var load = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var src = _ref[0],\n      _ref$ = _ref[1],\n      options = _ref$ === void 0 ? {} : _ref$;\n    // TODO investigate: if we try to avoid loading the same sound (existing howl & same src in call)\n    // then there are some bugs like in the MultipleSounds demo, the \"play\" button will not switch to \"pause\"\n    var howl = getHowlManager().createHowl(_extends({\n      src: src\n    }, options));\n    dispatch({\n      type: ActionTypes.START_LOAD,\n      howl: howl\n    });\n  }, []);\n  var seek = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (seconds) {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.seek(seconds);\n  }, []);\n  var getPosition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _howl$seek;\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return 0;\n    }\n    return (_howl$seek = howl.seek()) !== null && _howl$seek !== void 0 ? _howl$seek : 0;\n  }, []);\n  var play = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.play();\n  }, []);\n  var pause = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.pause();\n  }, []);\n  var togglePlayPause = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    if (state.playing) {\n      howl.pause();\n    } else {\n      howl.play();\n    }\n  }, [state]);\n  var stop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.stop();\n  }, []);\n  var fade = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (from, to, duration) {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.fade(from, to, duration);\n  }, []);\n  var setRate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (speed) {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.rate(speed);\n  }, []);\n  var setVolume = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (vol) {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.volume(vol);\n  }, []);\n  var mute = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (muteOnOff) {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.mute(muteOnOff);\n  }, []);\n  var loop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (loopOnOff) {\n    var howl = getHowlManager().getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    // this differs from the implementation in useGlobalAudioPlayer which needs to broadcast the action to itself and all other instances of the hook\n    // maybe these two behaviors could be abstracted with one interface in the future\n    dispatch({\n      type: ActionTypes.ON_LOOP,\n      howl: howl,\n      toggleValue: loopOnOff\n    });\n  }, []);\n  var cleanup = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _getHowlManager;\n    (_getHowlManager = getHowlManager()) === null || _getHowlManager === void 0 ? void 0 : _getHowlManager.destroyHowl();\n  }, []);\n  return _extends({}, state, {\n    load: load,\n    seek: seek,\n    getPosition: getPosition,\n    play: play,\n    pause: pause,\n    togglePlayPause: togglePlayPause,\n    stop: stop,\n    mute: mute,\n    fade: fade,\n    setRate: setRate,\n    setVolume: setVolume,\n    loop: loop,\n    cleanup: cleanup\n  });\n};\n\nfunction useGlobalAudioPlayer() {\n  var howlManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(HowlInstanceManagerSingleton.getInstance());\n  var _useHowlEventSync = useHowlEventSync(howlManager.current, (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer, howlManager.current.getHowl(), initStateFromHowl)),\n    state = _useHowlEventSync[0],\n    dispatch = _useHowlEventSync[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var howlOnMount = howlManager.current.getHowl();\n    if (howlOnMount !== undefined) {\n      dispatch({\n        type: ActionTypes.START_LOAD,\n        howl: howlOnMount\n      });\n      if (howlOnMount.state() === \"loaded\") {\n        dispatch({\n          type: ActionTypes.ON_LOAD,\n          howl: howlOnMount\n        });\n      }\n    }\n    function sync(action) {\n      dispatch(action);\n    }\n    var subscriptionId = howlManager.current.subscribe(sync);\n    return function () {\n      howlManager.current.unsubscribe(subscriptionId);\n    };\n  }, []);\n  var load = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var src = _ref[0],\n      _ref$ = _ref[1],\n      options = _ref$ === void 0 ? {} : _ref$;\n    // the HowlInstanceManager will intercept this newly created howl and broadcast it to registered hooks\n    howlManager.current.createHowl(_extends({\n      src: src\n    }, options));\n  }, []);\n  var seek = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (seconds) {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.seek(seconds);\n  }, []);\n  var getPosition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _howl$seek;\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return 0;\n    }\n    return (_howl$seek = howl.seek()) !== null && _howl$seek !== void 0 ? _howl$seek : 0;\n  }, []);\n  var play = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.play();\n  }, []);\n  var pause = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.pause();\n  }, []);\n  var togglePlayPause = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    if (state.playing) {\n      howl.pause();\n    } else {\n      howl.play();\n    }\n  }, [state]);\n  var stop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.stop();\n  }, []);\n  var fade = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (from, to, duration) {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.fade(from, to, duration);\n  }, []);\n  var setRate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (speed) {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.rate(speed);\n  }, []);\n  var setVolume = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (vol) {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.volume(vol);\n  }, []);\n  var mute = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (muteOnOff) {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howl.mute(muteOnOff);\n  }, []);\n  var loop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (loopOnOff) {\n    var howl = howlManager.current.getHowl();\n    if (howl === undefined) {\n      return;\n    }\n    howlManager.current.broadcast({\n      type: ActionTypes.ON_LOOP,\n      howl: howl,\n      toggleValue: loopOnOff\n    });\n  }, []);\n  return _extends({}, state, {\n    load: load,\n    seek: seek,\n    getPosition: getPosition,\n    play: play,\n    pause: pause,\n    togglePlayPause: togglePlayPause,\n    stop: stop,\n    mute: mute,\n    fade: fade,\n    setRate: setRate,\n    setVolume: setVolume,\n    loop: loop\n  });\n}\n\n\n//# sourceMappingURL=react-use-audio-player.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtdXNlLWF1ZGlvLXBsYXllci9kaXN0L3JlYWN0LXVzZS1hdWRpby1wbGF5ZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRTtBQUNyQzs7QUFFOUI7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsa0RBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsY0FBYyxrREFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxlQUFlLGtEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsa0RBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsaUJBQWlCLGtEQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsa0RBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0IsNkNBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0NBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQSxvQkFBb0IsNkNBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpREFBVTtBQUN2RTtBQUNBO0FBQ0EsYUFBYSxrREFBVztBQUN4Qix3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGFBQWEsa0RBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxvQkFBb0Isa0RBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsa0RBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxjQUFjLGtEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsa0RBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxhQUFhLGtEQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCLGtEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxrREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsa0RBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0EsR0FBRztBQUNILG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLG9CQUFvQiw2Q0FBTTtBQUMxQixnRUFBZ0UsaURBQVU7QUFDMUU7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxhQUFhLGtEQUFXO0FBQ3hCLHdFQUF3RSxhQUFhO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsYUFBYSxrREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG9CQUFvQixrREFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxrREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWMsa0RBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxrREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsa0RBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrQkFBa0Isa0RBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxhQUFhLGtEQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxrREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVnRDtBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWVwbGF5LXBsYW5uZXIvLi9ub2RlX21vZHVsZXMvcmVhY3QtdXNlLWF1ZGlvLXBsYXllci9kaXN0L3JlYWN0LXVzZS1hdWRpby1wbGF5ZXIuZXNtLmpzPzg1ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSG93bCB9IGZyb20gJ2hvd2xlcic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIEFjdGlvblR5cGVzO1xuKGZ1bmN0aW9uIChBY3Rpb25UeXBlcykge1xuICBBY3Rpb25UeXBlc1tcIlNUQVJUX0xPQURcIl0gPSBcIlNUQVJUX0xPQURcIjtcbiAgQWN0aW9uVHlwZXNbXCJPTl9MT0FEXCJdID0gXCJPTl9MT0FEXCI7XG4gIEFjdGlvblR5cGVzW1wiT05fRVJST1JcIl0gPSBcIk9OX0VSUk9SXCI7XG4gIEFjdGlvblR5cGVzW1wiT05fUExBWVwiXSA9IFwiT05fUExBWVwiO1xuICBBY3Rpb25UeXBlc1tcIk9OX1BBVVNFXCJdID0gXCJPTl9QQVVTRVwiO1xuICBBY3Rpb25UeXBlc1tcIk9OX1NUT1BcIl0gPSBcIk9OX1NUT1BcIjtcbiAgQWN0aW9uVHlwZXNbXCJPTl9FTkRcIl0gPSBcIk9OX0VORFwiO1xuICBBY3Rpb25UeXBlc1tcIk9OX1JBVEVcIl0gPSBcIk9OX1JBVEVcIjtcbiAgQWN0aW9uVHlwZXNbXCJPTl9NVVRFXCJdID0gXCJPTl9NVVRFXCI7XG4gIEFjdGlvblR5cGVzW1wiT05fVk9MVU1FXCJdID0gXCJPTl9WT0xVTUVcIjtcbiAgQWN0aW9uVHlwZXNbXCJPTl9MT09QXCJdID0gXCJPTl9MT09QXCI7XG59KShBY3Rpb25UeXBlcyB8fCAoQWN0aW9uVHlwZXMgPSB7fSkpO1xuZnVuY3Rpb24gaW5pdFN0YXRlRnJvbUhvd2woaG93bCkge1xuICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNyYzogbnVsbCxcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGxvb3Bpbmc6IGZhbHNlLFxuICAgICAgZHVyYXRpb246IDAsXG4gICAgICByYXRlOiAxLFxuICAgICAgdm9sdW1lOiAxLFxuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgcGxheWluZzogZmFsc2UsXG4gICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgc3RvcHBlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbFxuICAgIH07XG4gIH1cbiAgdmFyIHBvc2l0aW9uID0gaG93bC5zZWVrKCk7XG4gIHZhciBwbGF5aW5nID0gaG93bC5wbGF5aW5nKCk7XG4gIHJldHVybiB7XG4gICAgaXNSZWFkeTogaG93bC5zdGF0ZSgpID09PSBcImxvYWRlZFwiLFxuICAgIGlzTG9hZGluZzogaG93bC5zdGF0ZSgpID09PSBcImxvYWRpbmdcIixcbiAgICAvLyBAdHMtaWdub3JlIF9zcmMgZXhpc3RzXG4gICAgc3JjOiBob3dsLl9zcmMsXG4gICAgbG9vcGluZzogaG93bC5sb29wKCksXG4gICAgZHVyYXRpb246IGhvd2wuZHVyYXRpb24oKSxcbiAgICByYXRlOiBob3dsLnJhdGUoKSxcbiAgICB2b2x1bWU6IGhvd2wudm9sdW1lKCksXG4gICAgbXV0ZWQ6IGhvd2wubXV0ZSgpLFxuICAgIHBsYXlpbmc6IHBsYXlpbmcsXG4gICAgcGF1c2VkOiAhcGxheWluZyxcbiAgICBzdG9wcGVkOiAhcGxheWluZyAmJiBwb3NpdGlvbiA9PT0gMCxcbiAgICBlcnJvcjogbnVsbFxuICB9O1xufVxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFjdGlvblR5cGVzLlNUQVJUX0xPQUQ6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIGluaXRTdGF0ZUZyb21Ib3dsKCksIHtcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICBjYXNlIEFjdGlvblR5cGVzLk9OX0xPQUQ6XG4gICAgICAvLyBpbiBSZWFjdCAxOCB0aGVyZSBpcyBhIHdlaXJkIHJhY2UgY29uZGl0aW9uIHdoZXJlIE9OX0xPQUQgcmVjZWl2ZXMgYSBIb3dsIG9iamVjdCB0aGF0IGhhcyBiZWVuIHVubG9hZGVkXG4gICAgICAvLyBpZiB3ZSBkZXRlY3QgdGhpcyBjYXNlIGp1c3QgcmV0dXJuIHRoZSBleGlzdGluZyBzdGF0ZSB0byB3YWl0IGZvciBhbm90aGVyIGFjdGlvblxuICAgICAgaWYgKGFjdGlvbi5ob3dsLnN0YXRlKCkgPT09IFwidW5sb2FkZWRcIikge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5pdFN0YXRlRnJvbUhvd2woYWN0aW9uLmhvd2wpO1xuICAgIGNhc2UgQWN0aW9uVHlwZXMuT05fRVJST1I6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIGluaXRTdGF0ZUZyb21Ib3dsKCksIHtcbiAgICAgICAgZXJyb3I6IGFjdGlvbi5tZXNzYWdlXG4gICAgICB9KTtcbiAgICBjYXNlIEFjdGlvblR5cGVzLk9OX1BMQVk6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHBsYXlpbmc6IHRydWUsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHN0b3BwZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICBjYXNlIEFjdGlvblR5cGVzLk9OX1BBVVNFOlxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICBwbGF5aW5nOiBmYWxzZSxcbiAgICAgICAgcGF1c2VkOiB0cnVlXG4gICAgICB9KTtcbiAgICBjYXNlIEFjdGlvblR5cGVzLk9OX1NUT1A6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICBwbGF5aW5nOiBmYWxzZSxcbiAgICAgICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgICAgIHN0b3BwZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5PTl9FTkQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICBwbGF5aW5nOiBzdGF0ZS5sb29waW5nLFxuICAgICAgICAgIHN0b3BwZWQ6ICFzdGF0ZS5sb29waW5nXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGNhc2UgQWN0aW9uVHlwZXMuT05fTVVURTpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9hY3Rpb24kaG93bCRtdXRlO1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgbXV0ZWQ6IChfYWN0aW9uJGhvd2wkbXV0ZSA9IGFjdGlvbi5ob3dsLm11dGUoKSkgIT09IG51bGwgJiYgX2FjdGlvbiRob3dsJG11dGUgIT09IHZvaWQgMCA/IF9hY3Rpb24kaG93bCRtdXRlIDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5PTl9SQVRFOlxuICAgICAge1xuICAgICAgICB2YXIgX2FjdGlvbiRob3dsJHJhdGUsIF9hY3Rpb24kaG93bDtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIHJhdGU6IChfYWN0aW9uJGhvd2wkcmF0ZSA9IChfYWN0aW9uJGhvd2wgPSBhY3Rpb24uaG93bCkgPT09IG51bGwgfHwgX2FjdGlvbiRob3dsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWN0aW9uJGhvd2wucmF0ZSgpKSAhPT0gbnVsbCAmJiBfYWN0aW9uJGhvd2wkcmF0ZSAhPT0gdm9pZCAwID8gX2FjdGlvbiRob3dsJHJhdGUgOiAxLjBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5PTl9WT0xVTUU6XG4gICAgICB7XG4gICAgICAgIHZhciBfYWN0aW9uJGhvd2wkdm9sdW1lLCBfYWN0aW9uJGhvd2wyO1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgdm9sdW1lOiAoX2FjdGlvbiRob3dsJHZvbHVtZSA9IChfYWN0aW9uJGhvd2wyID0gYWN0aW9uLmhvd2wpID09PSBudWxsIHx8IF9hY3Rpb24kaG93bDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hY3Rpb24kaG93bDIudm9sdW1lKCkpICE9PSBudWxsICYmIF9hY3Rpb24kaG93bCR2b2x1bWUgIT09IHZvaWQgMCA/IF9hY3Rpb24kaG93bCR2b2x1bWUgOiAxLjBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSBBY3Rpb25UeXBlcy5PTl9MT09QOlxuICAgICAge1xuICAgICAgICB2YXIgX2FjdGlvbiR0b2dnbGVWYWx1ZSA9IGFjdGlvbi50b2dnbGVWYWx1ZSxcbiAgICAgICAgICB0b2dnbGVWYWx1ZSA9IF9hY3Rpb24kdG9nZ2xlVmFsdWUgPT09IHZvaWQgMCA/IGZhbHNlIDogX2FjdGlvbiR0b2dnbGVWYWx1ZSxcbiAgICAgICAgICBob3dsID0gYWN0aW9uLmhvd2w7XG4gICAgICAgIGhvd2wubG9vcCh0b2dnbGVWYWx1ZSk7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICBsb29waW5nOiB0b2dnbGVWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUhvd2xFdmVudFN5bmMoaG93bE1hbmFnZXIsIF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZlswXSxcbiAgICBkaXNwYXRjaCA9IF9yZWZbMV07XG4gIHZhciBvbkxvYWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9OX0xPQUQsXG4gICAgICBob3dsOiBob3dsXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaCwgaG93bE1hbmFnZXJdKTtcbiAgdmFyIG9uRXJyb3IgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoXywgZXJyb3JDb2RlKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT05fRVJST1IsXG4gICAgICBtZXNzYWdlOiBlcnJvckNvZGVcbiAgICB9KTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG4gIHZhciBvblBsYXkgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5nZXRIb3dsKCk7XG4gICAgLy8gVE9ETyBzaW5jZSB0aGlzIGlzIHRoZSBzeW5jIGxheWVyIGkgc2hvdWxkIHJlYWxseSBleHRyYWN0IHRoZSBpbmZvIGZyb20gdGhlIGhvd2wgaGVyZSBhbmQgcGFzcyB0aGF0IGluIHdpdGggdGhlIGFjdGlvbiBwYXlsb2FkXG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9OX1BMQVksXG4gICAgICBob3dsOiBob3dsXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaCwgaG93bE1hbmFnZXJdKTtcbiAgdmFyIG9uUGF1c2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9OX1BBVVNFLFxuICAgICAgaG93bDogaG93bFxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2gsIGhvd2xNYW5hZ2VyXSk7XG4gIHZhciBvbkVuZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT05fRU5ELFxuICAgICAgaG93bDogaG93bFxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2gsIGhvd2xNYW5hZ2VyXSk7XG4gIHZhciBvblN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9OX1NUT1AsXG4gICAgICBob3dsOiBob3dsXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaCwgaG93bE1hbmFnZXJdKTtcbiAgdmFyIG9uTXV0ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT05fTVVURSxcbiAgICAgIGhvd2w6IGhvd2xcbiAgICB9KTtcbiAgfSwgW2Rpc3BhdGNoLCBob3dsTWFuYWdlcl0pO1xuICB2YXIgb25Wb2x1bWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9OX1ZPTFVNRSxcbiAgICAgIGhvd2w6IGhvd2xcbiAgICB9KTtcbiAgfSwgW2Rpc3BhdGNoLCBob3dsTWFuYWdlcl0pO1xuICB2YXIgb25SYXRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBob3dsID0gaG93bE1hbmFnZXIuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5PTl9SQVRFLFxuICAgICAgaG93bDogaG93bFxuICAgIH0pO1xuICB9LCBbZGlzcGF0Y2gsIGhvd2xNYW5hZ2VyXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBob3dsID0gaG93bE1hbmFnZXIuZ2V0SG93bCgpO1xuICAgICAgLy8gaG93bD8ub2ZmKFwibG9hZFwiLCBvbkxvYWQpXG4gICAgICBob3dsID09PSBudWxsIHx8IGhvd2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvd2wub2ZmKFwibG9hZGVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgaG93bCA9PT0gbnVsbCB8fCBob3dsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3dsLm9mZihcInBsYXllcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGhvd2wgPT09IG51bGwgfHwgaG93bCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG93bC5vZmYoXCJwbGF5XCIsIG9uUGxheSk7XG4gICAgICBob3dsID09PSBudWxsIHx8IGhvd2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvd2wub2ZmKFwicGF1c2VcIiwgb25QYXVzZSk7XG4gICAgICBob3dsID09PSBudWxsIHx8IGhvd2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvd2wub2ZmKFwiZW5kXCIsIG9uRW5kKTtcbiAgICAgIGhvd2wgPT09IG51bGwgfHwgaG93bCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG93bC5vZmYoXCJzdG9wXCIsIG9uU3RvcCk7XG4gICAgICBob3dsID09PSBudWxsIHx8IGhvd2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvd2wub2ZmKFwibXV0ZVwiLCBvbk11dGUpO1xuICAgICAgaG93bCA9PT0gbnVsbCB8fCBob3dsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3dsLm9mZihcInZvbHVtZVwiLCBvblZvbHVtZSk7XG4gICAgICBob3dsID09PSBudWxsIHx8IGhvd2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvd2wub2ZmKFwicmF0ZVwiLCBvblJhdGUpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgLy8gdXNpbmcgcmVmIGJjIHdlIGRvbid0IHdhbnQgaWRlbnRpdHkgb2YgZGlzcGF0Y2ggZnVuY3Rpb24gdG8gY2hhbmdlXG4gIC8vIHNlZSB0YWxrOiBodHRwczovL3lvdXR1LmJlL25VekxsSEZWWHgwP3Q9MTU1OFxuICB2YXIgd3JhcHBlZERpc3BhdGNoID0gdXNlUmVmKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLlNUQVJUX0xPQUQpIHtcbiAgICAgIHZhciBob3dsID0gYWN0aW9uLmhvd2w7XG4gICAgICAvLyBzZXQgdXAgZXZlbnQgbGlzdGVuaW5nXG4gICAgICBob3dsLm9uY2UoXCJsb2FkXCIsIG9uTG9hZCk7XG4gICAgICBob3dsLm9uKFwibG9hZGVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgaG93bC5vbihcInBsYXllcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGhvd2wub24oXCJwbGF5XCIsIG9uUGxheSk7XG4gICAgICBob3dsLm9uKFwicGF1c2VcIiwgb25QYXVzZSk7XG4gICAgICBob3dsLm9uKFwiZW5kXCIsIG9uRW5kKTtcbiAgICAgIGhvd2wub24oXCJzdG9wXCIsIG9uU3RvcCk7XG4gICAgICBob3dsLm9uKFwibXV0ZVwiLCBvbk11dGUpO1xuICAgICAgaG93bC5vbihcInZvbHVtZVwiLCBvblZvbHVtZSk7XG4gICAgICBob3dsLm9uKFwicmF0ZVwiLCBvblJhdGUpO1xuICAgIH1cbiAgICBkaXNwYXRjaChhY3Rpb24pO1xuICB9KTtcbiAgcmV0dXJuIFtzdGF0ZSwgd3JhcHBlZERpc3BhdGNoLmN1cnJlbnRdO1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wiaW5pdGlhbFZvbHVtZVwiLCBcImluaXRpYWxSYXRlXCIsIFwiaW5pdGlhbE11dGVcIl07XG52YXIgSG93bEluc3RhbmNlTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhvd2xJbnN0YW5jZU1hbmFnZXIoKSB7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5ob3dsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3B0aW9ucyA9IHt9O1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uSW5kZXggPSAwO1xuICB9XG4gIHZhciBfcHJvdG8gPSBIb3dsSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZTtcbiAgX3Byb3RvLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZShjYikge1xuICAgIHZhciBpZCA9ICh0aGlzLnN1YnNjcmlwdGlvbkluZGV4KyspLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5jYWxsYmFja3Muc2V0KGlkLCBjYik7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuICBfcHJvdG8udW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB1bnN1YnNjcmliZShzdWJzY3JpcHRpb25JZCkge1xuICAgIHRoaXMuY2FsbGJhY2tzW1wiZGVsZXRlXCJdKHN1YnNjcmlwdGlvbklkKTtcbiAgfTtcbiAgX3Byb3RvLmdldEhvd2wgPSBmdW5jdGlvbiBnZXRIb3dsKCkge1xuICAgIHJldHVybiB0aGlzLmhvd2w7XG4gIH07XG4gIF9wcm90by5nZXROdW1iZXJPZkNvbm5lY3Rpb25zID0gZnVuY3Rpb24gZ2V0TnVtYmVyT2ZDb25uZWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFja3Muc2l6ZTtcbiAgfTtcbiAgX3Byb3RvLmNyZWF0ZUhvd2wgPSBmdW5jdGlvbiBjcmVhdGVIb3dsKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRlc3Ryb3lIb3dsKCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB2YXIgX3RoaXMkb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGluaXRpYWxWb2x1bWUgPSBfdGhpcyRvcHRpb25zLmluaXRpYWxWb2x1bWUsXG4gICAgICBpbml0aWFsUmF0ZSA9IF90aGlzJG9wdGlvbnMuaW5pdGlhbFJhdGUsXG4gICAgICBpbml0aWFsTXV0ZSA9IF90aGlzJG9wdGlvbnMuaW5pdGlhbE11dGUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkb3B0aW9ucywgX2V4Y2x1ZGVkKTtcbiAgICB2YXIgbmV3SG93bCA9IG5ldyBIb3dsKF9leHRlbmRzKHtcbiAgICAgIG11dGU6IGluaXRpYWxNdXRlLFxuICAgICAgdm9sdW1lOiBpbml0aWFsVm9sdW1lLFxuICAgICAgcmF0ZTogaW5pdGlhbFJhdGVcbiAgICB9LCByZXN0KSk7XG4gICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHJldHVybiBjYih7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlNUQVJUX0xPQUQsXG4gICAgICAgIGhvd2w6IG5ld0hvd2xcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuaG93bCA9IG5ld0hvd2w7XG4gICAgcmV0dXJuIG5ld0hvd2w7XG4gIH07XG4gIF9wcm90by5kZXN0cm95SG93bCA9IGZ1bmN0aW9uIGRlc3Ryb3lIb3dsKCkge1xuICAgIHZhciBfdGhpcyRob3dsNjtcbiAgICBpZiAodGhpcy5vcHRpb25zLm9ubG9hZCkge1xuICAgICAgdmFyIF90aGlzJGhvd2w7XG4gICAgICAoX3RoaXMkaG93bCA9IHRoaXMuaG93bCkgPT09IG51bGwgfHwgX3RoaXMkaG93bCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaG93bC5vZmYoXCJsb2FkXCIsIHRoaXMub3B0aW9ucy5vbmxvYWQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLm9uZW5kKSB7XG4gICAgICB2YXIgX3RoaXMkaG93bDI7XG4gICAgICAoX3RoaXMkaG93bDIgPSB0aGlzLmhvd2wpID09PSBudWxsIHx8IF90aGlzJGhvd2wyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRob3dsMi5vZmYoXCJlbmRcIiwgdGhpcy5vcHRpb25zLm9uZW5kKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5vbnBsYXkpIHtcbiAgICAgIHZhciBfdGhpcyRob3dsMztcbiAgICAgIChfdGhpcyRob3dsMyA9IHRoaXMuaG93bCkgPT09IG51bGwgfHwgX3RoaXMkaG93bDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGhvd2wzLm9mZihcInBsYXlcIiwgdGhpcy5vcHRpb25zLm9ucGxheSk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMub25wYXVzZSkge1xuICAgICAgdmFyIF90aGlzJGhvd2w0O1xuICAgICAgKF90aGlzJGhvd2w0ID0gdGhpcy5ob3dsKSA9PT0gbnVsbCB8fCBfdGhpcyRob3dsNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaG93bDQub2ZmKFwicGF1c2VcIiwgdGhpcy5vcHRpb25zLm9ucGF1c2UpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLm9uc3RvcCkge1xuICAgICAgdmFyIF90aGlzJGhvd2w1O1xuICAgICAgKF90aGlzJGhvd2w1ID0gdGhpcy5ob3dsKSA9PT0gbnVsbCB8fCBfdGhpcyRob3dsNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaG93bDUub2ZmKFwic3RvcFwiLCB0aGlzLm9wdGlvbnMub25zdG9wKTtcbiAgICB9XG4gICAgKF90aGlzJGhvd2w2ID0gdGhpcy5ob3dsKSA9PT0gbnVsbCB8fCBfdGhpcyRob3dsNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaG93bDYudW5sb2FkKCk7XG4gIH07XG4gIF9wcm90by5icm9hZGNhc3QgPSBmdW5jdGlvbiBicm9hZGNhc3QoYWN0aW9uKSB7XG4gICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHJldHVybiBjYihhY3Rpb24pO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gSG93bEluc3RhbmNlTWFuYWdlcjtcbn0oKTtcbnZhciBIb3dsSW5zdGFuY2VNYW5hZ2VyU2luZ2xldG9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSG93bEluc3RhbmNlTWFuYWdlclNpbmdsZXRvbigpIHt9XG4gIEhvd2xJbnN0YW5jZU1hbmFnZXJTaW5nbGV0b24uZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBIb3dsSW5zdGFuY2VNYW5hZ2VyU2luZ2xldG9uLmluc3RhbmNlID0gbmV3IEhvd2xJbnN0YW5jZU1hbmFnZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEhvd2xJbnN0YW5jZU1hbmFnZXJTaW5nbGV0b24uaW5zdGFuY2U7XG4gIH07XG4gIHJldHVybiBIb3dsSW5zdGFuY2VNYW5hZ2VyU2luZ2xldG9uO1xufSgpO1xuSG93bEluc3RhbmNlTWFuYWdlclNpbmdsZXRvbi5pbnN0YW5jZSA9IHZvaWQgMDtcblxudmFyIHVzZUF1ZGlvUGxheWVyID0gZnVuY3Rpb24gdXNlQXVkaW9QbGF5ZXIoKSB7XG4gIHZhciBob3dsTWFuYWdlciA9IHVzZVJlZihudWxsKTtcbiAgZnVuY3Rpb24gZ2V0SG93bE1hbmFnZXIoKSB7XG4gICAgaWYgKGhvd2xNYW5hZ2VyLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBob3dsTWFuYWdlci5jdXJyZW50O1xuICAgIH1cbiAgICB2YXIgbWFuYWdlciA9IG5ldyBIb3dsSW5zdGFuY2VNYW5hZ2VyKCk7XG4gICAgaG93bE1hbmFnZXIuY3VycmVudCA9IG1hbmFnZXI7XG4gICAgcmV0dXJuIG1hbmFnZXI7XG4gIH1cbiAgdmFyIF91c2VIb3dsRXZlbnRTeW5jID0gdXNlSG93bEV2ZW50U3luYyhnZXRIb3dsTWFuYWdlcigpLCB1c2VSZWR1Y2VyKHJlZHVjZXIsIGdldEhvd2xNYW5hZ2VyKCkuZ2V0SG93bCgpLCBpbml0U3RhdGVGcm9tSG93bCkpLFxuICAgIHN0YXRlID0gX3VzZUhvd2xFdmVudFN5bmNbMF0sXG4gICAgZGlzcGF0Y2ggPSBfdXNlSG93bEV2ZW50U3luY1sxXTtcbiAgdmFyIGxvYWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9yZWYgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfcmVmW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICB2YXIgc3JjID0gX3JlZlswXSxcbiAgICAgIF9yZWYkID0gX3JlZlsxXSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmJCA9PT0gdm9pZCAwID8ge30gOiBfcmVmJDtcbiAgICAvLyBUT0RPIGludmVzdGlnYXRlOiBpZiB3ZSB0cnkgdG8gYXZvaWQgbG9hZGluZyB0aGUgc2FtZSBzb3VuZCAoZXhpc3RpbmcgaG93bCAmIHNhbWUgc3JjIGluIGNhbGwpXG4gICAgLy8gdGhlbiB0aGVyZSBhcmUgc29tZSBidWdzIGxpa2UgaW4gdGhlIE11bHRpcGxlU291bmRzIGRlbW8sIHRoZSBcInBsYXlcIiBidXR0b24gd2lsbCBub3Qgc3dpdGNoIHRvIFwicGF1c2VcIlxuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5jcmVhdGVIb3dsKF9leHRlbmRzKHtcbiAgICAgIHNyYzogc3JjXG4gICAgfSwgb3B0aW9ucykpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlNUQVJUX0xPQUQsXG4gICAgICBob3dsOiBob3dsXG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdmFyIHNlZWsgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLnNlZWsoc2Vjb25kcyk7XG4gIH0sIFtdKTtcbiAgdmFyIGdldFBvc2l0aW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBfaG93bCRzZWVrO1xuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAoX2hvd2wkc2VlayA9IGhvd2wuc2VlaygpKSAhPT0gbnVsbCAmJiBfaG93bCRzZWVrICE9PSB2b2lkIDAgPyBfaG93bCRzZWVrIDogMDtcbiAgfSwgW10pO1xuICB2YXIgcGxheSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG93bCA9IGdldEhvd2xNYW5hZ2VyKCkuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG93bC5wbGF5KCk7XG4gIH0sIFtdKTtcbiAgdmFyIHBhdXNlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLnBhdXNlKCk7XG4gIH0sIFtdKTtcbiAgdmFyIHRvZ2dsZVBsYXlQYXVzZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG93bCA9IGdldEhvd2xNYW5hZ2VyKCkuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnBsYXlpbmcpIHtcbiAgICAgIGhvd2wucGF1c2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG93bC5wbGF5KCk7XG4gICAgfVxuICB9LCBbc3RhdGVdKTtcbiAgdmFyIHN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBnZXRIb3dsTWFuYWdlcigpLmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhvd2wuc3RvcCgpO1xuICB9LCBbXSk7XG4gIHZhciBmYWRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGZyb20sIHRvLCBkdXJhdGlvbikge1xuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLmZhZGUoZnJvbSwgdG8sIGR1cmF0aW9uKTtcbiAgfSwgW10pO1xuICB2YXIgc2V0UmF0ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzcGVlZCkge1xuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLnJhdGUoc3BlZWQpO1xuICB9LCBbXSk7XG4gIHZhciBzZXRWb2x1bWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAodm9sKSB7XG4gICAgdmFyIGhvd2wgPSBnZXRIb3dsTWFuYWdlcigpLmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhvd2wudm9sdW1lKHZvbCk7XG4gIH0sIFtdKTtcbiAgdmFyIG11dGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobXV0ZU9uT2ZmKSB7XG4gICAgdmFyIGhvd2wgPSBnZXRIb3dsTWFuYWdlcigpLmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhvd2wubXV0ZShtdXRlT25PZmYpO1xuICB9LCBbXSk7XG4gIHZhciBsb29wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGxvb3BPbk9mZikge1xuICAgIHZhciBob3dsID0gZ2V0SG93bE1hbmFnZXIoKS5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0aGlzIGRpZmZlcnMgZnJvbSB0aGUgaW1wbGVtZW50YXRpb24gaW4gdXNlR2xvYmFsQXVkaW9QbGF5ZXIgd2hpY2ggbmVlZHMgdG8gYnJvYWRjYXN0IHRoZSBhY3Rpb24gdG8gaXRzZWxmIGFuZCBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBob29rXG4gICAgLy8gbWF5YmUgdGhlc2UgdHdvIGJlaGF2aW9ycyBjb3VsZCBiZSBhYnN0cmFjdGVkIHdpdGggb25lIGludGVyZmFjZSBpbiB0aGUgZnV0dXJlXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT05fTE9PUCxcbiAgICAgIGhvd2w6IGhvd2wsXG4gICAgICB0b2dnbGVWYWx1ZTogbG9vcE9uT2ZmXG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdmFyIGNsZWFudXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9nZXRIb3dsTWFuYWdlcjtcbiAgICAoX2dldEhvd2xNYW5hZ2VyID0gZ2V0SG93bE1hbmFnZXIoKSkgPT09IG51bGwgfHwgX2dldEhvd2xNYW5hZ2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2V0SG93bE1hbmFnZXIuZGVzdHJveUhvd2woKTtcbiAgfSwgW10pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgbG9hZDogbG9hZCxcbiAgICBzZWVrOiBzZWVrLFxuICAgIGdldFBvc2l0aW9uOiBnZXRQb3NpdGlvbixcbiAgICBwbGF5OiBwbGF5LFxuICAgIHBhdXNlOiBwYXVzZSxcbiAgICB0b2dnbGVQbGF5UGF1c2U6IHRvZ2dsZVBsYXlQYXVzZSxcbiAgICBzdG9wOiBzdG9wLFxuICAgIG11dGU6IG11dGUsXG4gICAgZmFkZTogZmFkZSxcbiAgICBzZXRSYXRlOiBzZXRSYXRlLFxuICAgIHNldFZvbHVtZTogc2V0Vm9sdW1lLFxuICAgIGxvb3A6IGxvb3AsXG4gICAgY2xlYW51cDogY2xlYW51cFxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHVzZUdsb2JhbEF1ZGlvUGxheWVyKCkge1xuICB2YXIgaG93bE1hbmFnZXIgPSB1c2VSZWYoSG93bEluc3RhbmNlTWFuYWdlclNpbmdsZXRvbi5nZXRJbnN0YW5jZSgpKTtcbiAgdmFyIF91c2VIb3dsRXZlbnRTeW5jID0gdXNlSG93bEV2ZW50U3luYyhob3dsTWFuYWdlci5jdXJyZW50LCB1c2VSZWR1Y2VyKHJlZHVjZXIsIGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpLCBpbml0U3RhdGVGcm9tSG93bCkpLFxuICAgIHN0YXRlID0gX3VzZUhvd2xFdmVudFN5bmNbMF0sXG4gICAgZGlzcGF0Y2ggPSBfdXNlSG93bEV2ZW50U3luY1sxXTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG93bE9uTW91bnQgPSBob3dsTWFuYWdlci5jdXJyZW50LmdldEhvd2woKTtcbiAgICBpZiAoaG93bE9uTW91bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5TVEFSVF9MT0FELFxuICAgICAgICBob3dsOiBob3dsT25Nb3VudFxuICAgICAgfSk7XG4gICAgICBpZiAoaG93bE9uTW91bnQuc3RhdGUoKSA9PT0gXCJsb2FkZWRcIikge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT05fTE9BRCxcbiAgICAgICAgICBob3dsOiBob3dsT25Nb3VudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3luYyhhY3Rpb24pIHtcbiAgICAgIGRpc3BhdGNoKGFjdGlvbik7XG4gICAgfVxuICAgIHZhciBzdWJzY3JpcHRpb25JZCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuc3Vic2NyaWJlKHN5bmMpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBob3dsTWFuYWdlci5jdXJyZW50LnVuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbklkKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBsb2FkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfcmVmID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgX3JlZltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgdmFyIHNyYyA9IF9yZWZbMF0sXG4gICAgICBfcmVmJCA9IF9yZWZbMV0sXG4gICAgICBvcHRpb25zID0gX3JlZiQgPT09IHZvaWQgMCA/IHt9IDogX3JlZiQ7XG4gICAgLy8gdGhlIEhvd2xJbnN0YW5jZU1hbmFnZXIgd2lsbCBpbnRlcmNlcHQgdGhpcyBuZXdseSBjcmVhdGVkIGhvd2wgYW5kIGJyb2FkY2FzdCBpdCB0byByZWdpc3RlcmVkIGhvb2tzXG4gICAgaG93bE1hbmFnZXIuY3VycmVudC5jcmVhdGVIb3dsKF9leHRlbmRzKHtcbiAgICAgIHNyYzogc3JjXG4gICAgfSwgb3B0aW9ucykpO1xuICB9LCBbXSk7XG4gIHZhciBzZWVrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG93bC5zZWVrKHNlY29uZHMpO1xuICB9LCBbXSk7XG4gIHZhciBnZXRQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2hvd2wkc2VlaztcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gKF9ob3dsJHNlZWsgPSBob3dsLnNlZWsoKSkgIT09IG51bGwgJiYgX2hvd2wkc2VlayAhPT0gdm9pZCAwID8gX2hvd2wkc2VlayA6IDA7XG4gIH0sIFtdKTtcbiAgdmFyIHBsYXkgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5jdXJyZW50LmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhvd2wucGxheSgpO1xuICB9LCBbXSk7XG4gIHZhciBwYXVzZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG93bC5wYXVzZSgpO1xuICB9LCBbXSk7XG4gIHZhciB0b2dnbGVQbGF5UGF1c2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvd2wgPSBob3dsTWFuYWdlci5jdXJyZW50LmdldEhvd2woKTtcbiAgICBpZiAoaG93bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzdGF0ZS5wbGF5aW5nKSB7XG4gICAgICBob3dsLnBhdXNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvd2wucGxheSgpO1xuICAgIH1cbiAgfSwgW3N0YXRlXSk7XG4gIHZhciBzdG9wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBob3dsID0gaG93bE1hbmFnZXIuY3VycmVudC5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLnN0b3AoKTtcbiAgfSwgW10pO1xuICB2YXIgZmFkZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChmcm9tLCB0bywgZHVyYXRpb24pIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG93bC5mYWRlKGZyb20sIHRvLCBkdXJhdGlvbik7XG4gIH0sIFtdKTtcbiAgdmFyIHNldFJhdGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3BlZWQpIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG93bC5yYXRlKHNwZWVkKTtcbiAgfSwgW10pO1xuICB2YXIgc2V0Vm9sdW1lID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHZvbCkge1xuICAgIHZhciBob3dsID0gaG93bE1hbmFnZXIuY3VycmVudC5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLnZvbHVtZSh2b2wpO1xuICB9LCBbXSk7XG4gIHZhciBtdXRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG11dGVPbk9mZikge1xuICAgIHZhciBob3dsID0gaG93bE1hbmFnZXIuY3VycmVudC5nZXRIb3dsKCk7XG4gICAgaWYgKGhvd2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBob3dsLm11dGUobXV0ZU9uT2ZmKTtcbiAgfSwgW10pO1xuICB2YXIgbG9vcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChsb29wT25PZmYpIHtcbiAgICB2YXIgaG93bCA9IGhvd2xNYW5hZ2VyLmN1cnJlbnQuZ2V0SG93bCgpO1xuICAgIGlmIChob3dsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG93bE1hbmFnZXIuY3VycmVudC5icm9hZGNhc3Qoe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT05fTE9PUCxcbiAgICAgIGhvd2w6IGhvd2wsXG4gICAgICB0b2dnbGVWYWx1ZTogbG9vcE9uT2ZmXG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIGxvYWQ6IGxvYWQsXG4gICAgc2Vlazogc2VlayxcbiAgICBnZXRQb3NpdGlvbjogZ2V0UG9zaXRpb24sXG4gICAgcGxheTogcGxheSxcbiAgICBwYXVzZTogcGF1c2UsXG4gICAgdG9nZ2xlUGxheVBhdXNlOiB0b2dnbGVQbGF5UGF1c2UsXG4gICAgc3RvcDogc3RvcCxcbiAgICBtdXRlOiBtdXRlLFxuICAgIGZhZGU6IGZhZGUsXG4gICAgc2V0UmF0ZTogc2V0UmF0ZSxcbiAgICBzZXRWb2x1bWU6IHNldFZvbHVtZSxcbiAgICBsb29wOiBsb29wXG4gIH0pO1xufVxuXG5leHBvcnQgeyB1c2VBdWRpb1BsYXllciwgdXNlR2xvYmFsQXVkaW9QbGF5ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXVzZS1hdWRpby1wbGF5ZXIuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-use-audio-player/dist/react-use-audio-player.esm.js\n");

/***/ })

};
;