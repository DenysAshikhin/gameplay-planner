(()=>{var e={};e.id=1860,e.ids=[1860],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},39754:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d});var l=i(67096),n=i(16132),s=i(37284),r=i.n(s),a=i(32564),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);i.d(t,o);let d=["",{children:["expeditions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,16388)),"C:\\Users\\denys\\Documents\\GitHub\\gameplay-planner\\src\\app\\expeditions\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,43537)),"C:\\Users\\denys\\Documents\\GitHub\\gameplay-planner\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\denys\\Documents\\GitHub\\gameplay-planner\\src\\app\\expeditions\\page.js"],p="/expeditions/page",x={require:i,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/expeditions/page",pathname:"/expeditions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45467:(e,t,i)=>{Promise.resolve().then(i.bind(i,83403))},71298:(e,t)=>{"use strict";function NoopHead(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return NoopHead}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83403:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Expeditions});var l=i(30784),n=i(52451),s=i.n(n),r=i(9885),a=i(35877),o=i.n(a),d=i(13937);i(18219);var c=i(17586);i(23997);var p=i(5492),x=i(65438),h=i(51023);let filterBonuses=(e,t)=>e.filter(t);function PetItemCoin_PetItem({petData:e,isSelected:t,onClick:i,data:n,weightMap:r,petScoreFn:a,defaultRank:o,borderActive:d,enabledBonusHighlight:u,fullPetData:m,showNameOnly:g,grayBackground:f,circleBorder:b}){if(!1==!!n)return l.jsx("div",{});let{petId:y,location:v,img:j,name:w}=e,C=n.PetsCollection.find(e=>e.ID===y);if(!C)return null;let I=o||C.Rank,k=C.Level,D=Number(Number(n?.PetDamageBonuses)*C.BaseDungeonDamage*(1+.05*I)*5).toExponential(2);a&&a(C);let T=l.jsx("ul",{style:{margin:"0 0 0 0"},children:filterBonuses(C.BonusList,e=>e.ID<1e3).map((e,t)=>{let i=h.Z.calcEquipBonus(C,e);return(0,l.jsxs)("li",{children:[c.bO[e.ID]?.label,": ",i.toExponential(2)]},t)})}),S=l.jsx("ul",{style:{margin:"0 0 0 0"},children:filterBonuses(C.BonusList,e=>e.ID>=1e3&&e.ID<5e3).map((e,t)=>(0,l.jsxs)("li",{children:[c.bO[e.ID]?.label,": ",Number(e.Power).toExponential(2)]},t))}),N=[];if(u)for(let[e,t]of Object.entries(u))t&&m.BonusList.find(t=>t.ID===Number(e))&&N.push(e);let P={Niord:"65px",Cocorico:"63px",Apollo:"60px",Abby:"60px"},B="";return b&&(B=P[w]?P[w]:"75px"),(0,l.jsxs)(x.Z,{tooltip:(0,l.jsxs)("div",{className:"tooltip-custom ",children:[(0,l.jsxs)("h3",{style:{marginTop:"0"},children:[(0,l.jsxs)("div",{children:[w,"  (",D,")"]}),(0,l.jsxs)("div",{children:["(Level: ",k,") (Rank: ",C.Rank,")  (",v,")"]})]}),(0,l.jsxs)("div",{children:[l.jsx("h4",{style:{margin:"6px 0 6px 0"},children:"Active Bonuses"}),T]}),(0,l.jsxs)("div",{children:[l.jsx("h4",{style:{margin:"6px 0 6px 0"},children:"Expedition Bonuses:"}),S]})]}),children:[!g&&l.jsx("div",{style:b?{borderRadius:"45px",border:"2px solid black",overflow:"hidden",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"}:{},children:l.jsx("div",{onClick:i,style:{display:"flex"},className:`item-tile${1===C.Type?"-ground ":"-air "} ${t?"":"unselected"}`,children:(0,l.jsxs)("div",{className:"item-image-container",style:{outline:d?"white 4px solid":"",position:"relative",display:"flex",justifyContent:"center",maxHeight:B,maxWidth:B},children:[N.map((e,t)=>l.jsx("div",{style:{background:p.Z.bonusColorMap[e].color,position:"absolute",top:"0%",left:`${100/N.length*t}%`,height:"100%",width:`${100/N.length}%`,zIndex:1}},t)),l.jsx(s(),{alt:`in game image of ${w}`,src:j,className:b?"":"item-image",style:{zIndex:"2",objectFit:"contain",maxHeight:b?B:"",maxWidth:b?B:"",height:"60px",width:"auto"},unoptimized:!0,priority:!0})]})},y)}),g&&l.jsx("div",{style:{width:"100%",backgroundColor:"",textDecoration:f?"line-through ":"",fontSize:"19px"},children:`(${1===C.Type?"Ground":"Air"}) ${w}`})]})}i(72396);let PetItem_filterBonuses=(e,t)=>e.filter(t),expeditions_PetItem=({petData:e,isSelected:t,onClick:i,data:n,weightMap:r,petScoreFn:a,defaultRank:o,borderActive:d,enabledBonusHighlight:u,fullPetData:m,showNameOnly:g,grayBackground:f,circleBorder:b,manualForce:y})=>{if(!1==!!n)return l.jsx("div",{});let{petId:v,location:j,img:w,name:C}=e,I=n.PetsCollection.find(e=>e.ID===v);if(!I)return null;let k=I.Rank,D=I.Level,T=Number(Number(n?.PetDamageBonuses)*I.BaseDungeonDamage*(1+.05*k)*5).toExponential(2);a&&a(I);let S=l.jsx("ul",{style:{margin:"0 0 0 0"},children:PetItem_filterBonuses(I.BonusList,e=>e.ID<1e3).map((e,t)=>{let i=h.Z.calcEquipBonus(I,e);return(0,l.jsxs)("li",{children:[c.bO[e.ID]?.label,": ",i.toExponential(2)]},t)})}),N=l.jsx("ul",{style:{margin:"0 0 0 0"},children:PetItem_filterBonuses(I.BonusList,e=>e.ID>=1e3&&e.ID<5e3).map((e,t)=>(0,l.jsxs)("li",{children:[c.bO[e.ID]?.label,": ",Number(e.Power).toExponential(2)]},t))}),P=[];if(u)for(let[e,t]of Object.entries(u))t&&m.BonusList.find(t=>t.ID===Number(e))&&P.push(e);let B={Niord:"65px",Cocorico:"63px",Apollo:"60px",Abby:"60px"},Z="";return b&&(Z=B[C]?B[C]:"75px"),(0,l.jsxs)(x.Z,{tooltip:(0,l.jsxs)("div",{className:"tooltip-custom ",children:[(0,l.jsxs)("h3",{style:{marginTop:"0"},children:[(0,l.jsxs)("div",{children:[C,"  (",T,")"]}),(0,l.jsxs)("div",{children:["(Level: ",D,") (Rank: ",I.Rank,")  (",j,")"]})]}),(0,l.jsxs)("div",{children:[l.jsx("h4",{style:{margin:"6px 0 6px 0"},children:"Active Bonuses"}),S]}),(0,l.jsxs)("div",{children:[l.jsx("h4",{style:{margin:"6px 0 6px 0"},children:"Expedition Bonuses:"}),N]})]}),children:[!g&&l.jsx("div",{style:b?{borderRadius:"45px",border:`2px solid ${t?"rgba(107, 218,105,0.7)":"rgba(218, 53, 34,0.7)"} `,borderLeft:y?"2px solid yellow":`2px solid ${t?"rgba(107, 218,105,0.7)":"rgba(218, 53, 34,0.7)"} `,borderRight:y?"2px solid yellow":`2px solid ${t?"rgba(107, 218,105,0.7)":"rgba(218, 53, 34,0.7)"} `,backgroundColor:"rgba(255,255,255,0.08)",overflow:"hidden",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"}:{},children:l.jsx("div",{onClick:i,style:{display:"flex"},className:`${t?"":"unselected"}`,children:(0,l.jsxs)("div",{className:"item-image-container",style:{border:d?"black 1px solid":"",position:"relative",display:"flex",justifyContent:"center",maxHeight:Z,maxWidth:Z},children:[P.map((e,t)=>l.jsx("div",{style:{background:p.Z.bonusColorMap[e].color,position:"absolute",top:"0%",left:`${100/P.length*t}%`,height:"100%",width:`${100/P.length}%`,zIndex:1}},t)),l.jsx("div",{style:{zIndex:"2",objectFit:"contain",position:"relative",width:"70px",height:"70px",maxHeight:b?Z:"70px",maxWidth:b?Z:"70px"},children:l.jsx(s(),{style:{objectFit:"scale-down"},fill:!0,alt:`in game image of ${C}`,src:w,unoptimized:!0})})]})},v)}),g&&l.jsx("div",{style:{width:"100%",backgroundColor:f?"lightgray":""},children:`(${1===I.Type?"Ground":"Air"}) ${C}`})]})},ItemSelection_copy=({selectedItems:e,onItemSelected:t,data:i,weightMap:n,defaultRank:s,showLocked:r,manualEnabledPets:a,originalPets:o})=>{let isSelected=t=>e.includes(t),handleItemClick=i=>{isSelected(i)?t(e.filter(e=>e!==i)):t([...e,i])},d=[...c._Q];d.splice(d.length-1);let p=d[d.length-1].petId;for(let e=p-1;e<i.PetsCollection.length;e++)if(i.PetsCollection[e].ID>p){let t={...c.ur[9999],petId:i.PetsCollection[e].ID};d.push(t)}return r||(d=d.filter(t=>e.includes(t.petId)&&0!==a[t.petId]||1===a[t.petId])),d=d.sort((e,t)=>{let i=e.location,l=t.location;if(i.includes("E")){if(!l.includes("E"))return 1;{let e=3===i.length?Number(i[1]):Number(i[1]+i[2]),t=3===l.length?Number(l[1]):Number(l[1]+l[2]);return e===t?i[2].localeCompare(l[2]):e-t}}if(!l.includes("E"))return Number(10*i[0]+i[2])-Number(10*l[0]+l[2]);if(!i.includes("E"))return -1;{let e=i[1],t=l[1];if(e!==t)return e-t;throw Error("uncaught case for sorting")}}),l.jsx("div",{style:{overflowY:"auto",height:"calc(100% - 56px)",backgroundColor:"rgba(255,255,255,0.05)",display:"flex",flexWrap:"wrap",alignContent:"flex-start",flex:"1"},children:d.map(e=>{let{petId:t}=e,r=isSelected(t),d=!1,c=o.find(e=>e.ID===t);return 1!==a[t]||c?c&&0===a[t]&&(d=!0):d=!0,l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"12px auto 0 auto",maxHeight:"84px"},children:l.jsx("div",{style:{margin:"0 3px"},children:l.jsx(expeditions_PetItem,{petData:e,data:i,isSelected:r,onClick:()=>handleItemClick(t),weightMap:n,defaultRank:s,circleBorder:!0,manualForce:d})})},t)})})};var u=i(71187);let m={src:"/_next/static/media/pin-line-icon.44c42cce.svg",height:121,width:123,blurWidth:0,blurHeight:0},g={src:"/_next/static/media/trash-can-icon.c6bfd913.svg",height:123,width:108,blurWidth:0,blurHeight:0},f={src:"/_next/static/media/info.ac8a0f64.svg",height:123,width:123,blurWidth:0,blurHeight:0};i(35530);let b={src:"/_next/static/media/info_red_thick.019c5817.svg",height:123,width:123,blurWidth:0,blurHeight:0},y={src:"/_next/static/media/info_green_thick.bf10a18b.svg",height:123,width:123,blurWidth:0,blurHeight:0},v={src:"/_next/static/media/info_amber.47d23fc4.svg",height:123,width:123,blurWidth:0,blurHeight:0};var j=i(3779),w=i(4837),C=i(27428),I=i(88329);i(71298),j.ZP.initialize([{trackingId:"G-GGLPK02VH8"}]);let k={},D=c._Q.map(e=>e.petId);function ScoreSection({data:e,group:t,totalScore:i,defaultRank:n}){let{baseGroupScore:s,groupScoreMax:r,dmgCount:a,timeCount:o,synergyBonus:d,groupScore:c}=h.Z.calculateGroupScore(t,n),p=(5*c*e.PetDamageBonuses).toExponential(2);return l.jsx(l.Fragment,{children:(0,l.jsxs)("ul",{children:[l.jsx("li",{children:`Rank 1 Damage: ${p}`},"totalScore"),(0,l.jsxs)("li",{children:["Group Base: ",Number(s).toExponential(2)]},"baseGroupScore"),(0,l.jsxs)("li",{children:["Dmg Bonus: ",Number(1+a*h.Z.EXP_DMG_MOD).toFixed(2),"x"]},"damageBonus"),(0,l.jsxs)("li",{children:["Time Bonus: ",Number(1+o*h.Z.EXP_TIME_MOD).toFixed(2),"x"]},"timeBonus"),(0,l.jsxs)("li",{children:["Synergy: ",Number(d).toFixed(2),"x"]},"synergyBonus"),(0,l.jsxs)("li",{children:["PetDmgMod: ",Number(e?.PetDamageBonuses).toExponential(2)]},"petDamageBonus")]})})}function Expeditions(){let[e,t]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t(d.isMobile),d.isMobile&&setTimeout(()=>{var e=document.querySelector('meta[name="viewport"]');e&&(e.content="initial-scale=0.1",e.content="width=1200")},500)},[d.isMobile]);let[i,n]=o()("userData",C),[a,T]=(0,r.useState)(C),[S,N]=(0,r.useState)([]),[P,B]=o()("petWhiteList",[]);(0,r.useEffect)(()=>{let e=[],t=!1;for(let[i,l]of Object.entries(P))"rel"===l.placement?t=!0:e.push(l);t&&B(e),N(e)},[P,B]);let[Z,E]=(0,r.useState)(!1),[L,_]=(0,r.useState)({}),[A,R]=o()("manualEnabledPets",{});(0,r.useEffect)(()=>{E(!0),_(A)},[A]);let[G,$]=(0,r.useState)({}),[W,M]=o()("enabledBonusHighlight",{});(0,r.useEffect)(()=>{$(W)},[W]);let[O,H]=(0,r.useState)(!1),[z,q]=o()("showAllBonusTally",!1);(0,r.useEffect)(()=>{H(z)},[z]);let[J,F]=(0,r.useState)(1016),[U,X]=o()("leftOverBonus1",1016);(0,r.useEffect)(()=>{F(U)},[U]);let[Q,Y]=(0,r.useState)(!1),[V,K]=o()("hideLocked",!1);(0,r.useEffect)(()=>{Y(V)},[V]);let[ee,et]=(0,r.useState)([]),[ei,el]=o()("activeCustomBonuses",[]);(0,r.useEffect)(()=>{et(ei)},[ei]);let[en,es]=(0,r.useState)(1),[er,ea]=o()("groupRankCriteria",1);(0,r.useEffect)(()=>{es(er)},[er]);let[eo,ed]=(0,r.useState)(1),[ec,ep]=o()("defaultRank",1);(0,r.useEffect)(()=>{ed(ec)},[ec]);let[ex,eh]=(0,r.useState)(1),[eu,em]=o()("comboSelector",1);(0,r.useEffect)(()=>{eh(eu)},[eu]);let[eg,ef]=(0,r.useState)(1),[eb,ey]=o()("numTeams",1);(0,r.useEffect)(()=>{ef(eb)},[eb]);let ev={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},[ej,ew]=(0,r.useState)(0),[eC,eI]=(0,r.useState)(-1),[ek,eD]=(0,r.useState)([]),[eT,eS]=(0,r.useState)([]),[eN,eP]=(0,r.useState)([]),[eB,eZ]=(0,r.useState)([]),[eE,eL]=(0,r.useState)(!1),[e_,eA]=(0,r.useState)(c.RE),[eR,eG]=(0,r.useState)(D),[e$,eW]=(0,r.useState)(15),[eM,eO]=(0,r.useState)(!1);(0,r.useEffect)(()=>{eL(!1),console.log("handle groups called");let e=a?.PetsCollection||[];if(0===e.length)return null;let t=e.reduce((e,t)=>(e[parseInt(t.ID,10)]=t,e),{}),i=eR.filter(e=>e<9999).map(e=>t[e]),l=eR.sort().join(","),n=k[l];n=h.Z.findBestGroups(i,eo,en,-1===eg?a.ExpeditionLimit:eg,{tokenDamageBias:e$,activeBonuses:ee,setFailedFilters:eP,petWhiteList:S}),k={...k,[l]:n},eD(n)},[ee,eo,en,eg,S,e$,eE,a,eR]);let eH=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(!1===eH.current&&Z){eH.current=!0,i.PetDamageBonuses=p.Z.calcPOW(i.PetDamageBonusesBD);let e=1;for(let t=0;t<i.PetsSpecial.length;t++){let l=i.PetsSpecial[t];5007===l.BonusID&&1===l.Active&&(e+=l.BonusPower/100)}em(e=p.Z.roundTwoDecimal(e)),-1===eg&&ey(i.ExpeditionLimit),k={},i.PetsCollection.sort((e,t)=>e.ID-t.ID);let t=[],l=[],n=i.PetsCollection.filter(e=>{let i=!!e.Locked;return i&&l.push(e),(!!i&&0!==L[e.ID]||1===L[e.ID])&&(t.push(e),!0)}).map(e=>e.ID);eG(n),eZ(l),eS(t),eL(!0),T(i)}},[L,Z,i,!1,eg,em,n,ey]),(0,r.useEffect)(()=>{eL(!0)},[eo,ex,en,eg,e$,ee]);let ez="",eq=0,eJ=0,eF={1009:0,1010:0,1011:0,1012:0,1013:0,1014:0,1015:0,1016:0},eU={},eX=[],eQ={},eY=[],eV={},eK={},e0=2*eg,e5={},e2=0,e1=0;for(let e=0;e<S.length;e++){let t=S[e],i=t.pet;if("blacklist"!==t.placement){if(1===i.Type?e2++:e1++,"auto"===t.placement)eQ[t.id]={...t};else if("team"===t.placement&&(e5[t.parameters.team]||(e5[t.parameters.team]=[]),e5[t.parameters.team].push(i),e5[t.parameters.team].length>4&&(ez=`Group ${t.parameters.team+1} has too many pets!`),0===ez.length)){let e=0,i=0;e5[t.parameters.team].forEach(t=>{1===t.Type?i++:e++}),e>2?ez=`Group ${t.parameters.team} has too many air pets!`:e>2&&(ez=`Group ${t.parameters.team} has too many ground pets!`)}}}if(0===ez.length&&(e1>e0?ez="There are too many air pets!":e2>e0&&(ez="There are too many ground pets!")),ek.length>0&&ek.map((e,t)=>{eJ+=5*h.Z.calculateGroupScore(e,0).groupScore*a.PetDamageBonuses,e.forEach(e=>{eV[e.ID]||(eV[e.ID]=e),e.ID in eQ&&(eQ[e.ID].finalGroup=t),e.BonusList.forEach(e=>{e.ID in eF&&eF[e.ID]++})});let i=h.Z.calculateBestHours(e,null,{clover:a.SoulGoldenClover,residueToken:a.CowShopExpeditionToken,data:a},ex)[ev[t]];eq+=i.tokenHR/i.hours}),eT)for(let e=0;e<eT.length;e++)eT[e].BonusList.forEach(t=>{eU[t.ID]||(eU[t.ID]={total:0,pets:[]}),eU[t.ID].total++,eU[t.ID].pets.push(eT[e])});for(let[e,t]of Object.entries(eF))(ee.find(t=>t.id===Number(e))||O)&&eX.push({text:`${c.bO[e].label}: ${t}/${eU[e]?eU[e].total:0} pets`,bonus:e});1===en&&eT.map(e=>{let t;try{t=S.find(t=>t.id===e.ID)}catch(e){console.log(e)}if(t){eK[e.ID]||(eK[e.ID]=e);return}e.ID>0&&eY.push({id:e.ID,label:(0,c.pt)(e.ID).name})});let e8={17:!0,30:!0,27:!0,19:!0,18:!0,20:!0,26:!0,32:!0,25:!0,26:!0,24:!0,31:!0,18:!0,18:!0,18:!0,18:!0,18:!0},e3=[];eT.map((e,t)=>{if(e.BonusList.find(e=>e.ID===J)){let t={...e};eV[e.ID]&&(t.equipped=!0),eK[e.ID]&&(t.whitelisted=!0),e3.push(t)}});let handleItemSelected=e=>{eG(e);let t=a?.PetsCollection||[],i=[],l={};for(let n=0;n<e.length;n++)i.push(t[e[n]]),l[e[n]]=1;eS(i),R(e=>{let t={...e};for(let[i,n]of Object.entries(e))l[i]||(t[i]=0);for(let[e,i]of Object.entries(l))t[e]=1;for(let e=0;e<eR.length;e++)t[eR[e]]||(t[eR[e]]=0);return t}),e&&eL(!0)};e3=e3.sort((e,t)=>h.Z.calculatePetBaseDamage(t,eo)-h.Z.calculatePetBaseDamage(e,eo));let e6={};a.PetsCollection.forEach(e=>{e.BonusList.forEach(t=>{e6[t.ID]=e})});let e7=Object.values(c.bO).filter(e=>!!e&&!e8[e.id]&&!!e6[e.id]).sort((e,t)=>e.label.localeCompare(t.label)).map(e=>{if(e.id<5e3)return e.id>=1e3&&!e.label.includes("Expedition")&&(e.label="Expedition "+e.label),e});return(0,l.jsxs)("div",{style:{width:"calc(100% - 0px)",background:"black",display:"flex",overflow:"auto"},children:[l.jsx("div",{className:"importantText",style:{height:"calc(100vh - 52px)",border:"2px solid rgba(255,255,255,0.8)",margin:"6px 12px 6px 6px",padding:"0px 0 0px 0px",backgroundColor:"rgba(255,255,255, 0.05)",overflow:"hidden",borderRadius:"6px",width:"33%",minWidth:"283px",maxWidth:"590px"},children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"300px",height:"100%",backgroundColor:"rgba(255,255,255, 0.05)"},children:[(0,l.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255, 0.12)"},children:[l.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",width:"100%",borderBottom:"0px solid rgba(255,255,255,0.8)",textAlign:"center"},children:"Best Teams"}),(0,l.jsxs)("div",{style:{display:"flex",fontSize:"20px",borderTop:"2px solid rgba(255,255,255,0.8)",borderBottom:"2px solid rgba(255,255,255,0.8)",textAlign:"center"},children:[l.jsx("div",{style:{width:"50%",borderRight:"2px solid rgba(255,255,255,0.8)"},children:`Total Damage: ${eJ.toExponential(3)}`}),l.jsx("div",{style:{width:"50%"},children:`Total tokens/hr: ${p.Z.roundThreeDecimal(eq)}`})]})]}),l.jsx("div",{style:{overflow:"auto"},children:ek.reduce((e,t,i)=>{let n=h.Z.calculateGroupScore(t,eo),r=h.Z.calculateBestHours(t,null,{clover:a.SoulGoldenClover,residueToken:a.CowShopExpeditionToken,data:a},ex)[ev[i]],o=(r.tokenHR/r.hours).toExponential(3),d=n.groupScore,p=(5*d*a.PetDamageBonuses).toExponential(2),u=(5*n.groupScoreMax*Number(a?.PetDamageBonuses)).toExponential(2),b="",y="",v="";switch(en){case 1:v=`Rank Dmg: ${p}`,b=`Game Dmg: ${u}`,y=`Token/hr: ${o}`,h.Z.calculateBestHours(t,null,{clover:a.SoulGoldenClover,residueToken:a.CowShopExpeditionToken,data:a},ex);break;case 2:case 3:b=`Damage: ${u}`,y=`Token/hr: ${o}`,h.Z.calculateBestHours(t,null,{clover:a.SoulGoldenClover,residueToken:a.CowShopExpeditionToken,data:a},ex)}let j=Number(Number(a?.PetDamageBonuses)*d*5).toExponential(3),w=l.jsx("div",{className:"groups-tooltip",children:(0,l.jsxs)("span",{className:"groups-tooltip-content",children:[(0,l.jsxs)("h3",{children:["Group Score (",j,")"]}),l.jsx(ScoreSection,{data:a,group:t,totalScore:j,defaultRank:eo})]})}),C=l.jsx("div",{className:"grid-row",style:{backgroundColor:"rgba(255,255,255, 0.12)"},children:(0,l.jsxs)("div",{style:{display:"flex",width:"100%",borderBottom:"1px solid rgba(255,255,255,0.8)"},children:[l.jsx("div",{style:{borderRight:"1px solid rgba(255,255,255,0.8)",width:"33%",display:"flex",alignItems:"center",justifyContent:"center"},children:v}),l.jsx("div",{style:{width:"33%",borderRight:"1px solid rgba(255,255,255,0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{margin:"0 12px"},children:b})}),l.jsx("div",{style:{width:"33%",display:"flex",alignItems:"center",justifyContent:"center",margin:"2px 0"},children:l.jsx("div",{style:{margin:"0 12px"},children:y})})]})},(1+i)*9001),I=l.jsx("div",{style:{display:"flex",padding:"6px 6px 3px 6px",backgroundColor:"rgba(255,255,255, 0.05)"},children:!!t&&t.map((e,t)=>{let{ID:n}=e,r=(0,c.pt)(n);return(0,l.jsxs)("div",{style:{position:"relative",display:"flex",width:"calc(25% - 3px)",height:"auto",alignItems:"center",justifyContent:"center"},children:[l.jsx(PetItemCoin_PetItem,{petData:r,fullPetData:e,data:a,isSelected:!0,onClick:()=>{},weightMap:e_,defaultRank:eo,borderActive:e.BonusList.find(e=>e.ID===ej)||n===eC,enabledBonusHighlight:G}),l.jsx("div",{className:"hover",style:{position:"absolute",top:"0",right:"0"},onClick:t=>{B(t=>{let l=[...t],n=l.find(t=>t.id===e.ID);return n?(n.placement="team",n.parameters={team:i},n.pet=e):l.push({label:r.name,id:r.petId,placement:"team",parameters:{team:i,damageBias:17},pet:e}),l}),eL(!0)},children:l.jsx("div",{style:{width:"20px",height:"20px",position:"relative",zIndex:"2"},children:l.jsx(s(),{fill:!0,src:m,alt:"push pin"})})}),l.jsx("div",{className:"hover",style:{position:"absolute",bottom:"0",right:"0"},onClick:t=>{B(t=>{let i=[...t],l=i.find(t=>t.id===e.ID);return l?(l.placement="blacklist",l.parameters={team:0},l.pet=e):i.push({label:r.name,id:r.petId,placement:"blacklist",parameters:{team:0,damageBias:17},pet:e}),i}),eL(!0)},children:l.jsx("div",{style:{width:"20px",height:"20px",position:"relative",zIndex:"2"},children:l.jsx(s(),{src:g,alt:"trash can",fill:!0})})})]},n)})}),k=(0,l.jsxs)("div",{style:{display:"flex",border:2===en&&n.tokenRewardCount>0?"1px black rgba(255,255,255,0.8)":"none",marginTop:0===i?"16px":"22px",marginLeft:"6px",marginRight:"6px",marginBottom:"12px",border:"1px solid rgba(255,255,255,0.8)"},children:[l.jsx("div",{style:{display:"flex",backgroundColor:"rgba(255,255,255, 0.12)",borderRight:"1px solid rgba(255,255,255,0.8)"},children:l.jsx(x.Z,{tooltip:w,extraClasses:"maxHeight",children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 2px"},children:[l.jsx("div",{style:{fontSize:"20px"},children:i+1}),l.jsx("div",{style:{height:"18px",width:"18px",margin:"0 0 0 0",position:"relative"},children:l.jsx(s(),{fill:!0,src:f,alt:'letter "I" in a circle, shows more information on hover'})})]})})}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"1"},children:[C,I]})]},"group"+i);return e.push(k),e},[])})]})}),(0,l.jsxs)("div",{className:"importantText",style:{border:"2px solid rgba(255,255,255,0.8)",margin:"6px 12px 6px 6px",maxHeight:"calc(100vh - 46px)",backgroundColor:"rgba(255,255,255, 0.05)",overflow:"hidden",borderRadius:"6px",width:"33%",minWidth:"410px"},children:[(0,l.jsxs)("div",{style:{display:"flex",width:"100%",borderBottom:"2px solid  rgba(255,255,255,0.8)",justifyContent:"center",backgroundColor:"rgba(255,255,255, 0.12)"},children:[l.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:"Configuration"}),l.jsx("div",{style:{height:"30px",alignSelf:"center",marginLeft:"12px"},children:l.jsx(x.Z,{opacity:"1",tooltip:(0,l.jsxs)("div",{children:[l.jsx("img",{alt:"screenshot of game text explaining how pet ranks work",src:"/images/rank_explain.png",style:{height:"50px"}}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"24px",minWidth:"90px"},children:"Explanation/How To Use: "}),l.jsx("div",{style:{marginLeft:"12px",maxWidth:"724px"},children:"Whitelist (make sure they are on an expedition team) any important pets (such as those that have item rating, reincarnation exp, residue) or ones that you have equipped often. The expedition ranks will make those pets level faster and give bigger bonuses when actively equipped "})]})]}),children:l.jsx("div",{style:{height:"30px",width:"30px",position:"relative"},children:l.jsx(s(),{alt:'Letter "I" inside a circle, shows more information on hover',src:v,fill:!0})})})})]}),(0,l.jsxs)("div",{style:{padding:"6px 3px 1px 3px",overflow:"auto",maxHeight:"calc(100% - 45px)",overflowAnchor:"none"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"rgba(255,255,255, 0.05)",margin:"6px 6px",padding:"6px",border:"1px solid rgba(255,255,255,0.8)",overflowAnchor:"none"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{children:"Ignore Pets Rank"}),l.jsx("input",{"aria-label":"Force pets to rank 1",type:"checkbox",onChange:e=>{ep(e.target.checked?1:0)},checked:!!eo,value:!!eo})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"3px"},children:[l.jsx("div",{style:{marginRight:"12px"},children:`Golden Clover Level: ${a.SoulGoldenClover}`}),l.jsx("div",{children:`Token Bonuses: ${p.Z.roundThreeDecimal(p.Z.roundTwoDecimal(a.ExpeditionTokenBonuses)*p.Z.roundTwoDecimal(a.ExpeditionResourceBonuses)*ex)}`})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx(x.Z,{tooltip:l.jsx("div",{children:"Expedition reward from active pets special combo (0, 10%, 20%)"}),children:l.jsx("div",{style:{marginRight:"12px"},children:"Expedition Reward Combo"})}),(0,l.jsxs)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px"},"aria-label":"Specify desired combo bonus",onChange:e=>{em(Number(e.target.value))},value:ex+"",children:[l.jsx("option",{value:"1",children:"1.0"}),l.jsx("option",{value:"1.1",children:"1.1"}),l.jsx("option",{value:"1.2",children:"1.2"})]})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{style:{marginRight:"12px"},children:"Number of teams:"}),l.jsx("input",{id:"prepFormInput",className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px",fontSize:"14px"},"aria-label":"Number of teams to calculate",type:"number",value:eg,onChange:e=>{try{let t=Number(e.target.value);if((t=Math.floor(t))<1||t>a.ExpeditionLimit)return;ey(e.target.value)}catch(e){console.log(e)}},placeholder:eg+"",min:"1",max:`${a.ExpeditionLimit}`})]}),1===en&&(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"2px"},children:[l.jsx("div",{children:"Show all bonus totals"}),l.jsx("input",{"aria-label":"Displays bonuses whose backgrounds can be coloured in",type:"checkbox",onChange:e=>{q(!!e.target.checked)}})]})]}),O&&l.jsx("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"rgba(255,255,255, 0.05)",margin:"6px 6px",padding:"6px",border:"1px solid rgba(255,255,255,0.8)"},children:l.jsx("div",{style:{margin:"6px 0 6px 0",display:"flex",flexDirection:"column"},children:eX.map((e,t)=>{if(t%2!=0&&t>0)return;let i=Number(e.bonus),n=t+1<eX.length?Number(eX[t+1].bonus):null,s=eN[e.bonus],r=n?eN[eX[t+1].bonus]:null;return s&&console.log("aaa"),ee.forEach(e=>{if("rel"!==e.placement)return null;e.id===i&&(i=(0,l.jsxs)("div",{style:{display:"flex"},children:[l.jsx("div",{style:{marginRight:"12px"},children:"damage bias"}),l.jsx("input",{"aria-label":"Damage bias to control when a pet should be put in",type:"number",className:"prepNumber",value:e.relThresh,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;el(t=>{let l=[...t];return l.find(t=>t.id===e.id).relThresh=i,l})}catch(e){console.log(e)}},placeholder:"1",min:"0",max:"100"})]})),e.id===n&&(n=(0,l.jsxs)("div",{style:{display:"flex"},children:[l.jsx("div",{style:{marginRight:"12px"},children:"damage bias"}),l.jsx("input",{"aria-label":"Damage bias to control when a pet should be put in",type:"number",className:"prepNumber",value:e.relThresh,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;el(t=>{let l=[...t];return l.find(t=>t.id===e.id).relThresh=i,l})}catch(e){console.log(e)}},placeholder:"1",min:"0",max:"100"})]}))}),(0,l.jsxs)("div",{style:{display:"flex"},children:[l.jsx("div",{style:{width:"50%"},children:(0,l.jsxs)("div",{style:{},onMouseEnter:t=>{ew(Number(e.bonus))},onMouseLeave:e=>{ew(-1)},children:[eX[t].text,l.jsx("div",{children:(0,l.jsxs)("div",{style:{display:"flex"},children:[l.jsx("div",{children:"Enable highlight"}),l.jsx("input",{"aria-label":"Enables the highlight for this bonus",type:"checkbox",onChange:t=>{M({...G,[e.bonus]:t.target.checked?1:0})},checked:G[e.bonus]}),l.jsx("div",{style:{width:"24px",background:p.Z.bonusColorMap[e.bonus].color}})]})}),l.jsx("div",{className:"dmgBias",children:isNaN(i)&&l.jsx(x.Z,{tooltip:(0,l.jsxs)("div",{children:[l.jsx("div",{children:"How aggressively to slot in these pets"}),l.jsx("div",{children:"Higher value means these pets need to be stronger to considered, lower means smaller threshold to slot them in"}),l.jsx("div",{children:"This is based on the best team at each step without these pets, vs with it."})]}),children:i})}),!!s&&l.jsx("div",{style:{color:"red"},children:s})]})}),t+1<eX.length&&l.jsx("div",{style:{width:"50%"},children:(0,l.jsxs)("div",{style:{},onMouseEnter:e=>{ew(Number(eX[t+1].bonus))},onMouseLeave:e=>{ew(-1)},children:[eX[t+1].text,l.jsx("div",{children:(0,l.jsxs)("div",{style:{display:"flex"},children:[l.jsx("div",{children:"Enable highlight"}),l.jsx("input",{"aria-label":"Enables highlighting of pets with this bonus",type:"checkbox",onChange:e=>{M({...G,[eX[t+1].bonus]:e.target.checked?1:0})},checked:G[eX[t+1].bonus]}),l.jsx("div",{style:{width:"24px",background:p.Z.bonusColorMap[eX[t+1].bonus].color}})]})}),l.jsx("div",{className:"dmgBias",children:isNaN(n)&&n}),!!r&&l.jsx("div",{style:{color:"red"},children:r})]})},eX[t+1].bonus)]},e.bonus)})})}),1===en&&(0,l.jsxs)("div",{style:{margin:"16px 6px",display:"flex",flexDirection:"column",flex:"1",border:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.05)"},children:[(0,l.jsxs)("div",{style:{},children:[(0,l.jsxs)("div",{children:[l.jsx("h4",{style:{margin:"6px",textAlign:"center",fontSize:"20px"},children:"Pet Whitelist"}),l.jsx("h4",{style:{margin:"6px",textAlign:"center",fontSize:"20px",color:"red"},children:`${ez}`})]}),(0,l.jsxs)("div",{style:{margin:"6px",display:"flex",alignItems:"center",justifyContent:"space-between",height:"36px"},children:[l.jsx(w.Z,{data:{list:eY},onSelect:e=>{B(t=>{let i=[...t],l=a.PetsCollection.find(t=>t.ID===e.id);return i.push({...e,placement:"auto",parameters:{team:0,damageBias:17},pet:l}),i}),eL(!0)}}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("div",{style:{marginRight:"6px"},children:"Team Presets"}),l.jsx("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px"},"aria-label":"Select your in game teams to quickly add those pets to whitelist",onChange:e=>{let t=a.PetsLoadout[Number(e.target.value)];B(e=>{let i=[...e];for(let e=0;e<t.IDs.length;e++){let l=t.IDs[e];if(l>0){let e={id:l,label:c.ur[l].name,placement:"auto",parameters:{team:0,damageBias:17},pet:a.PetsCollection.find(e=>e.ID===l)};i.find(t=>t.id===e.id)||i.push(e)}}return i}),eL(!0)},value:"",children:[l.jsx("option",{value:"",children:"Select Team"},"initial one"),...a.PetsLoadout.map((e,t)=>{if(0!==e.Locked)return l.jsx("option",{value:t,children:e.Name},t)})]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("div",{style:{marginRight:"6px"},children:"Recommended Teams"}),(0,l.jsxs)("select",{"aria-label":"Select a default team preset",className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px",marginleft:"12px"},onChange:e=>{let t,i,l,n;eO(!0);let s={},r={},o={},d={};switch(e.target.value){case"Main Team":s=JSON.parse(JSON.stringify(I.AI[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityList)),r=JSON.parse(JSON.stringify(I.AI[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityMap)),d=I.AI[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(I.AI[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList)):{};break;case"Reinc. Team":s=JSON.parse(JSON.stringify(I.yq[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityList)),r=JSON.parse(JSON.stringify(I.yq[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityMap)),d=I.yq[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(I.yq[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList)):{};break;case"Gear Team":s=JSON.parse(JSON.stringify(I.yu[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityList)),r=JSON.parse(JSON.stringify(I.yu[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityMap)),d=I.yu[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(I.yu[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList)):{};break;case"Stat Team":s=JSON.parse(JSON.stringify(I.dh[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityList)),r=JSON.parse(JSON.stringify(I.dh[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].priorityMap)),d=I.dh[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(I.dh[a.AscensionCount>I.ZT?I.ZT:a.AscensionCount].petWhiteList)):{};break;case"None":s=[],r={}}let p={};for(let[e,t]of Object.entries(d))unlockedPetsMap[e]?p[e]={...unlockedPetsMap[e],mode:t.mode}:p[e]={ID:e,name:c.ur[e].name,mode:t.mode};o=p,[t,i,l,n]=h.Z.findBestTeam(a,{manualEnabledPets:L,priorityList:s,priorityMap:r,petWhiteList:o});let x=t.concat(i);B(e=>{let t=[...e];for(let e=0;e<x.length;e++){let i=x[e].ID;if(i>0){let e={id:i,label:c.ur[i].name,placement:"auto",parameters:{team:0,damageBias:17},pet:a.PetsCollection.find(e=>e.ID===i)};t.find(t=>t.id===e.id)||t.push(e)}}return t}),eL(!0)},defaultValue:" ",children:[!eM&&l.jsx("option",{value:"None",children:"Select Preset"}),l.jsx("option",{value:"Main Team",children:"Main Team"}),l.jsx("option",{value:"Reinc. Team",children:"Reinc. Team"}),l.jsx("option",{value:"Gear Team",children:"Gear Team"})]})]})]})]})]}),l.jsx("div",{className:"importantText",style:{width:"100%",display:"flex",justifyContent:"center",fontWeight:"bold",color:e2>e0?"red":""},children:`Ground Pets (${e2}/${e0})`}),(0,l.jsxs)("div",{style:{display:"flex",margin:"0 0 0 0",borderTop:"1px solid rgba(255,255,255,0.8)",borderBottom:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.12)"},children:[l.jsx("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:"Pet"}),l.jsx("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)"},children:l.jsx(x.Z,{tooltip:(0,l.jsxs)("div",{style:{padding:"6px"},children:[l.jsx("div",{children:"Determines the order in which the pets are slotted in:"}),l.jsx("div",{children:"Blacklist: Omits this pet from any group"}),l.jsx("div",{children:"Group: Forces the pet to go into a certain group"}),l.jsx("div",{children:"Auto:  Tries to find optimal placement automatically"})]}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{children:"Placement"}),l.jsx("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:l.jsx(s(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:f,fill:!0})})]})})}),l.jsx("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center"},children:l.jsx(x.Z,{tooltip:l.jsx("div",{style:{padding:"6px"},children:(0,l.jsxs)("div",{children:[l.jsx("div",{children:"In Placement=Group, determines which group the pet is placed in"}),l.jsx("div",{children:"In Placement=Auto, tried to find the optimal placement automatically"})]})}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{children:"Parameters"}),l.jsx("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:l.jsx(s(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:f,fill:!0})})]})})})]}),l.jsx("div",{style:{margin:"0 0 0 0"},children:S.sort((e,t)=>e.label.localeCompare(t.label)).map((e,t)=>{if(2===e.pet.Type)return l.jsx(l.Fragment,{});let i=e.label,n="";e.id in eQ&&(n+=`(Group: ${eQ[e.id].finalGroup+1})`);let r=!1,a=!1,o="";if("blacklist"!==e.placement){let t=ek.findIndex(t=>t.find(t=>t.ID===e.id));if(t>-1){let l=ek[t];if(t!==ek.length-1){let n=h.Z.calculateGroupScore(l,eo).groupScore,s=[],a={};for(let d=0;d<2;d++){let d=!1;for(let i=0;i<ek[t+1].length;i++){let n=ek[t+1][i];if(n.Type===e.pet.Type&&!(n.ID in a)&&!d){a[n.ID]=!0,d=!0;let t=(s=[...l]).findIndex(t=>t.ID===e.pet.ID);s[t]=n}}h.Z.calculateGroupScore(s,eo).groupScore>n&&(r=!0,o=`${i} might be too high, try ${"rel"===e.placement?"increase":"lowering"} the value to drop them to a lower team`),s=[]}}if(!r&&t>0){let l=h.Z.calculateGroupScore(ek[t-1],eo).groupScore,n=[],s={};for(let r=0;r<2;r++){let r=!1;for(let i=0;i<ek[t-1].length;i++){let l=ek[t-1][i];if(l.Type===e.pet.Type&&!(l.ID in s)&&!r){s[l.ID]=!0,r=!0;let i=(n=[...ek[t-1]]).findIndex(e=>e.ID===l.ID);n[i]=e.pet}}h.Z.calculateGroupScore(n,eo).groupScore>l&&(a=!0,o=` ${i} might be too low, try ${"rel"===e.placement?"lowering":"increasing"} the value to bump them to a higher team`),n=[]}}}else o=`Try lowering this value until ${i} is put in`,a=!0}return(0,l.jsxs)("div",{style:{display:"flex",width:"100%",height:"25px",backgroundColor:t%2==0?"rgba(255,255,255, 0.07)":"rgba(255,255,255, 0.005)",color:e2>e0?"red":""},children:[(0,l.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},onMouseEnter:()=>{eI(e.id)},onMouseLeave:()=>{eI(-1)},children:[(0,l.jsxs)("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between",zIndex:"1"},children:[l.jsx("div",{style:{marginLeft:"6px"},children:i}),l.jsx("div",{style:{marginRight:"34px"},children:n})]}),l.jsx("div",{style:{height:"12px",width:"12px",margin:"0 12px 0 auto",zIndex:"2",position:"relative"},onClick:t=>{B(t=>[...t].filter(t=>t.id!==e.id)),eL(!0)},children:l.jsx(s(),{alt:"X (cross to remove)",src:u.Z,fill:!0})})]}),l.jsx("div",{style:{width:"25%",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsxs)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px"},"aria-label":"Select what kind of placement the pet will have",value:e.placement,onChange:t=>{console.log(t),B(i=>{let l=[...i];return l.find(t=>t.id===e.id).placement=t.target.value,l}),eL(!0)},children:[l.jsx("option",{value:"blacklist",children:"Blacklist"}),l.jsx("option",{value:"team",children:"Group"}),l.jsx("option",{value:"auto",children:"Auto"})]})}),(0,l.jsxs)("div",{disabled:"blacklist"===e.placement,style:{width:"25%",position:"relative",opacity:"blacklist"===e.placement?"0.4":"",display:"flex",justifyContent:"center",alignItems:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:["team"===e.placement&&l.jsx("div",{style:{marginLeft:a||r?"22px":""},children:l.jsx("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px",width:"44px"},"aria-label":"Select what team the pet will be placed in",value:e.parameters.team,onChange:t=>{B(i=>{let l=[...i];return l.find(t=>t.id===e.id).parameters.team=Number(t.target.value),l}),eL(!0)},children:Array.apply(null,Array(Number(eg))).map((e,t)=>l.jsx("option",{value:t,children:t+1},t))})}),"rel"===e.placement&&l.jsx("div",{style:{marginLeft:a||r?"22px":""},children:l.jsx("input",{className:"importantText textMedium2","aria-label":"Damage bias to control when the pet should go in",style:{maxWidth:"36px",backgroundColor:"#1b1b1b",borderRadius:"4px",backgroundColor:t%2==0?"#252525":"#171717"},type:"number",value:e.parameters.damageBias,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;B(t=>{let l=[...t];return l.find(t=>t.id===e.id).parameters.damageBias=Number(i),l}),eL(!0)}catch(e){console.log(e)}},placeholder:e.parameters.damageBias+"",min:"0",max:"100"})}),("blacklist"===e.placement||"auto"===e.placement)&&l.jsx(l.Fragment,{children:"Unavailable"}),(a||r)&&l.jsx("div",{children:l.jsx(x.Z,{muiHeight:"20px",tooltip:l.jsx("div",{children:o}),style:{display:"flex",alignItems:"center",height:"20px"},children:l.jsx("div",{style:{height:"20px",width:"20px",marginLeft:"3px",marginTop:"2px",position:"relative"},children:l.jsx(s(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:a?y:b,fill:!0})})})})]})]},e.label)})}),l.jsx("div",{className:"importantText",style:{width:"100%",display:"flex",justifyContent:"center",fontWeight:"bold",borderTop:"1px solid rgba(255,255,255,0.8)",paddingTop:"6px",paddingBottom:"6px",color:e1>e0?"red":""},children:`Air Pets (${e1}/${e0})`}),(0,l.jsxs)("div",{style:{display:"flex",margin:"0 0 0 0",borderTop:"1px solid rgba(255,255,255,0.8)",borderBottom:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.12)"},children:[l.jsx("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:"Pet"}),l.jsx("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)"},children:l.jsx(x.Z,{tooltip:(0,l.jsxs)("div",{style:{padding:"6px"},children:[l.jsx("div",{children:"Determines the order in which the pets are slotted in:"}),l.jsx("div",{children:"Blacklist: Omits this pet from any group"}),l.jsx("div",{children:"Group: Forces the pet to go into a certain group"}),l.jsx("div",{children:"Auto:  Tries to find optimal placement automatically"})]}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{children:"Placement"}),l.jsx("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:l.jsx(s(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:f,fill:!0})})]})})}),l.jsx("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center"},children:l.jsx(x.Z,{tooltip:l.jsx("div",{style:{padding:"6px"},children:(0,l.jsxs)("div",{children:[l.jsx("div",{children:"In Placement=Group, determines which group the pet is placed in"}),l.jsx("div",{children:"In Placement=Auto, tried to find the optimal placement automatically"})]})}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("div",{children:"Parameters"}),l.jsx("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:l.jsx(s(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:f,fill:!0})})]})})})]}),l.jsx("div",{style:{margin:"0 0 0 0"},children:S.sort((e,t)=>e.label.localeCompare(t.label)).map((e,t)=>{if(1===e.pet.Type)return l.jsx(l.Fragment,{});let i=e.label,n="";e.id in eQ&&(n+=`(Group: ${eQ[e.id].finalGroup+1})`);let r=!1,a=!1,o="";if("blacklist"!==e.placement){let t=ek.findIndex(t=>t.find(t=>t.ID===e.id));if(t>-1){let l=ek[t];if(t!==ek.length-1){let n=h.Z.calculateGroupScore(l,eo).groupScore,s=[],a={};for(let d=0;d<2;d++){let d=!1;for(let i=0;i<ek[t+1].length;i++){let n=ek[t+1][i];if(n.Type===e.pet.Type&&!(n.ID in a)&&!d){a[n.ID]=!0,d=!0;let t=(s=[...l]).findIndex(t=>t.ID===e.pet.ID);s[t]=n}}h.Z.calculateGroupScore(s,eo).groupScore>n&&(r=!0,o=`${i} might be too high, try ${"rel"===e.placement?"increase":"lowering"} the value to drop them to a lower team`),s=[]}}if(!r&&t>0){let l=h.Z.calculateGroupScore(ek[t-1],eo).groupScore,n=[],s={};for(let r=0;r<2;r++){let r=!1;for(let i=0;i<ek[t-1].length;i++){let l=ek[t-1][i];if(l.Type===e.pet.Type&&!(l.ID in s)&&!r){s[l.ID]=!0,r=!0;let i=(n=[...ek[t-1]]).findIndex(e=>e.ID===l.ID);n[i]=e.pet}}h.Z.calculateGroupScore(n,eo).groupScore>l&&(a=!0,o=` ${i} might be too low, try ${"rel"===e.placement?"lowering":"increasing"} the value to bump them to a higher team`),n=[]}}}else o=`Try lowering this value until ${i} is put in`,a=!0}return(0,l.jsxs)("div",{style:{display:"flex",width:"100%",height:"25px",backgroundColor:t%2==0?"rgba(255,255,255, 0.07)":"rgba(255,255,255, 0.005)",color:e1>e0?"red":""},children:[(0,l.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},onMouseEnter:()=>{eI(e.id)},onMouseLeave:()=>{eI(-1)},children:[(0,l.jsxs)("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between",zIndex:"1"},children:[l.jsx("div",{style:{marginLeft:"6px"},children:i}),l.jsx("div",{style:{marginRight:"34px"},children:n})]}),l.jsx("div",{style:{height:"12px",width:"12px",margin:"0 12px 0 auto",zIndex:"2",position:"relative"},onClick:t=>{B(t=>[...t].filter(t=>t.id!==e.id)),eL(!0)},children:l.jsx(s(),{alt:"X (cross to remove)",src:u.Z,fill:!0})})]}),l.jsx("div",{style:{width:"25%",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsxs)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px"},"aria-label":"Select what kind of placement the pet will have",value:e.placement,onChange:t=>{console.log(t),B(i=>{let l=[...i];return l.find(t=>t.id===e.id).placement=t.target.value,l}),eL(!0)},children:[l.jsx("option",{value:"blacklist",children:"Blacklist"}),l.jsx("option",{value:"team",children:"Group"}),l.jsx("option",{value:"auto",children:"Auto"})]})}),(0,l.jsxs)("div",{disabled:"blacklist"===e.placement,style:{width:"25%",position:"relative",opacity:"blacklist"===e.placement?"0.4":"",display:"flex",justifyContent:"center",alignItems:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:["team"===e.placement&&l.jsx("div",{style:{marginLeft:a||r?"22px":""},children:l.jsx("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px",width:"44px"},"aria-label":"Select what team the pet will be placed in",value:e.parameters.team,onChange:t=>{B(i=>{let l=[...i];return l.find(t=>t.id===e.id).parameters.team=Number(t.target.value),l}),eL(!0)},children:Array.apply(null,Array(Number(eg))).map((e,t)=>l.jsx("option",{value:t,children:t+1},t))})}),"rel"===e.placement&&l.jsx("div",{style:{marginLeft:a||r?"22px":""},children:l.jsx("input",{className:"importantText textMedium2","aria-label":"Damage bias to control when the pet should go in",style:{maxWidth:"36px",backgroundColor:"#1b1b1b",borderRadius:"4px",backgroundColor:t%2==0?"#252525":"#171717"},type:"number",value:e.parameters.damageBias,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;B(t=>{let l=[...t];return l.find(t=>t.id===e.id).parameters.damageBias=Number(i),l}),eL(!0)}catch(e){console.log(e)}},placeholder:e.parameters.damageBias+"",min:"0",max:"100"})}),("blacklist"===e.placement||"auto"===e.placement)&&l.jsx(l.Fragment,{children:"Unavailable"}),(a||r)&&l.jsx("div",{children:l.jsx(x.Z,{muiHeight:"20px",tooltip:l.jsx("div",{children:o}),style:{display:"flex",alignItems:"center",height:"20px"},children:l.jsx("div",{style:{height:"20px",width:"20px",marginLeft:"3px",marginTop:"2px",position:"relative"},children:l.jsx(s(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:a?y:b,fill:!0})})})})]})]},e.label)})})]}),1===en&&(0,l.jsxs)("div",{style:{margin:"12px 6px",display:"flex",flexDirection:"column",flex:"1",border:"1px solid rgba(255,255,255,0.8)"},children:[eN.generic&&l.jsx("div",{style:{fontWeight:"bold",color:"red",display:"flex",width:"100%",justifyContent:"center"},children:eN.generic}),(0,l.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column"},children:[l.jsx("div",{style:{display:"flex",margin:"6px",alignSelf:"center"},children:(0,l.jsxs)("h4",{style:{margin:"0",fontSize:"20px",textAlign:"center",display:"flex",alignItems:"center"},children:[l.jsx("div",{children:"Pet Bonus Finder"}),l.jsx("div",{style:{fontSize:"16px",fontWeight:"normal",color:e2>=e0?"red":"",marginLeft:"6px"},children:`(${e2} / ${e0} Ground)`}),l.jsx("div",{style:{marginLeft:"6px",fontSize:"16px",fontWeight:"normal"},children:"&"}),l.jsx("div",{style:{fontSize:"16px",fontWeight:"normal",color:e1>=e0?"red":"",marginLeft:"6px"},children:`(${e1} / ${e0} Air) `})]})}),l.jsx("div",{style:{display:"flex",alignItems:"center",margin:"6px 0 0 0"},children:l.jsx("div",{style:{marginLeft:"6px"},children:l.jsx(w.Z,{updateBox:!0,placeholder:"Enter a bonus",data:{list:e7},onSelect:e=>{console.log(e),X(Number(e.id))}})})}),(0,l.jsxs)("div",{style:{display:"flex",borderTop:"1px solid rgba(255,255,255,0.8)",borderBottom:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.14)",margin:"6px 0 0 0"},children:[l.jsx("div",{style:{width:"70%",display:"flex",justifyContent:"center",alignItems:"center",borderRight:"1px solid rgba(255,255,255,0.8)"},children:`${c.bO[J].label} Pets`}),l.jsx("div",{style:{width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:l.jsx(x.Z,{tooltip:l.jsx("div",{style:{padding:"6px"},children:(0,l.jsxs)("div",{children:["The ","pet's"," damage "]})}),children:l.jsx("div",{style:{display:"flex",alignItems:"center"},children:l.jsx("div",{children:"Damage"})})})})]}),l.jsx("div",{style:{margin:"0 0px 0 0px"},children:e3.map((e,t)=>{let i=c._Q.find(t=>t.petId===e.ID);return i||(i={img:"/images/pets/missing.png",location:"??-??",name:"Unknown",petId:e.ID}),(0,l.jsxs)("div",{style:{display:"flex",width:"100%",backgroundColor:t%2==0?"rgba(255,255,255, 0.09)":"rgba(255,255,255, 0.03)"},children:[(0,l.jsxs)("div",{style:{width:"70%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[l.jsx("div",{style:{width:"100%",display:"flex",flex:"1",justifyContent:"space-between"},children:l.jsx("div",{style:{width:"100%",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)",paddingLeft:"6px"},children:l.jsx(PetItemCoin_PetItem,{showNameOnly:!0,grayBackground:e.equipped,petData:i,fullPetData:e,data:a,onClick:()=>{},weightMap:e_,defaultRank:eo},e.ID)})}),!e.whitelisted&&l.jsx("div",{style:{height:"calc(100% - 1px)",width:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:l.jsx("div",{style:{position:"relative",width:"20px",height:"20px"},onClick:t=>{B(t=>{let i=[...t];if(i.find(t=>t.id===e.ID))throw Error("should not have an existing pet in this list!");return i.push({label:c.ur[e.ID].name,pet:e,id:e.ID,placement:"auto",parameters:{team:0,damageBias:17}}),i}),eL(!0)},children:l.jsx(s(),{fill:!0,src:m,alt:"push pin"})})})]}),l.jsx("div",{style:{width:"30%",display:"flex",alignItems:"center",justifyContent:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)"},children:p.Z.roundTwoDecimal(h.Z.calculatePetBaseDamage(e,eo))})]},e.ID)})})]})]})]})]}),l.jsx("div",{style:{display:"flex",flex:"1"},children:(0,l.jsxs)("div",{className:"importantText",style:{border:"2px solid rgba(255,255,255,0.8)",borderRadius:"6px",marginTop:"6px",marginRight:"6px",maxHeight:"calc(100vh - 50px)",backgroundColor:"rgba(255,255,255, 0.05)",minWidth:"200px",overflow:"hidden"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"0"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",borderBottom:"2px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255,0.12)",justifyContent:"center"},children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"30px"},children:"Pets"}),l.jsx("div",{style:{fontWeight:"bold",alignSelf:"end",marginLeft:"6px",marginBottom:"5px",fontSize:"16px"},children:"(click to enable/disable)"})]}),l.jsx("div",{style:{display:"flex"},children:(0,l.jsxs)("div",{className:"hover",style:{width:"100%",borderBottom:"2px solid rgba(255,255,255,0.8)",display:"flex",backgroundColor:"rgba(255,255,255,0.12)"},children:[l.jsx("div",{style:{width:"25%",borderRight:"2px solid rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{if(j.ZP.event({category:"expedition_pets",action:"enabled_all",label:"expedition"}),a.PetsCollection){let e=[];for(let t=1;t<a.PetsCollection.length;t++)e.push(a.PetsCollection[t].ID);handleItemSelected(e)}},children:"Enable All"}),l.jsx("div",{className:"hover",style:{width:"25%",borderRight:"2px solid rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{j.ZP.event({category:"expedition_pets",action:"disabled_all",label:"expedition"}),a.PetsCollection&&handleItemSelected([])},children:"Disable All"}),l.jsx("div",{className:"hover",style:{width:"25%",borderRight:"2px solid rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{if(j.ZP.event({category:"expedition_pets",action:"reset_all",label:"expedition"}),a.PetsCollection){let e=[];for(let t=0;t<eB.length;t++)e.push(eB[t].ID);handleItemSelected(e),R({})}},children:"Reset"}),l.jsx("div",{className:"hover",style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{j.ZP.event({category:"expedition_pets",action:"toggle_hide_locked",label:Q?"show_locked":"hide_locked",value:Q}),K(!Q)},children:Q?"Show Locked":"Hide Locked"})]})})]}),l.jsx(ItemSelection_copy,{weightMap:e_,data:a,selectedItems:eR,onItemSelected:handleItemSelected,defaultRank:eo,showLocked:!Q,manualEnabledPets:L,originalPets:eB})]})})]})}},16388:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Page,generateMetadata:()=>generateMetadata,viewport:()=>d});var l=i(4656),n=i(95153);let s=(0,n.createProxy)(String.raw`C:\Users\denys\Documents\GitHub\gameplay-planner\src\app\expeditions\page_content.jsx`),{__esModule:r,$$typeof:a}=s,o=s.default;async function generateMetadata({params:e,searchParams:t},i){return{title:"Expedition / Team Guide - Gameplay Planner",description:"Expedition / Team Planner - Help you build, plan and optimise expeditions teams / groups based on damage, rank or stats. You can also tell the calculator to include specific bonuses such as token gain, time gain, card power, expedition damage by adding them to a white list. You can also add and remove pets to future planning"}}let d={width:"device-width",initialScale:1};function Page(){return l.jsx(o,{})}},35530:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});let l={src:"/_next/static/media/info_red.c39e9a84.svg",height:123,width:123,blurWidth:0,blurHeight:0}},18219:()=>{},23997:()=>{},72396:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[1843,6250,5877,7419,8801,5492,755,5340,5438,7586,6107],()=>__webpack_exec__(39754));module.exports=i})();