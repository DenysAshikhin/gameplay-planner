"use strict";exports.id=4403,exports.ids=[4403],exports.modules={11263:(e,t,a)=>{a.d(t,{Z:()=>r});var o=a(5492),i=a(92989),l={findMultipliersWithMinPercentage:function(e,t,a){let o=[],i=0;function backtrack(l,r,n){if(i++,l===t.length){let i=n.reduce((e,a,o)=>e+a*t[o],0);i>=a*e&&o.push([...n]);return}let s=Math.floor((e-r)/t[l]);for(let a=0;a<=s;a++)n[l]=a,r+a*t[l]<e&&backtrack(l+1,r+a*t[l],n)}return backtrack(0,0,[]),console.log(i),o},calcGrowthTime:function(e,t){let a=i.Z.createDecimal(t.originalShopGrowingBonus);a=i.Z.divideDecimal(a,1+.05*t.originalShopGrowingLevel),a=i.Z.multiplyDecimal(a,1+.05*t.shopGrowingSpeed).toNumber();let o=Math.floor(e.TimeNeeded/e.prestigeBonus/a);return o<10?10:o},calcPlantHarvest:function(e,t){return o.Z.roundInt((1+e.Rank)*Math.pow(1.05,e.Rank))*Math.pow(1.02,e.prestige)*t.manualHarvestBonus},calcShopProdBonus:function(e,t){return t=t||0===t?t:e.FarmingShopPlantTotalProduction,i.Z.pow(1.25,t)},calcProdOutput:function(e,t){let a=e.totalMade,o=t.shopProdBonus,l=e.prestige,r=i.Z.createDecimal(t.originalShopProdBonus);r=i.Z.divideDecimal(r,this.calcShopProdBonus(null,t.originalShopProdLevel)),r=i.Z.multiplyDecimal(o,r);let n=e.futureMult,s=i.Z.multiplyDecimal(i.Z.multiplyDecimal(i.Z.multiplyDecimal(a,n),r),i.Z.createDecimal(Math.pow(1.02,l)));return 1===e.ID&&(s=i.Z.multiplyDecimal(s,t.hpBonus)),s},calcFryOutput:function(e,t){if(!e||e.lessThan(1e16))return 0;let a=0,o=t.timePassed?t.timePassed:0;o>1800&&(a=o<86400?o/86400:1+(o-86400)/(172800+.5*(o-86400)));let l=i.Z.logDecimal(e,10),r=i.Z.subtractDecimal(l,15.75),n=l;n=n.lessThan(31)?n:31;let s=i.Z.subtractDecimal(36,n),c=i.Z.subtractDecimal(l,16),u=i.Z.pow(1.15,c),m=i.Z.multiplyDecimal(r,s),p=i.Z.multiplyDecimal(m,u),d=i.Z.createDecimal(t.fryBonus),h=i.Z.multiplyDecimal(p,d);return i.Z.multiplyDecimal(h,a)},calcCarryOverEXP_OLD:function({plant:e,numAutos:t,expTick:a}){let o=0,i=1;if(t>1){let l=a/t,r=Math.ceil((e.reqExp-e.curExp)/l);if(t>r){o=(t-r)*l;let a=10+5*(e.Rank+i)*Math.pow(1.05,e.Rank+i);for(;o>a;)o-=a,i++,a=10+5*(e.Rank+i)*Math.pow(1.05,e.Rank+i)}else o=0}else o=0;let l=10+5*(e.Rank+i)*Math.pow(1.05,e.Rank+i);return{leftOver:o,numLevels:i,reqExp:l}},calcCarryOverEXP:function({plant:e,numAutos:t,expTick:a}){let o=0,i=e.curExp+t*a,l=10+5*(e.Rank+o)*Math.pow(1.05,e.Rank+o);for(;i>=l;)i-=l,o++,l=10+5*(e.Rank+o)*Math.pow(1.05,e.Rank+o);return{leftOver:i,numLevels:o,reqExp:l}},calcEXPBonus:function(e){let t=e.originalRankLevelBonus,a=e.originalShopRankLevel,o=e.shopRankLevel,l=e.originalPotionRank,r=e.potionRank,n=i.Z.createDecimal(t);return n=i.Z.divideDecimal(n,1+.1*a),n=i.Z.divideDecimal(n,l>0?1.5:1),n=i.Z.multiplyDecimal(n,1+.1*o),n=(n=i.Z.multiplyDecimal(n,r)).toNumber()},futureMultBD:function(e,t){return i.Z.pow(1+.05*(1+.02*t.manualHarvestFormula),i.Z.logDecimal(e.created,1.25))},calcFutureMult:function(e,t){let a=!1===t.string?e:JSON.parse(JSON.stringify(e)),o=!1===t.string?t:JSON.parse(JSON.stringify(t)),l=o.time,r=o.numAuto||o?.numAuto===0?o.numAuto:1,n=this.calcEXPBonus(o),s=a.prestigeBonus*n;if(a.growthTime=this.calcGrowthTime(a,o),0===r){let e=this.calcProdOutput(a,o);return a.production=e,a}for(;l>0;){a.timeToLevel=this.calcTimeTillLevel(a,o);let e=0,t=!1;a.timeToLevel>l?e=l:(e=a.timeToLevel,t=!0),l-=e,a.elapsedTime+=e;let n=0;if(a.elapsedTime>=a.growthTime){n=Math.floor(a.elapsedTime/a.growthTime);let e=a.perHarvest*n*r;if(a.created=i.Z.addDecimal(a.created,e),a.totalMade=i.Z.addDecimal(a.totalMade,e),a.futureMult=this.futureMultBD(a,o),t){let e=this.calcCarryOverEXP({plant:a,expTick:s*n,numAutos:r});a.curExp=e.leftOver,a.Rank+=e.numLevels,a.perHarvest=this.calcPlantHarvest(a,o),a.reqExp=e.reqExp}else{let e=n*s*r,t=a.curExp+e;a.curExp=t}a.elapsedTime=a.elapsedTime%a.growthTime}}let c=this.calcProdOutput(a,o);return a.production=c,a},calcTimeTillLevel:function(e,t){let a=t.numAuto||t?.numAuto===0?t.numAuto:1;if(0===a)return 1/0;let o=e.reqExp-e.curExp,i=this.calcEXPBonus(t);return Math.ceil(o/(e.prestigeBonus*i*a))*e.growthTime-e.elapsedTime},getNextShopCosts:function(e){let t=1,a=e.FarmingShopPlantTotalProduction||0===e.FarmingShopPlantTotalProduction?e.FarmingShopPlantTotalProduction:e.shopProdLevel,o=1,l=e.FarmingShopPlantGrowingSpeed||0===e.FarmingShopPlantGrowingSpeed?e.FarmingShopPlantGrowingSpeed:e.shopGrowingSpeed,r=e.FarmingShopPlantRankExpEarned||0===e.FarmingShopPlantRankExpEarned?e.FarmingShopPlantRankExpEarned:e.shopRankLevel,n=i.Z.pow(1.05,a-50),s=i.Z.multiplyDecimal(100,n),c=i.Z.pow(s,a),u=i.Z.multiplyDecimal(1e8,c);return{prodCost:t=a>50?u:i.Z.multiplyDecimal(1e8,i.Z.pow(100,a)),growthCost:i.Z.multiplyDecimal(i.Z.pow(500,l),1e10),expCost:i.Z.multiplyDecimal(i.Z.pow(250,r),1e15)}},calcMaxPrestige:function(e){let t=e.prestige,a=0,o=!0;for(;o;){let i=10*Math.pow(2,t),l=a+i;e.created.greaterThanOrEqualTo(l)?(t++,a+=i):o=!1}return t-e.prestige},calcTimeTillPrestige:function(e,t){let a=JSON.parse(JSON.stringify(e));this.resetPlantBD(a);let o=JSON.parse(JSON.stringify(t));this.resetModifiersBD(o);let l=o.numAuto||o?.numAuto===0?o.numAuto:1,r=!1,n=0,s=0,c=this.calcEXPBonus(o),u=a.prestigeBonus*c;for(;!r;){let e=this.calcTimeTillLevel(a,o),t=10*Math.pow(2,a.prestige),c=s+t,m=i.Z.subtractDecimal(c,a.created),p=i.Z.multiplyDecimal(i.Z.divideDecimal(m,a.perHarvest*l).ceil(),a.growthTime).ceil().toNumber();if(0===l&&m.greaterThan(0))r=!0,n=1/0;else if(p<=0)r=!0,n<=0&&(a.prestige++,r=!1,s+=t);else if(p>e){a.elapsedTime+=e;let t=Math.floor(a.elapsedTime/a.growthTime);a.created=i.Z.addDecimal(a.created,t*a.perHarvest*l),a.totalMade=i.Z.addDecimal(a.totalMade,t*a.perHarvest*l);let r=this.calcCarryOverEXP({plant:a,numAutos:l,expTick:u*t});a.Rank+=r.numLevels,a.curExp=r.leftOver,a.reqExp=r.reqExp,a.perHarvest=this.calcPlantHarvest(a,o),n+=e,a.elapsedTime=a.elapsedTime%a.growthTime}else{r=!0,a.elapsedTime+=p;let e=Math.floor(a.elapsedTime/a.growthTime);a.created=i.Z.addDecimal(a.created,e*a.perHarvest*l),a.totalMade=i.Z.addDecimal(a.totalMade,e*a.perHarvest*l),n+=p,a.elapsedTime=a.elapsedTime%a.growthTime}}return{remainingTime:n,prestige:a.prestige,prestiged:r}},resetPlantBD:function(e){e.totalMade=e?.totalMade?.mantissa||e?.totalMade?.mantissa===0?e.totalMade:i.Z.createDecimal(e.totalMade),e.created=e?.created?.mantissa||e?.created?.mantissa===0?e.created:i.Z.createDecimal(e.created),e.production=e?.production?.mantissa||e?.production?.mantissa===0?e.production:i.Z.createDecimal(e.production),e.futureMult=i.Z.createDecimal(e.futureMult)},resetModifiersBD:function(e){e.shopProdBonus=e?.shopProdBonus?.mantissa||e?.shopProdBonus?.mantissa===0?e.shopProdBonus:i.Z.createDecimal(e.shopProdBonus),e.hpBonus=e?.hpBonus?.mantissa||e?.hpBonus?.mantissa===0?e.hpBonus:i.Z.createDecimal(e.hpBonus),e.curPotatoes=e?.curPotatoes?.mantissa||e?.curPotatoes.mantissa===0?e.curPotatoes:i.Z.createDecimal(e.curPotatoes),e.totalPotatoes=e?.totalPotatoes?.mantissa||e?.totalPotatoes?.mantissa===0?e.totalPotatoes:i.Z.createDecimal(e.totalPotatoes)},calcHPProd:function(e,t){let a=JSON.parse(JSON.stringify(e));for(let e=0;e<a.length;e++)this.resetPlantBD(a[e]);let r=JSON.parse(JSON.stringify(t));this.resetModifiersBD(r),r.nextCosts.prodCost=i.Z.createDecimal(r.nextCosts.prodCost),r.nextCosts.growthCost=i.Z.createDecimal(r.nextCosts.growthCost),r.nextCosts.expCost=i.Z.createDecimal(r.nextCosts.expCost);let n=r.numAutos,s=r.time,c=r.startTime?r.startTime:0,u=r.runningTime?r.runningTime:0,m=r.maxSteps?r.maxSteps:100,p=r.tickStart?r.tickStart:0,d=r.tickRate?r.tickRate:60,h=r.dataPointThreshold?r.dataPointThreshold:s/d<m?1:o.Z.roundInt(s/d/m),g=[],P=[],Z=r.totalPotatoes,f=r.curPotatoes,D=Array(a.length).fill(0);for(let e=0;e<a.length;e++)D[e]=a[e].production;let T=0,v=!1,B=1;for(d>2&&(B=.95);T<s/d||v;T++){let e=0;for(let t=a.length-1;t>=0;t--){let o=a[t],l=t===a.length-1?0:d>1?i.Z.multiplyDecimal(i.Z.addDecimal(D[t+1],a[t+1].production),.5*d*B):i.Z.multiplyDecimal(a[t+1].production,d);o.totalMade=i.Z.addDecimal(o.totalMade,l),1===(o=this.calcFutureMult(o,{...r,time:d,numAuto:n[t],string:!1})).ID&&(e=D[t]),D[t]=o.production}r.timePassed+=d,r.potionRank>1&&!r.forceRankPotion&&(r.potionRankTime-=d,r.potionRankTime<0&&(r.potionRank=1));let t=o.Z.roundInt(T*d+c),m=d>1?i.Z.multiplyDecimal(i.Z.addDecimal(e,a[0].production),.525*d*B):a[0].production;if(Z=i.Z.addDecimal(Z,m),f=i.Z.addDecimal(f,m),r.autoBuyPBC){let e=!1,t=!0;for(;t;)if(t=!1,!0===f.greaterThanOrEqualTo(r.nextCosts.prodCost)&&(f=i.Z.subtractDecimal(f,r.nextCosts.prodCost),r.shopProdLevel++,r.shopProdBonus=this.calcShopProdBonus(r,r.shopProdLevel),e=!0,t=!0),!0===f.greaterThanOrEqualTo(r.nextCosts.growthCost)&&(f=i.Z.subtractDecimal(f,r.nextCosts.growthCost),r.shopGrowingSpeed++,e=!0,t=!0),!0===f.greaterThanOrEqualTo(r.nextCosts.expCost)&&(f=i.Z.subtractDecimal(f,r.nextCosts.expCost),r.shopRankLevel++,r.shopRankEXP=1+.1*r.shopRankLevel,e=!0,t=!0),e){let e=this.getNextShopCosts(r);r.nextCosts=e}}if(T%h==0&&t>=p&&t<=s+u&&(g.push({time:t,production:Z}),P.push({time:t,fries:i.Z.multiplyDecimal(l.calcFryOutput(Z,r),1.05)})),!r.skipFinal){if(v&&t>=s+u)break;!v&&t<s+u&&(v=!0)}}if(T>0&&!r.skipFinal){let e=o.Z.roundInt(T*d+c);if(r.passedTime=T*d+c,0===g.length)g.push({time:e,production:Z}),P.push({time:e,fries:i.Z.multiplyDecimal(l.calcFryOutput(Z,r),1.05)});else if(g[g.length-1].production!==Z&&e>s+u){let t=e-g[g.length-1].time,a=i.Z.divideDecimal(i.Z.subtractDecimal(Z,g[g.length-1].production),t),o=s+u-g[g.length-1].time,n=i.Z.addDecimal(g[g.length-1].production,i.Z.multiplyDecimal(a,o)),c={time:g[g.length-1].time+o,production:n};g.push(c),P.push({time:g[g.length-1].time+o,fries:i.Z.multiplyDecimal(l.calcFryOutput(Z,r),1.05)}),Z=n}}return{totalPotatoes:Z,potatoeProduction:a[0].production,plants:a,nextCosts:r.nextCosts,dataPointsPotatoes:g,dataPointsFries:P,finalModifiers:r}},calcStepHPProd:function(e,t){let a=JSON.parse(JSON.stringify(e));for(let e=0;e<a.length;e++)this.resetPlantBD(a[e]);let i=JSON.parse(JSON.stringify(t));this.resetModifiersBD(i);let l=i.steps,r=-1,n=[],s=[],c=0,u=i.maxSteps?i.maxSteps:100,m=i.tickRate?i.tickRate:60,p=t.time/m<u?1:o.Z.roundInt(t.time/m/u);for(let e=0;e<l.length;e++)0!==l[e].time&&((i=(r=this.calcHPProd(a,{...i,numAutos:l[e].autos,time:l[e].time,dataPointThreshold:p,startTime:n.length>0?n[n.length-1].time:0,runningTime:c,skipFinal:e<l.length-1,tickStart:n.length>0?n[n.length-1].time+p*m:0})).finalModifiers).totalPotatoes=r.totalPotatoes,a=r.plants,n=n.concat(r.dataPointsPotatoes),s=s.concat(r.dataPointsFries),l[e].obj={text:`P${l.length-e} for ${l[e].time}`,numAutos:l[e].autos,time:l[e].time},c+=l[e].time);return -1===r?(r={}).dataPointsPotatoes=n:r.dataPointsPotatoes=n,r.dataPointsFries=s,r.steps=l,r},calcAssemblyHP:function(e){let t=1;return e?.AssemblerCollection[0].BonusList[0].StartingLevel<=e?.AssemblerCollection[0].Level&&(t=Math.pow(1+e?.AssemblerCollection[0].BonusList[0].Gain,e?.AssemblerCollection[0].Level-e?.AssemblerCollection[0].BonusList[0].StartingLevel)),t},calcAssembly:function(e,t,a){let o=1;return e?.AssemblerCollection[t].BonusList[a].StartingLevel<=e?.AssemblerCollection[t].Level&&(o=Math.pow(1+e?.AssemblerCollection[t].BonusList[a].Gain,Math.max(0,e.AssemblerCollection[t].Level-(e.AssemblerCollection[t].BonusList[a].StartingLevel-1)))),o},calcAssemblyLine:function(e,t){let a=1;return e.StartingLevel<=t&&(a=Math.pow(1+e.Gain,Math.max(0,t-(e.StartingLevel-1)))),a},calcAssemblyCost:function(e,t){i.Z.createDecimal(-1);let a=i.Z.createDecimal(t.AssemblyCostReductionBonus),o=t.AssemblerCollection[e],l=i.Z.createDecimal(o.BaseCost),r=i.Z.addDecimal(l,i.Z.multiplyDecimal(l,o.Level)),n=1+o.CostExpo+o.CostExpo*o.Level*.02,s=i.Z.createDecimal(n),c=i.Z.pow(s,o.Level);return i.Z.divideDecimal(i.Z.multiplyDecimal(r,c),a)},calcProteinPerSecond:function(e){let t=i.Z.createDecimal(e.ProteinBonus),a=i.Z.createDecimal(e.FrenchFriesTotal),o=i.Z.createDecimal(1);if(a.greaterThan(1e10)){let e=i.Z.logDecimal(a,5);e=i.Z.subtractDecimal(e,13.48);let l=i.Z.logDecimal(a,10);l=i.Z.subtractDecimal(l,8),o=i.Z.multiplyDecimal(i.Z.multiplyDecimal(e,i.Z.pow(1.1,l)),t)}return o},calcContagionBonus:function(e,t){let a=1;return e.GrasshopperCollection[t].Locked>0&&(a*=Math.pow(1+.01*o.Z.calcPOW(e.GrasshopperCollection[t].BaseBonus),o.Z.calcPOW(e.GrasshopperCollection[t].Level))),a},calcExpeditionHP:function(e){let t=1;if(e.ExpeditionsCollection[16].Locked>0){let a=e.ExpeditionsCollection[16];t=Math.pow(1+a.BonusPower,a.Room-1)}return t},calcUniqueHPBonus:function(e){let t=1;for(let a=0;a<e.FarmingShopUniqueHealthy.length;a++)t*=e.FarmingShopUniqueHealthy[a]+1;return t},calcFriesHPBonus:function(e){return 1*(1+o.Z.calcPOW(e.FrenchFriesTotal)*((.01*e.FarmingShopFriesHealthyBonus+.1)*this.calcContagionBonus(e,5)))},calcPetHPBonus:function(e){let t=1,a=e.EquipedPetID,i=e.PetsCollection,l={};for(let e=0;e<a.length;e++)a[e]>0&&(l[a[e]]=!0);for(let e=0;e<i.length;e++){let a=i[e];if(a.ID in l)for(let e=0;e<a.BonusList.length;e++){let i=a.BonusList[e];23===i.ID&&(t+=.5*((Math.pow(1+i.Gain,a.Level)-1+Math.max(0,(.005*o.Z.calculateLogarithm(1.0125,a.Level+1)-1)*.5))*(1+.005*o.Z.calculateLogarithm(1.075,a.Rank+1))))}}return t},calcHPBonus:function(e){return o.Z.calcPOW(e.HealthyPotatoBonus)}};let r=l},71625:(e,t,a)=>{a.d(t,{Z:()=>o});let o={src:"/_next/static/media/info_white.1bde3dac.svg",height:123,width:123,blurWidth:0,blurHeight:0}}};