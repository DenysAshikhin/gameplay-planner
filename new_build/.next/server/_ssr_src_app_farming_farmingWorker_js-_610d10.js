/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "(ssr)/./src/app/farming/farmingWorker.js":
/*!******************************************!*\
  !*** ./src/app/farming/farmingWorker.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util_farmingHelper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/farmingHelper.js */ \"(ssr)/./src/app/util/farmingHelper.js\");\n/* harmony import */ var _util_math_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/math.js */ \"(ssr)/./src/app/util/math.js\");\n/* harmony import */ var _util_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/helper.js */ \"(ssr)/./src/app/util/helper.js\");\n\n\n\n// eslint-disable-next-line no-restricted-globals\nself.onmessage = ({ data: { data, id, data1 } })=>{\n    try {\n        let finalPlants = data.finalPlants;\n        //for some reason the break-infinity values get changed into {mantissa: x, exponent: y} objects, revert\n        for(let i = 0; i < finalPlants.length; i++){\n            let cur = finalPlants[i];\n            cur.created = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(cur.created);\n            cur.totalMade = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(cur.totalMade);\n            cur.production = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(cur.production);\n        }\n        let modifiers = data.modifiers;\n        //Same thing for modifiers\n        modifiers.shopProdBonus = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.shopProdBonus);\n        modifiers.hpBonus = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.hpBonus);\n        modifiers.curPotatoes = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.curPotatoes);\n        modifiers.totalPotatoes = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.totalPotatoes);\n        const mode = data.mode;\n        const secondsHour = 3600;\n        let futureTime = data.time;\n        const numSimulatedAutos = data.numSimulatedAutos ? data.numSimulatedAutos : 1;\n        // let totalNumAutos = data.FarmingShopAutoPlotBought;\n        // let numPlants = finalPlants.length;\n        let combinations = data.combinations;\n        let totalPot = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(0);\n        let totalPotCombo = {};\n        let bestProd = _util_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(0);\n        let bestProdCombo = {};\n        let bestPIC = 0;\n        let bestPicCombo = {\n            potatoeProduction: 0\n        };\n        let bestPICPerc = 0;\n        let bestPICPercCombo = {\n            potatoeProduction: 0\n        };\n        let dataObj = {\n            ...modifiers,\n            time: secondsHour * futureTime\n        };\n        let top10DataPointsPotatoes = [];\n        let top10DataPointsFries = [];\n        let counter = 0;\n        let counterMax = data.end - data.start;\n        for(let i = data.start; i <= data.end; i++){\n            counterMax--;\n            counter++;\n            let combo = combinations[i];\n            dataObj.numAutos = combo;\n            let result;\n            switch(mode){\n                case \"afk\":\n                    result = _util_farmingHelper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcHPProd(finalPlants, dataObj);\n                    break;\n                case \"carlo\":\n                    result = _util_farmingHelper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcStepHPProd(finalPlants, {\n                        ...dataObj,\n                        steps: combo\n                    });\n                    break;\n                case \"step\":\n                    if (combo[0] === 0 && combo[1] === 0 && combo[2] === 0 && combo[3] === 0 && combo[4] === 0) {\n                        let bigsad = -1;\n                    }\n                    let steps = [];\n                    let curStep = 0;\n                    let numSteps = 0;\n                    let minTime = 0;\n                    for(let j = 0; j < combo.length; j++){\n                        if (combo[j] > 0) {\n                            numSteps++;\n                            minTime += combo[j] * data.baseTimers[j];\n                        }\n                    }\n                    let remaining = secondsHour * futureTime - minTime;\n                    for(let j = 0; j < data.baseTimers.length; j++){\n                        if (combo[j] > 0) {\n                            curStep++;\n                        }\n                        let autos = Array(data.baseTimers.length).fill(0);\n                        autos[j] = numSimulatedAutos;\n                        autos.reverse();\n                        let runTime = combo[j] * data.baseTimers[j];\n                        //If its the last plant that will be grown, give the remaining time to it\n                        if (curStep === numSteps && combo[j] > 0) {\n                            runTime += remaining;\n                        } else if (combo[j] > 0) {\n                            let curPlant = finalPlants[finalPlants.length - 1 - j];\n                            let remainder = runTime % curPlant.growthTime;\n                            //Round down, add run time\n                            if (remainder <= curPlant.growthTime * 0.5) {\n                                runTime -= remainder;\n                                remaining += remainder;\n                            } else {\n                                let diff = curPlant.growthTime - remainder;\n                                //Only subtract time from final plant IF there is enough remaining time\n                                if (remaining >= diff) {\n                                    runTime += diff;\n                                    remaining -= diff;\n                                }\n                            }\n                        }\n                        steps.push({\n                            time: _util_helper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].roundInt(runTime),\n                            autos: autos\n                        });\n                    }\n                    result = _util_farmingHelper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcStepHPProd(finalPlants, {\n                        ...dataObj,\n                        steps: steps\n                    });\n                    break;\n                default:\n                    result = _util_farmingHelper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcHPProd(finalPlants, dataObj);\n                    break;\n            }\n            let picGained = 0;\n            let picPercent = 0;\n            let temp;\n            for(let j = 0; j < result.plants.length; j++){\n                let picIncrease = _util_farmingHelper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcMaxPrestige(result.plants[j]);\n                picGained += picIncrease;\n                picPercent += Math.pow(1.02, result.plants[j].prestige + picIncrease) - Math.pow(1.02, result.plants[j].prestige);\n                result.plants[j].picIncrease = picIncrease;\n            }\n            if (result.totalPotatoes.greaterThanOrEqualTo(totalPot) === true) {\n                totalPot = result.totalPotatoes;\n                totalPotCombo = {\n                    combo: combo,\n                    result: result,\n                    plants: result.plants\n                };\n                top10DataPointsPotatoes.unshift({\n                    data: result.dataPointsPotatoes,\n                    result: totalPot\n                });\n                if (top10DataPointsPotatoes.length > 10) {\n                    top10DataPointsPotatoes.pop();\n                }\n                top10DataPointsFries.unshift({\n                    data: result.dataPointsFries,\n                    result: totalPot\n                });\n                if (top10DataPointsFries.length > 10) {\n                    top10DataPointsFries.pop();\n                }\n            }\n            if (result.potatoeProduction.greaterThanOrEqualTo(bestProd) === true) {\n                bestProd = result.potatoeProduction;\n                bestProdCombo = {\n                    combo: combo,\n                    result: result,\n                    plants: result.plants\n                };\n            }\n            if (picGained > bestPIC) {\n                temp = {\n                    combo: combo,\n                    result: result,\n                    plants: result.plants,\n                    potatoeProduction: result.potatoeProduction,\n                    picGain: picGained,\n                    picStats: {\n                        picLevel: picGained,\n                        picPercent: picPercent\n                    }\n                };\n                bestPIC = picGained;\n                bestPicCombo = temp;\n            } else if (picGained === bestPIC) {\n                if (result.potatoeProduction.greaterThanOrEqualTo(bestPicCombo.potatoeProduction)) {\n                    temp = {\n                        combo: combo,\n                        result: result,\n                        plants: result.plants,\n                        potatoeProduction: result.potatoeProduction,\n                        picGain: picGained,\n                        picStats: {\n                            picLevel: picGained,\n                            picPercent: picPercent\n                        }\n                    };\n                    bestPIC = picGained;\n                    bestPicCombo = temp;\n                }\n            }\n            if (picPercent > bestPICPerc) {\n                temp = {\n                    combo: combo,\n                    result: result,\n                    plants: result.plants,\n                    potatoeProduction: result.potatoeProduction,\n                    picGain: picPercent,\n                    picStats: {\n                        picLevel: picGained,\n                        picPercent: picPercent\n                    }\n                };\n                bestPICPerc = picPercent;\n                bestPICPercCombo = temp;\n            } else if (picPercent === bestPICPerc) {\n                if (result.potatoeProduction.greaterThanOrEqualTo(bestPICPercCombo.potatoeProduction)) {\n                    temp = {\n                        combo: combo,\n                        result: result,\n                        plants: result.plants,\n                        potatoeProduction: result.potatoeProduction,\n                        picGain: picPercent,\n                        picStats: {\n                            picLevel: picGained,\n                            picPercent: picPercent\n                        }\n                    };\n                    bestPICPerc = picPercent;\n                    bestPICPercCombo = temp;\n                }\n            }\n            if (counter % 100 === 0) {\n                // eslint-disable-next-line no-restricted-globals\n                self.postMessage({\n                    update: true,\n                    temp: temp,\n                    updateAmount: 100\n                });\n            }\n        }\n        // eslint-disable-next-line no-restricted-globals\n        self.postMessage({\n            update: true,\n            updateAmount: counterMax\n        });\n        // eslint-disable-next-line no-restricted-globals\n        self.postMessage({\n            success: true,\n            totalPotCombo: totalPotCombo,\n            bestProdCombo: bestProdCombo,\n            bestPicCombo: bestPicCombo,\n            bestPICPercCombo: bestPICPercCombo,\n            top10DataPointsPotatoes: top10DataPointsPotatoes,\n            top10DataPointsFries: top10DataPointsFries\n        });\n    } catch (err) {\n        console.log(err);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDUkMsY0FBYzlDO1FBQ2xCO1FBRUEsaURBQWlEO1FBQ2pEckMsS0FBS2lGLFdBQVcsQ0FBQztZQUNiRyxTQUFTO1lBQ1QzRCxlQUFlQTtZQUNmRSxlQUFlQTtZQUNmRSxjQUFjQTtZQUNkRyxrQkFBa0JBO1lBQ2xCRSx5QkFBeUJBO1lBQ3pCQyxzQkFBc0JBO1FBQzFCO0lBQ0osRUFDQSxPQUFPa0QsS0FBSztRQUNSQyxRQUFRQyxHQUFHLENBQUNGO0lBQ2hCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lcGxheS1wbGFubmVyLy4vc3JjL2FwcC9mYXJtaW5nL2Zhcm1pbmdXb3JrZXIuanM/MGEwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaGVscGVyIGZyb20gJy4uL3V0aWwvZmFybWluZ0hlbHBlci5qcyc7XHJcbmltcG9ydCBtYXRoSGVscGVyIGZyb20gJy4uL3V0aWwvbWF0aC5qcyc7XHJcbmltcG9ydCBnZW5lcmFsSGVscGVyIGZyb20gJy4uL3V0aWwvaGVscGVyLmpzJztcclxuXHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXHJcbnNlbGYub25tZXNzYWdlID0gKHsgZGF0YTogeyBkYXRhLCBpZCwgZGF0YTEgfSB9KSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZmluYWxQbGFudHMgPSBkYXRhLmZpbmFsUGxhbnRzO1xyXG5cclxuICAgICAgICAvL2ZvciBzb21lIHJlYXNvbiB0aGUgYnJlYWstaW5maW5pdHkgdmFsdWVzIGdldCBjaGFuZ2VkIGludG8ge21hbnRpc3NhOiB4LCBleHBvbmVudDogeX0gb2JqZWN0cywgcmV2ZXJ0XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluYWxQbGFudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGN1ciA9IGZpbmFsUGxhbnRzW2ldO1xyXG4gICAgICAgICAgICBjdXIuY3JlYXRlZCA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChjdXIuY3JlYXRlZCk7XHJcbiAgICAgICAgICAgIGN1ci50b3RhbE1hZGUgPSBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwoY3VyLnRvdGFsTWFkZSk7XHJcbiAgICAgICAgICAgIGN1ci5wcm9kdWN0aW9uID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKGN1ci5wcm9kdWN0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtb2RpZmllcnMgPSBkYXRhLm1vZGlmaWVycztcclxuICAgICAgICAvL1NhbWUgdGhpbmcgZm9yIG1vZGlmaWVyc1xyXG4gICAgICAgIG1vZGlmaWVycy5zaG9wUHJvZEJvbnVzID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKG1vZGlmaWVycy5zaG9wUHJvZEJvbnVzKTtcclxuICAgICAgICBtb2RpZmllcnMuaHBCb251cyA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnMuaHBCb251cyk7XHJcbiAgICAgICAgbW9kaWZpZXJzLmN1clBvdGF0b2VzID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKG1vZGlmaWVycy5jdXJQb3RhdG9lcyk7XHJcbiAgICAgICAgbW9kaWZpZXJzLnRvdGFsUG90YXRvZXMgPSBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwobW9kaWZpZXJzLnRvdGFsUG90YXRvZXMpO1xyXG5cclxuICAgICAgICBjb25zdCBtb2RlID0gZGF0YS5tb2RlO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZHNIb3VyID0gMzYwMDtcclxuICAgICAgICBsZXQgZnV0dXJlVGltZSA9IGRhdGEudGltZTtcclxuICAgICAgICBjb25zdCBudW1TaW11bGF0ZWRBdXRvcyA9IGRhdGEubnVtU2ltdWxhdGVkQXV0b3MgPyBkYXRhLm51bVNpbXVsYXRlZEF1dG9zIDogMTtcclxuICAgICAgICAvLyBsZXQgdG90YWxOdW1BdXRvcyA9IGRhdGEuRmFybWluZ1Nob3BBdXRvUGxvdEJvdWdodDtcclxuICAgICAgICAvLyBsZXQgbnVtUGxhbnRzID0gZmluYWxQbGFudHMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBjb21iaW5hdGlvbnMgPSBkYXRhLmNvbWJpbmF0aW9ucztcclxuXHJcblxyXG4gICAgICAgIGxldCB0b3RhbFBvdCA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbCgwKTtcclxuICAgICAgICBsZXQgdG90YWxQb3RDb21ibyA9IHt9O1xyXG4gICAgICAgIGxldCBiZXN0UHJvZCA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbCgwKTtcclxuICAgICAgICBsZXQgYmVzdFByb2RDb21ibyA9IHt9O1xyXG4gICAgICAgIGxldCBiZXN0UElDID0gMDtcclxuICAgICAgICBsZXQgYmVzdFBpY0NvbWJvID0geyBwb3RhdG9lUHJvZHVjdGlvbjogMCB9O1xyXG4gICAgICAgIGxldCBiZXN0UElDUGVyYyA9IDA7XHJcbiAgICAgICAgbGV0IGJlc3RQSUNQZXJjQ29tYm8gPSB7IHBvdGF0b2VQcm9kdWN0aW9uOiAwIH1cclxuICAgICAgICBsZXQgZGF0YU9iaiA9IHsgLi4ubW9kaWZpZXJzLCB0aW1lOiBzZWNvbmRzSG91ciAqIGZ1dHVyZVRpbWUgfTtcclxuXHJcbiAgICAgICAgbGV0IHRvcDEwRGF0YVBvaW50c1BvdGF0b2VzID0gW107XHJcbiAgICAgICAgbGV0IHRvcDEwRGF0YVBvaW50c0ZyaWVzID0gW107XHJcblxyXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgICAgICBsZXQgY291bnRlck1heCA9IGRhdGEuZW5kIC0gZGF0YS5zdGFydDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGRhdGEuc3RhcnQ7IGkgPD0gZGF0YS5lbmQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb3VudGVyTWF4LS07XHJcbiAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgICAgbGV0IGNvbWJvID0gY29tYmluYXRpb25zW2ldO1xyXG4gICAgICAgICAgICBkYXRhT2JqLm51bUF1dG9zID0gY29tYm87XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Fmayc6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhlbHBlci5jYWxjSFBQcm9kKGZpbmFsUGxhbnRzLCBkYXRhT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhcmxvJzpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBoZWxwZXIuY2FsY1N0ZXBIUFByb2QoZmluYWxQbGFudHMsIHsgLi4uZGF0YU9iaiwgc3RlcHM6IGNvbWJvIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc3RlcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbWJvWzBdID09PSAwICYmIGNvbWJvWzFdID09PSAwICYmIGNvbWJvWzJdID09PSAwICYmIGNvbWJvWzNdID09PSAwICYmIGNvbWJvWzRdID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiaWdzYWQgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZXBzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJTdGVwID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbnVtU3RlcHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW5UaW1lID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb21iby5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tYm9bal0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1TdGVwcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluVGltZSArPSBjb21ib1tqXSAqIGRhdGEuYmFzZVRpbWVyc1tqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluaW5nID0gKHNlY29uZHNIb3VyICogZnV0dXJlVGltZSkgLSBtaW5UaW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRhdGEuYmFzZVRpbWVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tYm9bal0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTdGVwKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF1dG9zID0gQXJyYXkoZGF0YS5iYXNlVGltZXJzLmxlbmd0aCkuZmlsbCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3Nbal0gPSBudW1TaW11bGF0ZWRBdXRvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3MucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcnVuVGltZSA9IGNvbWJvW2pdICogZGF0YS5iYXNlVGltZXJzW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBpdHMgdGhlIGxhc3QgcGxhbnQgdGhhdCB3aWxsIGJlIGdyb3duLCBnaXZlIHRoZSByZW1haW5pbmcgdGltZSB0byBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU3RlcCA9PT0gbnVtU3RlcHMgJiYgY29tYm9bal0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5UaW1lICs9IHJlbWFpbmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL290aGVyd2lzZSwgcm91bmQgb2ZmIHRpbWUgZnJvbSBvdGhlciBwbGFudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29tYm9bal0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VyUGxhbnQgPSBmaW5hbFBsYW50c1tmaW5hbFBsYW50cy5sZW5ndGggLSAxIC0gal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluZGVyID0gcnVuVGltZSAlIGN1clBsYW50Lmdyb3d0aFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1JvdW5kIGRvd24sIGFkZCBydW4gdGltZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbmRlciA8PSBjdXJQbGFudC5ncm93dGhUaW1lICogMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuVGltZSAtPSByZW1haW5kZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nICs9IHJlbWFpbmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUm91bmQgdXAsIHJlZHVjZSBydW4gdGltZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpZmYgPSBjdXJQbGFudC5ncm93dGhUaW1lIC0gcmVtYWluZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vT25seSBzdWJ0cmFjdCB0aW1lIGZyb20gZmluYWwgcGxhbnQgSUYgdGhlcmUgaXMgZW5vdWdoIHJlbWFpbmluZyB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA+PSBkaWZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1blRpbWUgKz0gZGlmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nIC09IGRpZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogZ2VuZXJhbEhlbHBlci5yb3VuZEludChydW5UaW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9zOiBhdXRvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBoZWxwZXIuY2FsY1N0ZXBIUFByb2QoZmluYWxQbGFudHMsIHsgLi4uZGF0YU9iaiwgc3RlcHM6IHN0ZXBzIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBoZWxwZXIuY2FsY0hQUHJvZChmaW5hbFBsYW50cywgZGF0YU9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwaWNHYWluZWQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgcGljUGVyY2VudCA9IDA7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXN1bHQucGxhbnRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGljSW5jcmVhc2UgPSBoZWxwZXIuY2FsY01heFByZXN0aWdlKHJlc3VsdC5wbGFudHNbal0pO1xyXG4gICAgICAgICAgICAgICAgcGljR2FpbmVkICs9IHBpY0luY3JlYXNlO1xyXG4gICAgICAgICAgICAgICAgcGljUGVyY2VudCArPSAoTWF0aC5wb3coMS4wMiwgcmVzdWx0LnBsYW50c1tqXS5wcmVzdGlnZSArIHBpY0luY3JlYXNlKSAtIE1hdGgucG93KDEuMDIsIHJlc3VsdC5wbGFudHNbal0ucHJlc3RpZ2UpKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wbGFudHNbal0ucGljSW5jcmVhc2UgPSBwaWNJbmNyZWFzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdC50b3RhbFBvdGF0b2VzLmdyZWF0ZXJUaGFuT3JFcXVhbFRvKHRvdGFsUG90KSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdG90YWxQb3QgPSByZXN1bHQudG90YWxQb3RhdG9lcztcclxuICAgICAgICAgICAgICAgIHRvdGFsUG90Q29tYm8gPSB7IGNvbWJvOiBjb21ibywgcmVzdWx0OiByZXN1bHQsIHBsYW50czogcmVzdWx0LnBsYW50cyB9XHJcblxyXG4gICAgICAgICAgICAgICAgdG9wMTBEYXRhUG9pbnRzUG90YXRvZXMudW5zaGlmdCh7IGRhdGE6IHJlc3VsdC5kYXRhUG9pbnRzUG90YXRvZXMsIHJlc3VsdDogdG90YWxQb3QgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9wMTBEYXRhUG9pbnRzUG90YXRvZXMubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3AxMERhdGFQb2ludHNQb3RhdG9lcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvcDEwRGF0YVBvaW50c0ZyaWVzLnVuc2hpZnQoeyBkYXRhOiByZXN1bHQuZGF0YVBvaW50c0ZyaWVzLCByZXN1bHQ6IHRvdGFsUG90IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvcDEwRGF0YVBvaW50c0ZyaWVzLmxlbmd0aCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wMTBEYXRhUG9pbnRzRnJpZXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnBvdGF0b2VQcm9kdWN0aW9uLmdyZWF0ZXJUaGFuT3JFcXVhbFRvKGJlc3RQcm9kKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgYmVzdFByb2QgPSByZXN1bHQucG90YXRvZVByb2R1Y3Rpb247XHJcbiAgICAgICAgICAgICAgICBiZXN0UHJvZENvbWJvID0geyBjb21ibzogY29tYm8sIHJlc3VsdDogcmVzdWx0LCBwbGFudHM6IHJlc3VsdC5wbGFudHMgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGljR2FpbmVkID4gYmVzdFBJQykge1xyXG4gICAgICAgICAgICAgICAgdGVtcCA9IHsgY29tYm86IGNvbWJvLCByZXN1bHQ6IHJlc3VsdCwgcGxhbnRzOiByZXN1bHQucGxhbnRzLCBwb3RhdG9lUHJvZHVjdGlvbjogcmVzdWx0LnBvdGF0b2VQcm9kdWN0aW9uLCBwaWNHYWluOiBwaWNHYWluZWQsIHBpY1N0YXRzOiB7IHBpY0xldmVsOiBwaWNHYWluZWQsIHBpY1BlcmNlbnQ6IHBpY1BlcmNlbnQgfSB9O1xyXG4gICAgICAgICAgICAgICAgYmVzdFBJQyA9IHBpY0dhaW5lZDtcclxuICAgICAgICAgICAgICAgIGJlc3RQaWNDb21ibyA9IHRlbXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGljR2FpbmVkID09PSBiZXN0UElDKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnBvdGF0b2VQcm9kdWN0aW9uLmdyZWF0ZXJUaGFuT3JFcXVhbFRvKGJlc3RQaWNDb21iby5wb3RhdG9lUHJvZHVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0geyBjb21ibzogY29tYm8sIHJlc3VsdDogcmVzdWx0LCBwbGFudHM6IHJlc3VsdC5wbGFudHMsIHBvdGF0b2VQcm9kdWN0aW9uOiByZXN1bHQucG90YXRvZVByb2R1Y3Rpb24sIHBpY0dhaW46IHBpY0dhaW5lZCwgcGljU3RhdHM6IHsgcGljTGV2ZWw6IHBpY0dhaW5lZCwgcGljUGVyY2VudDogcGljUGVyY2VudCB9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdFBJQyA9IHBpY0dhaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBiZXN0UGljQ29tYm8gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwaWNQZXJjZW50ID4gYmVzdFBJQ1BlcmMpIHtcclxuICAgICAgICAgICAgICAgIHRlbXAgPSB7IGNvbWJvOiBjb21ibywgcmVzdWx0OiByZXN1bHQsIHBsYW50czogcmVzdWx0LnBsYW50cywgcG90YXRvZVByb2R1Y3Rpb246IHJlc3VsdC5wb3RhdG9lUHJvZHVjdGlvbiwgcGljR2FpbjogcGljUGVyY2VudCwgcGljU3RhdHM6IHsgcGljTGV2ZWw6IHBpY0dhaW5lZCwgcGljUGVyY2VudDogcGljUGVyY2VudCB9IH07XHJcblxyXG4gICAgICAgICAgICAgICAgYmVzdFBJQ1BlcmMgPSBwaWNQZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgYmVzdFBJQ1BlcmNDb21ibyA9IHRlbXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGljUGVyY2VudCA9PT0gYmVzdFBJQ1BlcmMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucG90YXRvZVByb2R1Y3Rpb24uZ3JlYXRlclRoYW5PckVxdWFsVG8oYmVzdFBJQ1BlcmNDb21iby5wb3RhdG9lUHJvZHVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0geyBjb21ibzogY29tYm8sIHJlc3VsdDogcmVzdWx0LCBwbGFudHM6IHJlc3VsdC5wbGFudHMsIHBvdGF0b2VQcm9kdWN0aW9uOiByZXN1bHQucG90YXRvZVByb2R1Y3Rpb24sIHBpY0dhaW46IHBpY1BlcmNlbnQsIHBpY1N0YXRzOiB7IHBpY0xldmVsOiBwaWNHYWluZWQsIHBpY1BlcmNlbnQ6IHBpY1BlcmNlbnQgfSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBiZXN0UElDUGVyYyA9IHBpY1BlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVzdFBJQ1BlcmNDb21ibyA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjb3VudGVyICUgMTAwID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXHJcbiAgICAgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcDogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBbW91bnQ6IDEwMFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXHJcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHVwZGF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgdXBkYXRlQW1vdW50OiBjb3VudGVyTWF4XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xyXG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICB0b3RhbFBvdENvbWJvOiB0b3RhbFBvdENvbWJvLFxyXG4gICAgICAgICAgICBiZXN0UHJvZENvbWJvOiBiZXN0UHJvZENvbWJvLFxyXG4gICAgICAgICAgICBiZXN0UGljQ29tYm86IGJlc3RQaWNDb21ibyxcclxuICAgICAgICAgICAgYmVzdFBJQ1BlcmNDb21ibzogYmVzdFBJQ1BlcmNDb21ibyxcclxuICAgICAgICAgICAgdG9wMTBEYXRhUG9pbnRzUG90YXRvZXM6IHRvcDEwRGF0YVBvaW50c1BvdGF0b2VzLFxyXG4gICAgICAgICAgICB0b3AxMERhdGFQb2ludHNGcmllczogdG9wMTBEYXRhUG9pbnRzRnJpZXNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiaGVscGVyIiwibWF0aEhlbHBlciIsImdlbmVyYWxIZWxwZXIiLCJzZWxmIiwib25tZXNzYWdlIiwiZGF0YSIsImlkIiwiZGF0YTEiLCJmaW5hbFBsYW50cyIsImkiLCJsZW5ndGgiLCJjdXIiLCJjcmVhdGVkIiwiY3JlYXRlRGVjaW1hbCIsInRvdGFsTWFkZSIsInByb2R1Y3Rpb24iLCJtb2RpZmllcnMiLCJzaG9wUHJvZEJvbnVzIiwiaHBCb251cyIsImN1clBvdGF0b2VzIiwidG90YWxQb3RhdG9lcyIsIm1vZGUiLCJzZWNvbmRzSG91ciIsImZ1dHVyZVRpbWUiLCJ0aW1lIiwibnVtU2ltdWxhdGVkQXV0b3MiLCJjb21iaW5hdGlvbnMiLCJ0b3RhbFBvdCIsInRvdGFsUG90Q29tYm8iLCJiZXN0UHJvZCIsImJlc3RQcm9kQ29tYm8iLCJiZXN0UElDIiwiYmVzdFBpY0NvbWJvIiwicG90YXRvZVByb2R1Y3Rpb24iLCJiZXN0UElDUGVyYyIsImJlc3RQSUNQZXJjQ29tYm8iLCJkYXRhT2JqIiwidG9wMTBEYXRhUG9pbnRzUG90YXRvZXMiLCJ0b3AxMERhdGFQb2ludHNGcmllcyIsImNvdW50ZXIiLCJjb3VudGVyTWF4IiwiZW5kIiwic3RhcnQiLCJjb21ibyIsIm51bUF1dG9zIiwicmVzdWx0IiwiY2FsY0hQUHJvZCIsImNhbGNTdGVwSFBQcm9kIiwic3RlcHMiLCJiaWdzYWQiLCJjdXJTdGVwIiwibnVtU3RlcHMiLCJtaW5UaW1lIiwiaiIsImJhc2VUaW1lcnMiLCJyZW1haW5pbmciLCJhdXRvcyIsIkFycmF5IiwiZmlsbCIsInJldmVyc2UiLCJydW5UaW1lIiwiY3VyUGxhbnQiLCJyZW1haW5kZXIiLCJncm93dGhUaW1lIiwiZGlmZiIsInB1c2giLCJyb3VuZEludCIsInBpY0dhaW5lZCIsInBpY1BlcmNlbnQiLCJ0ZW1wIiwicGxhbnRzIiwicGljSW5jcmVhc2UiLCJjYWxjTWF4UHJlc3RpZ2UiLCJNYXRoIiwicG93IiwicHJlc3RpZ2UiLCJncmVhdGVyVGhhbk9yRXF1YWxUbyIsInVuc2hpZnQiLCJkYXRhUG9pbnRzUG90YXRvZXMiLCJwb3AiLCJkYXRhUG9pbnRzRnJpZXMiLCJwaWNHYWluIiwicGljU3RhdHMiLCJwaWNMZXZlbCIsInBvc3RNZXNzYWdlIiwidXBkYXRlIiwidXBkYXRlQW1vdW50Iiwic3VjY2VzcyIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/farming/farmingWorker.js\n");

/***/ }),

/***/ "(ssr)/./src/app/util/farmingHelper.js":
/*!***************************************!*\
  !*** ./src/app/util/farmingHelper.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper.js */ \"(ssr)/./src/app/util/helper.js\");\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./math.js */ \"(ssr)/./src/app/util/math.js\");\n\n\nvar farmingHelper = {\n    findMultipliersWithMinPercentage: function(sum, numbers, minPercentage) {\n        const multipliers = [];\n        let count = 0;\n        function backtrack(index, currentSum, currentMultipliers) {\n            count++;\n            if (index === numbers.length) {\n                const productSum = currentMultipliers.reduce((acc, multiplier, i)=>acc + multiplier * numbers[i], 0);\n                if (productSum >= minPercentage * sum) {\n                    multipliers.push([\n                        ...currentMultipliers\n                    ]);\n                }\n                return;\n            }\n            let max = Math.floor((sum - currentSum) / numbers[index]);\n            for(let multiplier = 0; multiplier <= max; multiplier++){\n                currentMultipliers[index] = multiplier;\n                let tempSum = currentSum + multiplier * numbers[index];\n                if (tempSum < sum) {\n                    backtrack(index + 1, currentSum + multiplier * numbers[index], currentMultipliers);\n                }\n            }\n        }\n        backtrack(0, 0, []);\n        console.log(count);\n        return multipliers;\n    },\n    calcGrowthTime: function(plant, modifiers) {\n        let growingBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.originalShopGrowingBonus);\n        growingBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(growingBonus, 1 + 0.05 * modifiers.originalShopGrowingLevel);\n        growingBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(growingBonus, 1 + 0.05 * modifiers.shopGrowingSpeed).toNumber();\n        let num = Math.floor(plant.TimeNeeded / plant.prestigeBonus / growingBonus);\n        return num < 10 ? 10 : num;\n    },\n    calcPlantHarvest: function(plant, modifiers) {\n        let num = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].roundInt((1 + plant.Rank) * Math.pow(1.05, plant.Rank)) * Math.pow(1.02, plant.prestige) * modifiers.manualHarvestBonus;\n        return num;\n    },\n    calcShopProdBonus: function(modifiers_input, shopLevel) {\n        shopLevel = shopLevel || shopLevel === 0 ? shopLevel : modifiers_input.FarmingShopPlantTotalProduction;\n        return _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(1.25, shopLevel);\n    },\n    calcProdOutput: function(plant_input, modifiers_input) {\n        let TotalCreated = plant_input.totalMade;\n        // let ManuallyCreated = plant_input.created;\n        // let shovel = modifiers_input.manualHarvestFormula;\n        let shopProdBonus = modifiers_input.shopProdBonus;\n        //note bigsad = -1 -> need to take into account assumbly in the future\n        // const assemblyBonus = modifiers_input.assemblyProduction;\n        let prestige = plant_input.prestige;\n        // GM.PD.PlantTotalProductionBonus = 1 * BigDouble.Pow(1.25, GM.PD.FarmingShopPlantTotalProduction) * GM.ASMA.GetAssemblerBonus(26) * GM.GHLM.GetBonus(3) * Math.Pow(1.01, Math.Max(0, GM.PD.CurrentEventPoint - 75));\n        // let PlantTotalProductionBonus = mathHelper.multiplyDecimal(mathHelper.multiplyDecimal(shopProdBonus, assemblyBonus), modifiers_input.contagionPlantProd);\n        let PlantTotalProductionBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers_input.originalShopProdBonus);\n        PlantTotalProductionBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(PlantTotalProductionBonus, this.calcShopProdBonus(null, modifiers_input.originalShopProdLevel));\n        PlantTotalProductionBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(shopProdBonus, PlantTotalProductionBonus);\n        let plantMult = plant_input.futureMult;\n        let output = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(TotalCreated, plantMult), PlantTotalProductionBonus), _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(Math.pow(1.02, prestige)));\n        if (plant_input.ID === 1) {\n            output = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(output, modifiers_input.hpBonus);\n        }\n        return output;\n    },\n    calcFryOutput: function(potatoes, modifiers) {\n        if (!potatoes) return 0;\n        if (potatoes.lessThan(10000000000000000)) return 0;\n        let timerBonus = 0;\n        let timePassed = modifiers.timePassed ? modifiers.timePassed : 0;\n        if (timePassed > 1800) {\n            if (timePassed < 86400) {\n                timerBonus = timePassed / 86400;\n            } else {\n                // 1.0 + (timePassed - 86400.0) / (172800.0 + (timePassed - 86400.0) * 0.5);\n                //1 + (step1) / (172800 + (step2) * 0.5)\n                let step1 = timePassed - 86400;\n                let step2 = timePassed - 86400;\n                let step3 = 172800 + step2 * 0.5;\n                let step4 = step1 / step3;\n                timerBonus = 1 + step4;\n            }\n        }\n        // BigDouble.Round(\n        // (Log10(HealthyPotatoTotal) - 15.75)\n        //  * (36 - Min(Log10(HealthyPotatoTotal), 31))\n        //  * Pow(1.15, Log10(HealthyPotatoTotal) - 16.0)\n        //  * FrenchFriesBonus \n        //  * TimerFriesPrestigeBonuses);\n        // BigDouble.Round(step1 * step2 * step3  * GM.PD.FrenchFriesBonus * GM.PD.TimerFriesPrestigeBonuses);\n        let log10 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].logDecimal(potatoes, 10);\n        let step1 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(log10, 15.75);\n        let log2 = log10;\n        log2 = log2.lessThan(31) ? log2 : 31;\n        let step2 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(36, log2);\n        let log3 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(log10, 16);\n        let step3 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(1.15, log3);\n        let inter1 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(step1, step2);\n        let inter2 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(inter1, step3);\n        let frenchBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.fryBonus);\n        let step4 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(inter2, frenchBonus);\n        let step5 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(step4, timerBonus);\n        return step5;\n    },\n    calcCarryOverEXP_OLD: function({ plant, numAutos, expTick }) {\n        let leftOver = 0;\n        let numLevels = 1;\n        if (numAutos > 1) {\n            let individualEXP = expTick / numAutos;\n            let ticksNeededEXP = Math.ceil((plant.reqExp - plant.curExp) / individualEXP);\n            if (numAutos > ticksNeededEXP) {\n                leftOver = (numAutos - ticksNeededEXP) * individualEXP;\n                let futureReq = 10 + 5 * (plant.Rank + numLevels) * Math.pow(1.05, plant.Rank + numLevels);\n                while(leftOver > futureReq){\n                    leftOver -= futureReq;\n                    numLevels++;\n                    futureReq = 10 + 5 * (plant.Rank + numLevels) * Math.pow(1.05, plant.Rank + numLevels);\n                }\n            } else {\n                leftOver = 0;\n            }\n        } else {\n            leftOver = 0;\n        }\n        let reqExp = 10 + 5 * (plant.Rank + numLevels) * Math.pow(1.05, plant.Rank + numLevels);\n        return {\n            leftOver,\n            numLevels,\n            reqExp\n        };\n    },\n    calcCarryOverEXP: function({ plant, numAutos, expTick }) {\n        let leftOver = 0;\n        let numLevels = 0;\n        let numEXP = plant.curExp + numAutos * expTick;\n        let reqExp = 10 + 5 * (plant.Rank + numLevels) * Math.pow(1.05, plant.Rank + numLevels);\n        //need to handle two cases: 1 auto, just go up as much as you can\n        // >1 autos\n        while(numEXP >= reqExp){\n            numEXP -= reqExp;\n            numLevels++;\n            reqExp = 10 + 5 * (plant.Rank + numLevels) * Math.pow(1.05, plant.Rank + numLevels);\n        }\n        leftOver = numEXP;\n        return {\n            leftOver,\n            numLevels,\n            reqExp\n        };\n    },\n    calcEXPBonus: function(modifiers) {\n        let originalBonus = modifiers.originalRankLevelBonus;\n        let originalLevel = modifiers.originalShopRankLevel;\n        let currentShopLevel = modifiers.shopRankLevel;\n        let originalPotion = modifiers.originalPotionRank;\n        let currentPotion = modifiers.potionRank;\n        let expBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(originalBonus);\n        expBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(expBonus, 1 + originalLevel * 0.1);\n        expBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(expBonus, originalPotion > 0 ? 1.5 : 1);\n        expBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(expBonus, 1 + currentShopLevel * 0.1);\n        expBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(expBonus, currentPotion);\n        expBonus = expBonus.toNumber();\n        return expBonus;\n    },\n    futureMultBD: function(plant, modifiers) {\n        return _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(1 + 0.05 * (1 + modifiers.manualHarvestFormula * 0.02), _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].logDecimal(plant.created, 1.25));\n    },\n    calcFutureMult: function(plant_input, modifiers_input) {\n        //bigsad = -1 need to make costs big decimal as well now\n        // console.log(`calcing future mult${plant_input.ID}`)\n        let plant = modifiers_input.string === false ? plant_input : JSON.parse(JSON.stringify(plant_input));\n        let modifiers = modifiers_input.string === false ? modifiers_input : JSON.parse(JSON.stringify(modifiers_input));\n        let remainingTime = modifiers.time;\n        let numAutos = modifiers.numAuto || modifiers?.numAuto === 0 ? modifiers.numAuto : 1;\n        let newExpBonus = this.calcEXPBonus(modifiers);\n        let expTick = plant.prestigeBonus * newExpBonus;\n        plant.growthTime = this.calcGrowthTime(plant, modifiers);\n        if (numAutos === 0) {\n            let newOutPut = this.calcProdOutput(plant, modifiers);\n            plant.production = newOutPut;\n            return plant;\n        }\n        while(remainingTime > 0){\n            plant.timeToLevel = this.calcTimeTillLevel(plant, modifiers);\n            let elapsedTime = 0;\n            let rankIncrease = false;\n            if (plant.timeToLevel > remainingTime) {\n                elapsedTime = remainingTime;\n            } else {\n                elapsedTime = plant.timeToLevel;\n                rankIncrease = true;\n            }\n            remainingTime -= elapsedTime;\n            plant.elapsedTime += elapsedTime;\n            let numHarvests = 0;\n            if (plant.elapsedTime >= plant.growthTime) {\n                numHarvests = Math.floor(plant.elapsedTime / plant.growthTime);\n                let toCreate = plant.perHarvest * numHarvests * numAutos;\n                plant.created = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(plant.created, toCreate);\n                plant.totalMade = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(plant.totalMade, toCreate);\n                plant.futureMult = this.futureMultBD(plant, modifiers);\n                if (rankIncrease) {\n                    let leftOver = this.calcCarryOverEXP({\n                        plant,\n                        expTick: expTick * numHarvests,\n                        numAutos\n                    });\n                    // let leftOver = this.calcCarryOverEXP({ plant, expTick: expTick , numAutos });\n                    plant.curExp = leftOver.leftOver;\n                    plant.Rank += leftOver.numLevels;\n                    plant.perHarvest = this.calcPlantHarvest(plant, modifiers);\n                    // plant.reqExp = 10 + 5 * plant.Rank * Math.pow(1.05, plant.Rank);\n                    plant.reqExp = leftOver.reqExp;\n                } else {\n                    let gainedEXP = numHarvests * expTick * numAutos;\n                    let totalExp = plant.curExp + gainedEXP;\n                    plant.curExp = totalExp;\n                }\n                plant.elapsedTime = plant.elapsedTime % plant.growthTime;\n            }\n        }\n        let newOutPut = this.calcProdOutput(plant, modifiers);\n        plant.production = newOutPut;\n        return plant;\n    },\n    calcTimeTillLevel: function(plant_input, modifiers_input) {\n        let plant = plant_input;\n        let modifiers = modifiers_input;\n        let numAutos = modifiers.numAuto || modifiers?.numAuto === 0 ? modifiers.numAuto : 1;\n        if (numAutos === 0) return Infinity;\n        let remExp = plant.reqExp - plant.curExp;\n        let newExpBonus = this.calcEXPBonus(modifiers);\n        let expBonus = plant.prestigeBonus * newExpBonus * numAutos;\n        let ticksTillLevel = Math.ceil(remExp / expBonus);\n        return ticksTillLevel * plant.growthTime - plant.elapsedTime;\n    },\n    getNextShopCosts: function(data) {\n        let prodCost = 1;\n        let prodLevel = data.FarmingShopPlantTotalProduction || data.FarmingShopPlantTotalProduction === 0 ? data.FarmingShopPlantTotalProduction : data.shopProdLevel;\n        let growthCost = 1;\n        let growthLevel = data.FarmingShopPlantGrowingSpeed || data.FarmingShopPlantGrowingSpeed === 0 ? data.FarmingShopPlantGrowingSpeed : data.shopGrowingSpeed;\n        let expCost = 1;\n        let expLevel = data.FarmingShopPlantRankExpEarned || data.FarmingShopPlantRankExpEarned === 0 ? data.FarmingShopPlantRankExpEarned : data.shopRankLevel;\n        let temp1 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(1.05, prodLevel - 50);\n        let temp2 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(100, temp1);\n        let temp3 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(temp2, prodLevel);\n        let temp4 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(100000000, temp3);\n        prodCost = prodLevel > 50 ? temp4 : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(100000000, _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(100, prodLevel));\n        growthCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(500, growthLevel), 10000000000);\n        expCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(250, expLevel), 1000000000000000);\n        return {\n            prodCost,\n            growthCost,\n            expCost\n        };\n    },\n    calcMaxPrestige: function(plant_input) {\n        let start = plant_input.prestige;\n        let runningHarvests = 0;\n        let flag = true;\n        while(flag){\n            let requiredPerPic = 10 * Math.pow(2, start);\n            let requiredHarvests = runningHarvests + requiredPerPic;\n            if (plant_input.created.greaterThanOrEqualTo(requiredHarvests)) {\n                start++;\n                runningHarvests += requiredPerPic;\n            } else {\n                flag = false;\n            }\n        }\n        return start - plant_input.prestige;\n    },\n    calcTimeTillPrestige: function(plant_input, modifiers_input) {\n        let plant = JSON.parse(JSON.stringify(plant_input));\n        this.resetPlantBD(plant);\n        let modifiers = JSON.parse(JSON.stringify(modifiers_input));\n        this.resetModifiersBD(modifiers);\n        let numAutos = modifiers.numAuto || modifiers?.numAuto === 0 ? modifiers.numAuto : 1;\n        let prestiged = false;\n        let totalTime = 0;\n        let runningHarvests = 0;\n        let newExpBonus = this.calcEXPBonus(modifiers);\n        let expTick = plant.prestigeBonus * newExpBonus;\n        while(!prestiged){\n            let timeToLevel = this.calcTimeTillLevel(plant, modifiers);\n            let requiredPerPic = 10 * Math.pow(2, plant.prestige);\n            let requiredHarvests = runningHarvests + requiredPerPic;\n            let remainingHarvests = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(requiredHarvests, plant.created); //minimum number of ticks\n            let timeTillPrestige = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(remainingHarvests, plant.perHarvest * numAutos).ceil(), plant.growthTime).ceil().toNumber();\n            if (numAutos === 0 && remainingHarvests.greaterThan(0)) {\n                prestiged = true;\n                totalTime = Infinity;\n            } else if (timeTillPrestige <= 0) {\n                prestiged = true;\n                if (totalTime <= 0) {\n                    plant.prestige++;\n                    prestiged = false;\n                    runningHarvests += requiredPerPic;\n                }\n            } else if (timeTillPrestige > timeToLevel) {\n                plant.elapsedTime += timeToLevel;\n                let ticks = Math.floor(plant.elapsedTime / plant.growthTime);\n                plant.created = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(plant.created, ticks * plant.perHarvest * numAutos);\n                plant.totalMade = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(plant.totalMade, ticks * plant.perHarvest * numAutos);\n                let rankRes = this.calcCarryOverEXP({\n                    plant,\n                    numAutos,\n                    expTick: expTick * ticks\n                });\n                plant.Rank += rankRes.numLevels;\n                plant.curExp = rankRes.leftOver;\n                plant.reqExp = rankRes.reqExp;\n                plant.perHarvest = this.calcPlantHarvest(plant, modifiers);\n                totalTime += timeToLevel;\n                plant.elapsedTime = plant.elapsedTime % plant.growthTime;\n            } else {\n                prestiged = true;\n                plant.elapsedTime += timeTillPrestige;\n                let ticks = Math.floor(plant.elapsedTime / plant.growthTime);\n                plant.created = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(plant.created, ticks * plant.perHarvest * numAutos);\n                plant.totalMade = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(plant.totalMade, ticks * plant.perHarvest * numAutos);\n                totalTime += timeTillPrestige;\n                plant.elapsedTime = plant.elapsedTime % plant.growthTime;\n            }\n        }\n        return {\n            remainingTime: totalTime,\n            prestige: plant.prestige,\n            prestiged: prestiged\n        };\n    },\n    resetPlantBD: function(plant) {\n        plant.totalMade = plant?.totalMade?.mantissa || plant?.totalMade?.mantissa === 0 ? plant.totalMade : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(plant.totalMade);\n        plant.created = plant?.created?.mantissa || plant?.created?.mantissa === 0 ? plant.created : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(plant.created);\n        plant.production = plant?.production?.mantissa || plant?.production?.mantissa === 0 ? plant.production : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(plant.production);\n        plant.futureMult = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(plant.futureMult);\n    },\n    resetModifiersBD: function(modifiers) {\n        modifiers.shopProdBonus = modifiers?.shopProdBonus?.mantissa || modifiers?.shopProdBonus?.mantissa === 0 ? modifiers.shopProdBonus : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.shopProdBonus);\n        modifiers.hpBonus = modifiers?.hpBonus?.mantissa || modifiers?.hpBonus?.mantissa === 0 ? modifiers.hpBonus : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.hpBonus);\n        modifiers.curPotatoes = modifiers?.curPotatoes?.mantissa || modifiers?.curPotatoes.mantissa === 0 ? modifiers.curPotatoes : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.curPotatoes);\n        modifiers.totalPotatoes = modifiers?.totalPotatoes?.mantissa || modifiers?.totalPotatoes?.mantissa === 0 ? modifiers.totalPotatoes : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.totalPotatoes);\n    },\n    calcHPProd: function(plants_input, modifiers_input) {\n        let plants = JSON.parse(JSON.stringify(plants_input));\n        for(let i = 0; i < plants.length; i++){\n            this.resetPlantBD(plants[i]);\n        }\n        let modifiers = JSON.parse(JSON.stringify(modifiers_input));\n        this.resetModifiersBD(modifiers);\n        modifiers.nextCosts.prodCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.nextCosts.prodCost);\n        modifiers.nextCosts.growthCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.nextCosts.growthCost);\n        modifiers.nextCosts.expCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(modifiers.nextCosts.expCost);\n        let numAutos = modifiers.numAutos;\n        let simulationTime = modifiers.time; //time in seconds\n        let startTime = modifiers.startTime ? modifiers.startTime : 0; //used for consistent tick timings\n        const runningTime = modifiers.runningTime ? modifiers.runningTime : 0; //Used for calculating end timings if necessary\n        const dataPointsMax = modifiers.maxSteps ? modifiers.maxSteps : 100;\n        const tickStart = modifiers.tickStart ? modifiers.tickStart : 0;\n        let tickRate = modifiers.tickRate ? modifiers.tickRate : 60 * 1;\n        let dataPointThreshold = modifiers.dataPointThreshold ? modifiers.dataPointThreshold : simulationTime / tickRate < dataPointsMax ? 1 : _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].roundInt(simulationTime / tickRate / dataPointsMax);\n        let dataPointsPotatoes = [];\n        let dataPointsFries = [];\n        let totalPotatoes = modifiers.totalPotatoes;\n        let currPotatoes = modifiers.curPotatoes;\n        let prevPlantsProd = Array(plants.length).fill(0);\n        for(let i = 0; i < plants.length; i++){\n            prevPlantsProd[i] = plants[i].production;\n        }\n        // let runTime = 0;\n        let i = 0;\n        let finalPass = false;\n        // tickRate = 2;\n        let prodMult = 1;\n        if (tickRate > 2) {\n            if (tickRate >= 2592) {\n                prodMult = 0.95;\n            } else if (tickRate >= 1728) {\n                prodMult = 0.95;\n            } else if (tickRate >= 864) {\n                prodMult = 0.95;\n            } else if (tickRate >= 140) {\n                prodMult = 0.95;\n            } else {\n                prodMult = 0.95;\n            }\n        }\n        const fryMult = 1.05;\n        //Iterate over each second\n        for(; i < simulationTime / tickRate || finalPass; i++){\n            //Calculate new values for each plant\n            let HPInitial = 0;\n            for(let j = plants.length - 1; j >= 0; j--){\n                let curr = plants[j];\n                let toAdd = j === plants.length - 1 ? 0 : tickRate > 1 ? //Some basic calculus to find total assuming linear growth\n                _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(prevPlantsProd[j + 1], plants[j + 1].production), 0.5 * tickRate * prodMult) : _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(plants[j + 1].production, tickRate);\n                curr.totalMade = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(curr.totalMade, toAdd);\n                let res = this.calcFutureMult(curr, {\n                    ...modifiers,\n                    time: tickRate,\n                    numAuto: numAutos[j],\n                    string: false\n                });\n                curr = res;\n                if (curr.ID === 1) {\n                    HPInitial = prevPlantsProd[j];\n                }\n                prevPlantsProd[j] = curr.production;\n            }\n            // modifiers.passedTime += tickRate;\n            modifiers.timePassed += tickRate;\n            //Reduce plant rank potion timer, or set it the bonus to 0 if necessary\n            if (modifiers.potionRank > 1 && !modifiers.forceRankPotion) {\n                modifiers.potionRankTime -= tickRate;\n                if (modifiers.potionRankTime < 0) {\n                    modifiers.potionRank = 1;\n                }\n            }\n            let curTime = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].roundInt(i * tickRate + startTime);\n            let HPToAdd = tickRate > 1 ? _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(HPInitial, plants[0].production), 0.525 * tickRate * prodMult) : plants[0].production;\n            totalPotatoes = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(totalPotatoes, HPToAdd);\n            currPotatoes = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(currPotatoes, HPToAdd);\n            if (modifiers.autoBuyPBC) {\n                let updateCosts = false;\n                let boughtUpgrade = true;\n                while(boughtUpgrade){\n                    boughtUpgrade = false;\n                    if (currPotatoes.greaterThanOrEqualTo(modifiers.nextCosts.prodCost) === true) {\n                        currPotatoes = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(currPotatoes, modifiers.nextCosts.prodCost);\n                        modifiers.shopProdLevel++;\n                        modifiers.shopProdBonus = this.calcShopProdBonus(modifiers, modifiers.shopProdLevel);\n                        updateCosts = true;\n                        boughtUpgrade = true;\n                    }\n                    if (currPotatoes.greaterThanOrEqualTo(modifiers.nextCosts.growthCost) === true) {\n                        // currPotatoes -= modifiers.nextCosts.growthCost;\n                        currPotatoes = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(currPotatoes, modifiers.nextCosts.growthCost);\n                        modifiers.shopGrowingSpeed++;\n                        updateCosts = true;\n                        boughtUpgrade = true;\n                    }\n                    if (currPotatoes.greaterThanOrEqualTo(modifiers.nextCosts.expCost) === true) {\n                        currPotatoes = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(currPotatoes, modifiers.nextCosts.expCost);\n                        modifiers.shopRankLevel++;\n                        modifiers.shopRankEXP = 1 + modifiers.shopRankLevel * 0.1;\n                        updateCosts = true;\n                        boughtUpgrade = true;\n                    }\n                    if (updateCosts) {\n                        let nextCosts = this.getNextShopCosts(modifiers);\n                        modifiers.nextCosts = nextCosts;\n                    }\n                }\n            }\n            if (i % dataPointThreshold === 0 && curTime >= tickStart && curTime <= simulationTime + runningTime) {\n                dataPointsPotatoes.push({\n                    \"time\": curTime,\n                    \"production\": totalPotatoes\n                });\n                dataPointsFries.push({\n                    \"time\": curTime,\n                    \"fries\": _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(farmingHelper.calcFryOutput(totalPotatoes, modifiers), fryMult)\n                });\n            }\n            if (!modifiers.skipFinal) {\n                if (finalPass && curTime >= simulationTime + runningTime) {\n                    break;\n                }\n                if (!finalPass && curTime < simulationTime + runningTime) {\n                    finalPass = true;\n                }\n            }\n        }\n        if (i > 0 && !modifiers.skipFinal) {\n            let curTime = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].roundInt(i * tickRate + startTime);\n            modifiers.passedTime = i * tickRate + startTime;\n            //Handling rare case when you have to add, but only once due to intervals duration, but only at the end, and didn't fit in the for loop above\n            if (dataPointsPotatoes.length === 0) {\n                dataPointsPotatoes.push({\n                    \"time\": curTime,\n                    \"production\": totalPotatoes\n                });\n                dataPointsFries.push({\n                    \"time\": curTime,\n                    \"fries\": _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(farmingHelper.calcFryOutput(totalPotatoes, modifiers), fryMult)\n                });\n            } else if (dataPointsPotatoes[dataPointsPotatoes.length - 1].production !== totalPotatoes) {\n                if (curTime > simulationTime + runningTime) {\n                    let timeIncrease = curTime - dataPointsPotatoes[dataPointsPotatoes.length - 1].time;\n                    let increase = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(totalPotatoes, dataPointsPotatoes[dataPointsPotatoes.length - 1].production), timeIncrease);\n                    // let temp_increase =  mathHelper.multiplyDecimal(mathHelper.addDecimal(HPInitial, plants[0].production), 0.5 * tickRate * prodMult);\n                    let trueTimeIncrease = simulationTime + runningTime - dataPointsPotatoes[dataPointsPotatoes.length - 1].time;\n                    let finalPotatoes = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(dataPointsPotatoes[dataPointsPotatoes.length - 1].production, _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(increase, trueTimeIncrease));\n                    let newObj = {\n                        time: dataPointsPotatoes[dataPointsPotatoes.length - 1].time + trueTimeIncrease,\n                        production: finalPotatoes\n                    };\n                    dataPointsPotatoes.push(newObj);\n                    dataPointsFries.push({\n                        \"time\": dataPointsPotatoes[dataPointsPotatoes.length - 1].time + trueTimeIncrease,\n                        \"fries\": _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(farmingHelper.calcFryOutput(totalPotatoes, modifiers), fryMult)\n                    });\n                    //This means the `current` potatoes aren't updated to reflect the backwards fill/fix but it shouldn't be a big deal, and not used for anything atm\n                    totalPotatoes = finalPotatoes;\n                }\n            }\n        }\n        return {\n            totalPotatoes: totalPotatoes,\n            potatoeProduction: plants[0].production,\n            plants: plants,\n            nextCosts: modifiers.nextCosts,\n            dataPointsPotatoes: dataPointsPotatoes,\n            dataPointsFries: dataPointsFries,\n            finalModifiers: modifiers\n        };\n    },\n    calcStepHPProd: function(plants_input, modifiers_input) {\n        let plants = JSON.parse(JSON.stringify(plants_input));\n        for(let i = 0; i < plants.length; i++){\n            this.resetPlantBD(plants[i]);\n        }\n        let modifiers = JSON.parse(JSON.stringify(modifiers_input));\n        this.resetModifiersBD(modifiers);\n        let steps = modifiers.steps;\n        let res = -1;\n        let potatoeSteps = [];\n        let frySteps = [];\n        let runningTime = 0;\n        const dataPointsMax = modifiers.maxSteps ? modifiers.maxSteps : 100;\n        let tickRate = modifiers.tickRate ? modifiers.tickRate : 60 * 1;\n        let dataPointThreshold = modifiers_input.time / tickRate < dataPointsMax ? 1 : _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].roundInt(modifiers_input.time / tickRate / dataPointsMax);\n        for(let i = 0; i < steps.length; i++){\n            if (steps[i].time === 0) continue;\n            res = this.calcHPProd(plants, {\n                ...modifiers,\n                numAutos: steps[i].autos,\n                time: steps[i].time,\n                dataPointThreshold: dataPointThreshold,\n                startTime: potatoeSteps.length > 0 ? potatoeSteps[potatoeSteps.length - 1].time : 0,\n                runningTime: runningTime,\n                skipFinal: i < steps.length - 1,\n                tickStart: potatoeSteps.length > 0 ? potatoeSteps[potatoeSteps.length - 1].time + dataPointThreshold * tickRate : 0\n            });\n            modifiers = res.finalModifiers;\n            modifiers.totalPotatoes = res.totalPotatoes;\n            plants = res.plants;\n            potatoeSteps = potatoeSteps.concat(res.dataPointsPotatoes);\n            frySteps = frySteps.concat(res.dataPointsFries);\n            steps[i].obj = {\n                text: `P${steps.length - i} for ${steps[i].time}`,\n                numAutos: steps[i].autos,\n                time: steps[i].time\n            };\n            runningTime += steps[i].time;\n        }\n        if (res === -1) {\n            res = {};\n            res.dataPointsPotatoes = potatoeSteps;\n            res.dataPointsFries = frySteps;\n            res.steps = steps;\n        } else {\n            res.dataPointsPotatoes = potatoeSteps;\n            res.dataPointsFries = frySteps;\n            res.steps = steps;\n        }\n        return res;\n    },\n    calcAssemblyHP: function(data) {\n        let bonus = 1;\n        if (data?.AssemblerCollection[0].BonusList[0].StartingLevel <= data?.AssemblerCollection[0].Level) {\n            let gain = data?.AssemblerCollection[0].BonusList[0].Gain;\n            let level = data?.AssemblerCollection[0].Level - data?.AssemblerCollection[0].BonusList[0].StartingLevel;\n            bonus = Math.pow(1 + gain, level);\n        }\n        return bonus;\n    },\n    calcAssembly: function(data, line_num, bonus_num) {\n        let bonus = 1;\n        if (data?.AssemblerCollection[line_num].BonusList[bonus_num].StartingLevel <= data?.AssemblerCollection[line_num].Level) {\n            let gain = data?.AssemblerCollection[line_num].BonusList[bonus_num].Gain;\n            let level = Math.max(0, data.AssemblerCollection[line_num].Level - (data.AssemblerCollection[line_num].BonusList[bonus_num].StartingLevel - 1));\n            bonus = Math.pow(1 + gain, level);\n        }\n        return bonus;\n    },\n    calcAssemblyLine: function(line, al_level) {\n        let bonus = 1;\n        if (line.StartingLevel <= al_level) {\n            let gain = line.Gain;\n            let level = Math.max(0, al_level - (line.StartingLevel - 1));\n            bonus = Math.pow(1 + gain, level);\n        }\n        return bonus;\n    },\n    calcAssemblyCost: function(id, data) {\n        let finalCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(-1);\n        let costReduction = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(data.AssemblyCostReductionBonus);\n        let assembly = data.AssemblerCollection[id];\n        let baseCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(assembly.BaseCost);\n        let step1 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addDecimal(baseCost, _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(baseCost, assembly.Level));\n        let temp = 1 + assembly.CostExpo + assembly.CostExpo * assembly.Level * 0.02;\n        let powStepBase = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(temp);\n        let step2 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(powStepBase, assembly.Level);\n        finalCost = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divideDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(step1, step2), costReduction);\n        // finalCost =\n        //     (level + startingCost * level)\n        //     * pow(1 + assembly.CostExpo + assembly.CostExpo * assembly.BaseCost * 0.02, assembly.BaseCost)\n        //     / costReduction;\n        return finalCost;\n    },\n    calcProteinPerSecond: function(data) {\n        let proteinBonus = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(data.ProteinBonus);\n        let frenchTotal = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(data.FrenchFriesTotal);\n        let result = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createDecimal(1);\n        if (frenchTotal.greaterThan(10000000000.0)) {\n            let log1 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].logDecimal(frenchTotal, 5);\n            log1 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(log1, 13.48);\n            let log2 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].logDecimal(frenchTotal, 10.0);\n            log2 = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtractDecimal(log2, 8);\n            result = _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(_math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiplyDecimal(log1, _math_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pow(1.1, log2)), proteinBonus);\n        }\n        return result;\n    },\n    calcContagionBonus: function(data, index) {\n        let bonus = 1;\n        if (data.GrasshopperCollection[index].Locked > 0) {\n            let base = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcPOW(data.GrasshopperCollection[index].BaseBonus);\n            let level = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcPOW(data.GrasshopperCollection[index].Level);\n            bonus *= Math.pow(1 + base * 0.01, level);\n        }\n        return bonus;\n    },\n    calcExpeditionHP: function(data) {\n        let bonus = 1;\n        if (data.ExpeditionsCollection[16].Locked > 0) {\n            let temp = data.ExpeditionsCollection[16];\n            let res = Math.pow(1 + temp.BonusPower, temp.Room - 1);\n            bonus = res;\n        }\n        return bonus;\n    },\n    calcUniqueHPBonus: function(data) {\n        let bonus = 1;\n        for(let i = 0; i < data.FarmingShopUniqueHealthy.length; i++){\n            bonus *= data.FarmingShopUniqueHealthy[i] + 1;\n        }\n        return bonus;\n    },\n    calcFriesHPBonus: function(data) {\n        let bonus = 1;\n        let totalFries = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcPOW(data.FrenchFriesTotal);\n        let shopFryBonus = 0.01 * data.FarmingShopFriesHealthyBonus + 0.1;\n        let contagionFryBonus = this.calcContagionBonus(data, 5);\n        let fryBonus = shopFryBonus * contagionFryBonus;\n        bonus *= 1 + totalFries * fryBonus;\n        return bonus;\n    },\n    calcPetHPBonus: function(data) {\n        let bonus = 1;\n        let activePets = data.EquipedPetID;\n        let allPets = data.PetsCollection;\n        let neededMap = {};\n        for(let i = 0; i < activePets.length; i++){\n            if (activePets[i] > 0) {\n                neededMap[activePets[i]] = true;\n            }\n        }\n        for(let i = 0; i < allPets.length; i++){\n            let curr = allPets[i];\n            if (curr.ID in neededMap) {\n                // let rank = curr.Rank;\n                // let bonusInner = 0;\n                for(let j = 0; j < curr.BonusList.length; j++){\n                    let bonusInner = curr.BonusList[j];\n                    if (bonusInner.ID === 23) {\n                        //public double GetPetBonus(int Bonus)\n                        //(Math.Pow(1.0 + petDataBonus.Gain, petData.Level) - 1.0 + Math.Max(0.0, (Math.Log(petData.Level + 1, 1.0125) * 0.005 - 1.0) * 0.5)) * (1.0 + Math.Log(petData.Rank + 1, 1.075) * 0.005) * 0.5\n                        //(x1                                                     + x3) * (x5) * 0.5\n                        // (\n                        //     Math.Pow(1.0 + petDataBonus.Gain, petData.Level)\n                        //     - 1.0\n                        //     + Math.Max(\n                        //         0.0, \n                        //         (Math.Log(petData.Level + 1, 1.0125) * 0.005 - 1.0) * 0.5)\n                        // )\n                        let x1 = Math.pow(1.0 + bonusInner.Gain, curr.Level) - 1.0;\n                        let x2 = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calculateLogarithm(1.0125, curr.Level + 1);\n                        let x3 = Math.max(0.0, (x2 * 0.005 - 1.0) * 0.5);\n                        let x4 = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calculateLogarithm(1.075, curr.Rank + 1);\n                        let x5 = 1.0 + x4 * 0.005;\n                        let tot1 = x1 + x3;\n                        let tot2 = tot1 * x5;\n                        let tot3 = tot2 * 0.5;\n                        bonus += tot3;\n                    }\n                }\n            }\n        }\n        return bonus;\n    },\n    calcHPBonus: function(data) {\n        // let bonus = 1;\n        // let assemblyHP = this.calcAssemblyHP(data);\n        // bonus *= assemblyHP;\n        // let contagionHP = this.calcContagionBonus(data, 0);\n        // bonus *= contagionHP;\n        // let soulBonus = Math.pow(1.25, data.SoulFertilizer);\n        // bonus *= soulBonus;\n        // let expeditionBonus = this.calcExpeditionHP(data);\n        // bonus *= expeditionBonus;\n        // let FarmingShopPlantHealthyPotatoEarning = Math.pow(1.1, data.FarmingShopPlantHealthyPotatoEarning);\n        // bonus *= FarmingShopPlantHealthyPotatoEarning;\n        // let uniqueHPBonus = this.calcUniqueHPBonus(data);\n        // bonus *= uniqueHPBonus;\n        // let fryHPBonus = this.calcFriesHPBonus(data);\n        // bonus *= fryHPBonus;\n        // let petHPBonus = this.calcPetHPBonus(data);\n        // bonus *= petHPBonus;\n        // let residueHPBonus = Math.pow(1.05, data.CowShopHealthyPotato ? data.CowShopHealthyPotato : 0);\n        // bonus *= residueHPBonus;\n        // //(1 + \n        // // milk: \n        // let step1 = Math.max(0,\n        //     helper.calcPOW(data.BoostHealthyPotatoMilkBD) >= 1E+20 ?\n        //         helper.calculateLogarithm(Math.max(1.001, helper.calculateLogarithm(helper.calcPOW(data.BoostHealthyPotatoMilkBD) + 1, 1.001) - 10.0), helper.calcPOW(data.BoostHealthyPotatoMilkBD) + 1)\n        //         :\n        //         0\n        // );\n        // let temp2 = (1.0 + data.BrewingHealthyPotatoLevel * 0.005) * ((helper.calcPOW(data.BoostHealthyPotatoCalciumBD) >= 1E+20)\n        //     ? (Math.pow(1.05, helper.calculateLogarithm(Math.max(1.001, helper.calculateLogarithm(1.001, helper.calcPOW(data.BoostHealthyPotatoCalciumBD) + 1) - 10.0), helper.calcPOW(data.BoostHealthyPotatoCalciumBD) + 1)) - 0.228)\n        //     : 1)\n        // let tempy = (Math.pow(1.05, helper.calculateLogarithm(helper.calcPOW(Math.max(1.001, helper.calculateLogarithm(1.001, helper.calcPOW(data.BoostHealthyPotatoCalciumBD) + 1) - 10.0), data.BoostHealthyPotatoCalciumBD) + 1)) - 0.228);\n        // let temp3 = helper.calculateLogarithm(data.BoostHealthyPotatoMilkBD + 1, 1.001)\n        // //brewing:  \n        // //fermenting: (1.0 + GM.PD.HealthyPotatoPetRankExpFermentingLevel * 0.0025)))\n        // let milkHPBonus = helper.calcPOW(data.BoostHealthyPotatoMilkBD);\n        // // bonus *= milkHPBonus;\n        let legitBonus = _helper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].calcPOW(data.HealthyPotatoBonus);\n        return legitBonus;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (farmingHelper);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0dBQWtHO1FBQ2xHLDJCQUEyQjtRQUUzQixVQUFVO1FBQ1YsWUFBWTtRQUNaLDBCQUEwQjtRQUMxQiwrREFBK0Q7UUFDL0Qsb01BQW9NO1FBQ3BNLFlBQVk7UUFDWixZQUFZO1FBQ1osS0FBSztRQUdMLDRIQUE0SDtRQUM1SCxrT0FBa087UUFDbE8sV0FBVztRQUNYLHlPQUF5TztRQUV6TyxrRkFBa0Y7UUFDbEYsZUFBZTtRQUNmLGdGQUFnRjtRQUNoRixtRUFBbUU7UUFDbkUsMkJBQTJCO1FBRTNCLElBQUl3SixhQUFhaFMsa0RBQU1BLENBQUNrUSxPQUFPLENBQUMxSCxLQUFLeUosa0JBQWtCO1FBQ3ZELE9BQU9EO0lBQ1g7QUFDSjtBQUVBLGlFQUFlOVIsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWVwbGF5LXBsYW5uZXIvLi9zcmMvYXBwL3V0aWwvZmFybWluZ0hlbHBlci5qcz9jMmY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoZWxwZXIgZnJvbSAnLi9oZWxwZXIuanMnO1xyXG5pbXBvcnQgbWF0aEhlbHBlciBmcm9tICcuL21hdGguanMnO1xyXG5cclxudmFyIGZhcm1pbmdIZWxwZXIgPSB7XHJcbiAgICBmaW5kTXVsdGlwbGllcnNXaXRoTWluUGVyY2VudGFnZTogZnVuY3Rpb24gKHN1bSwgbnVtYmVycywgbWluUGVyY2VudGFnZSkge1xyXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXJzID0gW107XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYmFja3RyYWNrKGluZGV4LCBjdXJyZW50U3VtLCBjdXJyZW50TXVsdGlwbGllcnMpIHtcclxuICAgICAgICAgICAgY291bnQrKztcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gbnVtYmVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RTdW0gPSBjdXJyZW50TXVsdGlwbGllcnMucmVkdWNlKChhY2MsIG11bHRpcGxpZXIsIGkpID0+IGFjYyArIG11bHRpcGxpZXIgKiBudW1iZXJzW2ldLCAwKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0U3VtID49IG1pblBlcmNlbnRhZ2UgKiBzdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsaWVycy5wdXNoKFsuLi5jdXJyZW50TXVsdGlwbGllcnNdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbWF4ID0gTWF0aC5mbG9vcigoc3VtIC0gY3VycmVudFN1bSkgLyBudW1iZXJzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG11bHRpcGxpZXIgPSAwOyBtdWx0aXBsaWVyIDw9IG1heDsgbXVsdGlwbGllcisrKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TXVsdGlwbGllcnNbaW5kZXhdID0gbXVsdGlwbGllcjtcclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wU3VtID0gY3VycmVudFN1bSArIG11bHRpcGxpZXIgKiBudW1iZXJzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wU3VtIDwgc3VtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja3RyYWNrKGluZGV4ICsgMSwgY3VycmVudFN1bSArIG11bHRpcGxpZXIgKiBudW1iZXJzW2luZGV4XSwgY3VycmVudE11bHRpcGxpZXJzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmFja3RyYWNrKDAsIDAsIFtdKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjb3VudCk7XHJcbiAgICAgICAgcmV0dXJuIG11bHRpcGxpZXJzO1xyXG4gICAgfSxcclxuICAgIGNhbGNHcm93dGhUaW1lOiBmdW5jdGlvbiAocGxhbnQsIG1vZGlmaWVycykge1xyXG4gICAgICAgIGxldCBncm93aW5nQm9udXMgPSBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwobW9kaWZpZXJzLm9yaWdpbmFsU2hvcEdyb3dpbmdCb251cyk7XHJcbiAgICAgICAgZ3Jvd2luZ0JvbnVzID0gbWF0aEhlbHBlci5kaXZpZGVEZWNpbWFsKGdyb3dpbmdCb251cywgKDEgKyAwLjA1ICogbW9kaWZpZXJzLm9yaWdpbmFsU2hvcEdyb3dpbmdMZXZlbCkpO1xyXG4gICAgICAgIGdyb3dpbmdCb251cyA9IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKGdyb3dpbmdCb251cywgKDEgKyAwLjA1ICogbW9kaWZpZXJzLnNob3BHcm93aW5nU3BlZWQpKS50b051bWJlcigpO1xyXG5cclxuICAgICAgICBsZXQgbnVtID0gTWF0aC5mbG9vcihwbGFudC5UaW1lTmVlZGVkIC8gcGxhbnQucHJlc3RpZ2VCb251cyAvIGdyb3dpbmdCb251cyk7XHJcbiAgICAgICAgcmV0dXJuIG51bSA8IDEwID8gMTAgOiBudW07XHJcbiAgICB9LFxyXG4gICAgY2FsY1BsYW50SGFydmVzdDogZnVuY3Rpb24gKHBsYW50LCBtb2RpZmllcnMpIHtcclxuICAgICAgICBsZXQgbnVtID0gaGVscGVyLnJvdW5kSW50KCgxICsgcGxhbnQuUmFuaykgKiBNYXRoLnBvdygxLjA1LCBwbGFudC5SYW5rKSkgKiBNYXRoLnBvdygxLjAyLCBwbGFudC5wcmVzdGlnZSkgKiBtb2RpZmllcnMubWFudWFsSGFydmVzdEJvbnVzO1xyXG4gICAgICAgIHJldHVybiBudW07XHJcbiAgICB9LFxyXG4gICAgY2FsY1Nob3BQcm9kQm9udXM6IGZ1bmN0aW9uIChtb2RpZmllcnNfaW5wdXQsIHNob3BMZXZlbCkge1xyXG4gICAgICAgIHNob3BMZXZlbCA9IHNob3BMZXZlbCB8fCBzaG9wTGV2ZWwgPT09IDAgPyBzaG9wTGV2ZWwgOiBtb2RpZmllcnNfaW5wdXQuRmFybWluZ1Nob3BQbGFudFRvdGFsUHJvZHVjdGlvbjtcclxuICAgICAgICByZXR1cm4gbWF0aEhlbHBlci5wb3coMS4yNSwgc2hvcExldmVsKTtcclxuICAgIH0sXHJcbiAgICBjYWxjUHJvZE91dHB1dDogZnVuY3Rpb24gKHBsYW50X2lucHV0LCBtb2RpZmllcnNfaW5wdXQpIHtcclxuXHJcbiAgICAgICAgbGV0IFRvdGFsQ3JlYXRlZCA9IHBsYW50X2lucHV0LnRvdGFsTWFkZTtcclxuICAgICAgICAvLyBsZXQgTWFudWFsbHlDcmVhdGVkID0gcGxhbnRfaW5wdXQuY3JlYXRlZDtcclxuICAgICAgICAvLyBsZXQgc2hvdmVsID0gbW9kaWZpZXJzX2lucHV0Lm1hbnVhbEhhcnZlc3RGb3JtdWxhO1xyXG4gICAgICAgIGxldCBzaG9wUHJvZEJvbnVzID0gbW9kaWZpZXJzX2lucHV0LnNob3BQcm9kQm9udXM7XHJcbiAgICAgICAgLy9ub3RlIGJpZ3NhZCA9IC0xIC0+IG5lZWQgdG8gdGFrZSBpbnRvIGFjY291bnQgYXNzdW1ibHkgaW4gdGhlIGZ1dHVyZVxyXG4gICAgICAgIC8vIGNvbnN0IGFzc2VtYmx5Qm9udXMgPSBtb2RpZmllcnNfaW5wdXQuYXNzZW1ibHlQcm9kdWN0aW9uO1xyXG4gICAgICAgIGxldCBwcmVzdGlnZSA9IHBsYW50X2lucHV0LnByZXN0aWdlO1xyXG4gICAgICAgIC8vIEdNLlBELlBsYW50VG90YWxQcm9kdWN0aW9uQm9udXMgPSAxICogQmlnRG91YmxlLlBvdygxLjI1LCBHTS5QRC5GYXJtaW5nU2hvcFBsYW50VG90YWxQcm9kdWN0aW9uKSAqIEdNLkFTTUEuR2V0QXNzZW1ibGVyQm9udXMoMjYpICogR00uR0hMTS5HZXRCb251cygzKSAqIE1hdGguUG93KDEuMDEsIE1hdGguTWF4KDAsIEdNLlBELkN1cnJlbnRFdmVudFBvaW50IC0gNzUpKTtcclxuICAgICAgICAvLyBsZXQgUGxhbnRUb3RhbFByb2R1Y3Rpb25Cb251cyA9IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKHNob3BQcm9kQm9udXMsIGFzc2VtYmx5Qm9udXMpLCBtb2RpZmllcnNfaW5wdXQuY29udGFnaW9uUGxhbnRQcm9kKTtcclxuICAgICAgICBsZXQgUGxhbnRUb3RhbFByb2R1Y3Rpb25Cb251cyA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnNfaW5wdXQub3JpZ2luYWxTaG9wUHJvZEJvbnVzKTtcclxuICAgICAgICBQbGFudFRvdGFsUHJvZHVjdGlvbkJvbnVzID0gbWF0aEhlbHBlci5kaXZpZGVEZWNpbWFsKFBsYW50VG90YWxQcm9kdWN0aW9uQm9udXMsIHRoaXMuY2FsY1Nob3BQcm9kQm9udXMobnVsbCwgbW9kaWZpZXJzX2lucHV0Lm9yaWdpbmFsU2hvcFByb2RMZXZlbCkpO1xyXG4gICAgICAgIFBsYW50VG90YWxQcm9kdWN0aW9uQm9udXMgPSBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbChzaG9wUHJvZEJvbnVzLCBQbGFudFRvdGFsUHJvZHVjdGlvbkJvbnVzKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBwbGFudE11bHQgPSBwbGFudF9pbnB1dC5mdXR1cmVNdWx0O1xyXG5cclxuICAgICAgICBsZXQgb3V0cHV0ID0gbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoXHJcbiAgICAgICAgICAgIG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKFxyXG4gICAgICAgICAgICAgICAgbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoXHJcbiAgICAgICAgICAgICAgICAgICAgVG90YWxDcmVhdGVkLCBwbGFudE11bHQpLFxyXG4gICAgICAgICAgICAgICAgUGxhbnRUb3RhbFByb2R1Y3Rpb25Cb251cyksXHJcbiAgICAgICAgICAgIG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChNYXRoLnBvdygxLjAyLCBwcmVzdGlnZSkpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKHBsYW50X2lucHV0LklEID09PSAxKSB7XHJcbiAgICAgICAgICAgIG91dHB1dCA9IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKG91dHB1dCwgbW9kaWZpZXJzX2lucHV0LmhwQm9udXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0sXHJcbiAgICBjYWxjRnJ5T3V0cHV0OiBmdW5jdGlvbiAocG90YXRvZXMsIG1vZGlmaWVycykge1xyXG5cclxuICAgICAgICBpZiAoIXBvdGF0b2VzKSByZXR1cm4gMDtcclxuICAgICAgICBpZiAocG90YXRvZXMubGVzc1RoYW4oMTAwMDAwMDAwMDAwMDAwMDApKSByZXR1cm4gMDtcclxuXHJcblxyXG4gICAgICAgIGxldCB0aW1lckJvbnVzID0gMDtcclxuICAgICAgICBsZXQgdGltZVBhc3NlZCA9IG1vZGlmaWVycy50aW1lUGFzc2VkID8gbW9kaWZpZXJzLnRpbWVQYXNzZWQgOiAwO1xyXG4gICAgICAgIGlmICh0aW1lUGFzc2VkID4gMTgwMCkge1xyXG4gICAgICAgICAgICBpZiAodGltZVBhc3NlZCA8IDg2NDAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lckJvbnVzID0gdGltZVBhc3NlZCAvIDg2NDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gMS4wICsgKHRpbWVQYXNzZWQgLSA4NjQwMC4wKSAvICgxNzI4MDAuMCArICh0aW1lUGFzc2VkIC0gODY0MDAuMCkgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgLy8xICsgKHN0ZXAxKSAvICgxNzI4MDAgKyAoc3RlcDIpICogMC41KVxyXG4gICAgICAgICAgICAgICAgbGV0IHN0ZXAxID0gdGltZVBhc3NlZCAtIDg2NDAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0ZXAyID0gdGltZVBhc3NlZCAtIDg2NDAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0ZXAzID0gKDE3MjgwMCArIHN0ZXAyICogMC41KTtcclxuICAgICAgICAgICAgICAgIGxldCBzdGVwNCA9IHN0ZXAxIC8gc3RlcDM7XHJcbiAgICAgICAgICAgICAgICB0aW1lckJvbnVzID0gMSArIHN0ZXA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCaWdEb3VibGUuUm91bmQoXHJcbiAgICAgICAgLy8gKExvZzEwKEhlYWx0aHlQb3RhdG9Ub3RhbCkgLSAxNS43NSlcclxuICAgICAgICAvLyAgKiAoMzYgLSBNaW4oTG9nMTAoSGVhbHRoeVBvdGF0b1RvdGFsKSwgMzEpKVxyXG4gICAgICAgIC8vICAqIFBvdygxLjE1LCBMb2cxMChIZWFsdGh5UG90YXRvVG90YWwpIC0gMTYuMClcclxuICAgICAgICAvLyAgKiBGcmVuY2hGcmllc0JvbnVzIFxyXG4gICAgICAgIC8vICAqIFRpbWVyRnJpZXNQcmVzdGlnZUJvbnVzZXMpO1xyXG4gICAgICAgIC8vIEJpZ0RvdWJsZS5Sb3VuZChzdGVwMSAqIHN0ZXAyICogc3RlcDMgICogR00uUEQuRnJlbmNoRnJpZXNCb251cyAqIEdNLlBELlRpbWVyRnJpZXNQcmVzdGlnZUJvbnVzZXMpO1xyXG4gICAgICAgIGxldCBsb2cxMCA9IG1hdGhIZWxwZXIubG9nRGVjaW1hbChwb3RhdG9lcywgMTApO1xyXG4gICAgICAgIGxldCBzdGVwMSA9IG1hdGhIZWxwZXIuc3VidHJhY3REZWNpbWFsKGxvZzEwLCAxNS43NSk7XHJcblxyXG4gICAgICAgIGxldCBsb2cyID0gbG9nMTA7XHJcbiAgICAgICAgbG9nMiA9IGxvZzIubGVzc1RoYW4oMzEpID8gbG9nMiA6IDMxO1xyXG4gICAgICAgIGxldCBzdGVwMiA9IG1hdGhIZWxwZXIuc3VidHJhY3REZWNpbWFsKDM2LCBsb2cyKTtcclxuXHJcbiAgICAgICAgbGV0IGxvZzMgPSBtYXRoSGVscGVyLnN1YnRyYWN0RGVjaW1hbChsb2cxMCwgMTYpO1xyXG4gICAgICAgIGxldCBzdGVwMyA9IG1hdGhIZWxwZXIucG93KDEuMTUsIGxvZzMpO1xyXG5cclxuICAgICAgICBsZXQgaW50ZXIxID0gbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoc3RlcDEsIHN0ZXAyKTtcclxuICAgICAgICBsZXQgaW50ZXIyID0gbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoaW50ZXIxLCBzdGVwMyk7XHJcbiAgICAgICAgbGV0IGZyZW5jaEJvbnVzID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKG1vZGlmaWVycy5mcnlCb251cyk7XHJcbiAgICAgICAgbGV0IHN0ZXA0ID0gbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoaW50ZXIyLCBmcmVuY2hCb251cyk7XHJcbiAgICAgICAgbGV0IHN0ZXA1ID0gbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoc3RlcDQsIHRpbWVyQm9udXMpO1xyXG4gICAgICAgIHJldHVybiBzdGVwNTtcclxuXHJcbiAgICB9LFxyXG4gICAgY2FsY0NhcnJ5T3ZlckVYUF9PTEQ6IGZ1bmN0aW9uICh7IHBsYW50LCBudW1BdXRvcywgZXhwVGljayB9KSB7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0T3ZlciA9IDA7XHJcbiAgICAgICAgbGV0IG51bUxldmVscyA9IDE7XHJcbiAgICAgICAgaWYgKG51bUF1dG9zID4gMSkge1xyXG4gICAgICAgICAgICBsZXQgaW5kaXZpZHVhbEVYUCA9IGV4cFRpY2sgLyBudW1BdXRvcztcclxuICAgICAgICAgICAgbGV0IHRpY2tzTmVlZGVkRVhQID0gTWF0aC5jZWlsKChwbGFudC5yZXFFeHAgLSBwbGFudC5jdXJFeHApIC8gaW5kaXZpZHVhbEVYUCk7XHJcbiAgICAgICAgICAgIGlmIChudW1BdXRvcyA+IHRpY2tzTmVlZGVkRVhQKSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0T3ZlciA9IChudW1BdXRvcyAtIHRpY2tzTmVlZGVkRVhQKSAqIGluZGl2aWR1YWxFWFA7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnV0dXJlUmVxID0gMTAgKyA1ICogKHBsYW50LlJhbmsgKyBudW1MZXZlbHMpICogTWF0aC5wb3coMS4wNSwgKHBsYW50LlJhbmsgKyBudW1MZXZlbHMpKTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChsZWZ0T3ZlciA+IGZ1dHVyZVJlcSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRPdmVyIC09IGZ1dHVyZVJlcTtcclxuICAgICAgICAgICAgICAgICAgICBudW1MZXZlbHMrKztcclxuICAgICAgICAgICAgICAgICAgICBmdXR1cmVSZXEgPSAxMCArIDUgKiAocGxhbnQuUmFuayArIG51bUxldmVscykgKiBNYXRoLnBvdygxLjA1LCAocGxhbnQuUmFuayArIG51bUxldmVscykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGVmdE92ZXIgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgbGVmdE92ZXIgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlcUV4cCA9IDEwICsgNSAqIChwbGFudC5SYW5rICsgbnVtTGV2ZWxzKSAqIE1hdGgucG93KDEuMDUsIHBsYW50LlJhbmsgKyBudW1MZXZlbHMpO1xyXG4gICAgICAgIHJldHVybiB7IGxlZnRPdmVyLCBudW1MZXZlbHMsIHJlcUV4cCB9O1xyXG4gICAgfSxcclxuICAgIGNhbGNDYXJyeU92ZXJFWFA6IGZ1bmN0aW9uICh7IHBsYW50LCBudW1BdXRvcywgZXhwVGljayB9KSB7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0T3ZlciA9IDA7XHJcbiAgICAgICAgbGV0IG51bUxldmVscyA9IDA7XHJcbiAgICAgICAgbGV0IG51bUVYUCA9IHBsYW50LmN1ckV4cCArIG51bUF1dG9zICogZXhwVGljaztcclxuICAgICAgICBsZXQgcmVxRXhwID0gMTAgKyA1ICogKHBsYW50LlJhbmsgKyBudW1MZXZlbHMpICogTWF0aC5wb3coMS4wNSwgcGxhbnQuUmFuayArIG51bUxldmVscyk7XHJcblxyXG4gICAgICAgIC8vbmVlZCB0byBoYW5kbGUgdHdvIGNhc2VzOiAxIGF1dG8sIGp1c3QgZ28gdXAgYXMgbXVjaCBhcyB5b3UgY2FuXHJcbiAgICAgICAgLy8gPjEgYXV0b3NcclxuXHJcbiAgICAgICAgd2hpbGUgKG51bUVYUCA+PSByZXFFeHApIHtcclxuICAgICAgICAgICAgbnVtRVhQIC09IHJlcUV4cDtcclxuICAgICAgICAgICAgbnVtTGV2ZWxzKys7XHJcbiAgICAgICAgICAgIHJlcUV4cCA9IDEwICsgNSAqIChwbGFudC5SYW5rICsgbnVtTGV2ZWxzKSAqIE1hdGgucG93KDEuMDUsIHBsYW50LlJhbmsgKyBudW1MZXZlbHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGVmdE92ZXIgPSBudW1FWFA7XHJcbiAgICAgICAgcmV0dXJuIHsgbGVmdE92ZXIsIG51bUxldmVscywgcmVxRXhwIH07XHJcbiAgICB9LFxyXG4gICAgY2FsY0VYUEJvbnVzOiBmdW5jdGlvbiAobW9kaWZpZXJzKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsQm9udXMgPSBtb2RpZmllcnMub3JpZ2luYWxSYW5rTGV2ZWxCb251cztcclxuICAgICAgICBsZXQgb3JpZ2luYWxMZXZlbCA9IG1vZGlmaWVycy5vcmlnaW5hbFNob3BSYW5rTGV2ZWw7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTaG9wTGV2ZWwgPSBtb2RpZmllcnMuc2hvcFJhbmtMZXZlbDtcclxuICAgICAgICBsZXQgb3JpZ2luYWxQb3Rpb24gPSBtb2RpZmllcnMub3JpZ2luYWxQb3Rpb25SYW5rO1xyXG4gICAgICAgIGxldCBjdXJyZW50UG90aW9uID0gbW9kaWZpZXJzLnBvdGlvblJhbms7XHJcbiAgICAgICAgbGV0IGV4cEJvbnVzID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKG9yaWdpbmFsQm9udXMpO1xyXG4gICAgICAgIGV4cEJvbnVzID0gbWF0aEhlbHBlci5kaXZpZGVEZWNpbWFsKGV4cEJvbnVzLCAxICsgb3JpZ2luYWxMZXZlbCAqIDAuMSk7XHJcbiAgICAgICAgZXhwQm9udXMgPSBtYXRoSGVscGVyLmRpdmlkZURlY2ltYWwoZXhwQm9udXMsIG9yaWdpbmFsUG90aW9uID4gMCA/IDEuNSA6IDEpO1xyXG5cclxuICAgICAgICBleHBCb251cyA9IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKGV4cEJvbnVzLCAxICsgY3VycmVudFNob3BMZXZlbCAqIDAuMSk7XHJcbiAgICAgICAgZXhwQm9udXMgPSBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbChleHBCb251cywgY3VycmVudFBvdGlvbik7XHJcbiAgICAgICAgZXhwQm9udXMgPSBleHBCb251cy50b051bWJlcigpO1xyXG5cclxuICAgICAgICByZXR1cm4gZXhwQm9udXM7XHJcbiAgICB9LFxyXG4gICAgZnV0dXJlTXVsdEJEOiBmdW5jdGlvbiAocGxhbnQsIG1vZGlmaWVycykge1xyXG4gICAgICAgIHJldHVybiBtYXRoSGVscGVyLnBvdyhcclxuICAgICAgICAgICAgKDEgKyAwLjA1ICogKDEgKyBtb2RpZmllcnMubWFudWFsSGFydmVzdEZvcm11bGEgKiAwLjAyKSksXHJcbiAgICAgICAgICAgIG1hdGhIZWxwZXIubG9nRGVjaW1hbChwbGFudC5jcmVhdGVkLCAxLjI1KVxyXG4gICAgICAgICk7XHJcbiAgICB9LFxyXG4gICAgY2FsY0Z1dHVyZU11bHQ6IGZ1bmN0aW9uIChwbGFudF9pbnB1dCwgbW9kaWZpZXJzX2lucHV0KSB7XHJcbiAgICAgICAgLy9iaWdzYWQgPSAtMSBuZWVkIHRvIG1ha2UgY29zdHMgYmlnIGRlY2ltYWwgYXMgd2VsbCBub3dcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgY2FsY2luZyBmdXR1cmUgbXVsdCR7cGxhbnRfaW5wdXQuSUR9YClcclxuICAgICAgICBsZXQgcGxhbnQgPSBtb2RpZmllcnNfaW5wdXQuc3RyaW5nID09PSBmYWxzZSA/IHBsYW50X2lucHV0IDogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwbGFudF9pbnB1dCkpO1xyXG4gICAgICAgIGxldCBtb2RpZmllcnMgPSBtb2RpZmllcnNfaW5wdXQuc3RyaW5nID09PSBmYWxzZSA/IG1vZGlmaWVyc19pbnB1dCA6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobW9kaWZpZXJzX2lucHV0KSk7XHJcbiAgICAgICAgbGV0IHJlbWFpbmluZ1RpbWUgPSBtb2RpZmllcnMudGltZTtcclxuICAgICAgICBsZXQgbnVtQXV0b3MgPSBtb2RpZmllcnMubnVtQXV0byB8fCBtb2RpZmllcnM/Lm51bUF1dG8gPT09IDAgPyBtb2RpZmllcnMubnVtQXV0byA6IDE7XHJcblxyXG4gICAgICAgIGxldCBuZXdFeHBCb251cyA9IHRoaXMuY2FsY0VYUEJvbnVzKG1vZGlmaWVycyk7XHJcbiAgICAgICAgbGV0IGV4cFRpY2sgPSBwbGFudC5wcmVzdGlnZUJvbnVzICogbmV3RXhwQm9udXM7XHJcblxyXG4gICAgICAgIHBsYW50Lmdyb3d0aFRpbWUgPSB0aGlzLmNhbGNHcm93dGhUaW1lKHBsYW50LCBtb2RpZmllcnMpO1xyXG5cclxuICAgICAgICBpZiAobnVtQXV0b3MgPT09IDApIHtcclxuICAgICAgICAgICAgbGV0IG5ld091dFB1dCA9IHRoaXMuY2FsY1Byb2RPdXRwdXQocGxhbnQsIG1vZGlmaWVycyk7XHJcblxyXG4gICAgICAgICAgICBwbGFudC5wcm9kdWN0aW9uID0gbmV3T3V0UHV0O1xyXG4gICAgICAgICAgICByZXR1cm4gcGxhbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aGlsZSAocmVtYWluaW5nVGltZSA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIHBsYW50LnRpbWVUb0xldmVsID0gdGhpcy5jYWxjVGltZVRpbGxMZXZlbChwbGFudCwgbW9kaWZpZXJzKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbGFwc2VkVGltZSA9IDA7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmFua0luY3JlYXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChwbGFudC50aW1lVG9MZXZlbCA+IHJlbWFpbmluZ1RpbWUpIHtcclxuICAgICAgICAgICAgICAgIGVsYXBzZWRUaW1lID0gcmVtYWluaW5nVGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsYXBzZWRUaW1lID0gcGxhbnQudGltZVRvTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICByYW5rSW5jcmVhc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZW1haW5pbmdUaW1lIC09IGVsYXBzZWRUaW1lO1xyXG4gICAgICAgICAgICBwbGFudC5lbGFwc2VkVGltZSArPSBlbGFwc2VkVGltZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBudW1IYXJ2ZXN0cyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChwbGFudC5lbGFwc2VkVGltZSA+PSBwbGFudC5ncm93dGhUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBudW1IYXJ2ZXN0cyA9IE1hdGguZmxvb3IocGxhbnQuZWxhcHNlZFRpbWUgLyBwbGFudC5ncm93dGhUaW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdG9DcmVhdGUgPSBwbGFudC5wZXJIYXJ2ZXN0ICogbnVtSGFydmVzdHMgKiBudW1BdXRvcztcclxuXHJcbiAgICAgICAgICAgICAgICBwbGFudC5jcmVhdGVkID0gbWF0aEhlbHBlci5hZGREZWNpbWFsKHBsYW50LmNyZWF0ZWQsIHRvQ3JlYXRlKTtcclxuICAgICAgICAgICAgICAgIHBsYW50LnRvdGFsTWFkZSA9IG1hdGhIZWxwZXIuYWRkRGVjaW1hbChwbGFudC50b3RhbE1hZGUsIHRvQ3JlYXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBwbGFudC5mdXR1cmVNdWx0ID0gdGhpcy5mdXR1cmVNdWx0QkQocGxhbnQsIG1vZGlmaWVycyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmtJbmNyZWFzZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVmdE92ZXIgPSB0aGlzLmNhbGNDYXJyeU92ZXJFWFAoeyBwbGFudCwgZXhwVGljazogZXhwVGljayAqIG51bUhhcnZlc3RzLCBudW1BdXRvcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgbGVmdE92ZXIgPSB0aGlzLmNhbGNDYXJyeU92ZXJFWFAoeyBwbGFudCwgZXhwVGljazogZXhwVGljayAsIG51bUF1dG9zIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYW50LmN1ckV4cCA9IGxlZnRPdmVyLmxlZnRPdmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYW50LlJhbmsgKz0gbGVmdE92ZXIubnVtTGV2ZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYW50LnBlckhhcnZlc3QgPSB0aGlzLmNhbGNQbGFudEhhcnZlc3QocGxhbnQsIG1vZGlmaWVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGxhbnQucmVxRXhwID0gMTAgKyA1ICogcGxhbnQuUmFuayAqIE1hdGgucG93KDEuMDUsIHBsYW50LlJhbmspO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYW50LnJlcUV4cCA9IGxlZnRPdmVyLnJlcUV4cDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBnYWluZWRFWFAgPSBudW1IYXJ2ZXN0cyAqIGV4cFRpY2sgKiBudW1BdXRvcztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxFeHAgPSBwbGFudC5jdXJFeHAgKyBnYWluZWRFWFA7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbnQuY3VyRXhwID0gdG90YWxFeHA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwbGFudC5lbGFwc2VkVGltZSA9IHBsYW50LmVsYXBzZWRUaW1lICUgcGxhbnQuZ3Jvd3RoVGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG5ld091dFB1dCA9IHRoaXMuY2FsY1Byb2RPdXRwdXQocGxhbnQsIG1vZGlmaWVycyk7XHJcblxyXG4gICAgICAgIHBsYW50LnByb2R1Y3Rpb24gPSBuZXdPdXRQdXQ7XHJcbiAgICAgICAgcmV0dXJuIHBsYW50O1xyXG4gICAgfSxcclxuICAgIGNhbGNUaW1lVGlsbExldmVsOiBmdW5jdGlvbiAocGxhbnRfaW5wdXQsIG1vZGlmaWVyc19pbnB1dCkge1xyXG4gICAgICAgIGxldCBwbGFudCA9IHBsYW50X2lucHV0O1xyXG4gICAgICAgIGxldCBtb2RpZmllcnMgPSBtb2RpZmllcnNfaW5wdXQ7XHJcbiAgICAgICAgbGV0IG51bUF1dG9zID0gbW9kaWZpZXJzLm51bUF1dG8gfHwgbW9kaWZpZXJzPy5udW1BdXRvID09PSAwID8gbW9kaWZpZXJzLm51bUF1dG8gOiAxO1xyXG4gICAgICAgIGlmIChudW1BdXRvcyA9PT0gMCkgcmV0dXJuIEluZmluaXR5O1xyXG5cclxuICAgICAgICBsZXQgcmVtRXhwID0gcGxhbnQucmVxRXhwIC0gcGxhbnQuY3VyRXhwO1xyXG4gICAgICAgIGxldCBuZXdFeHBCb251cyA9IHRoaXMuY2FsY0VYUEJvbnVzKG1vZGlmaWVycyk7XHJcbiAgICAgICAgbGV0IGV4cEJvbnVzID0gcGxhbnQucHJlc3RpZ2VCb251cyAqIG5ld0V4cEJvbnVzICogbnVtQXV0b3M7XHJcblxyXG4gICAgICAgIGxldCB0aWNrc1RpbGxMZXZlbCA9IE1hdGguY2VpbCgocmVtRXhwKSAvIGV4cEJvbnVzKTtcclxuICAgICAgICByZXR1cm4gdGlja3NUaWxsTGV2ZWwgKiBwbGFudC5ncm93dGhUaW1lIC0gcGxhbnQuZWxhcHNlZFRpbWU7XHJcbiAgICB9LFxyXG4gICAgZ2V0TmV4dFNob3BDb3N0czogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IHByb2RDb3N0ID0gMTtcclxuICAgICAgICBsZXQgcHJvZExldmVsID0gZGF0YS5GYXJtaW5nU2hvcFBsYW50VG90YWxQcm9kdWN0aW9uIHx8IGRhdGEuRmFybWluZ1Nob3BQbGFudFRvdGFsUHJvZHVjdGlvbiA9PT0gMCA/IGRhdGEuRmFybWluZ1Nob3BQbGFudFRvdGFsUHJvZHVjdGlvbiA6IGRhdGEuc2hvcFByb2RMZXZlbDtcclxuICAgICAgICBsZXQgZ3Jvd3RoQ29zdCA9IDE7XHJcbiAgICAgICAgbGV0IGdyb3d0aExldmVsID0gZGF0YS5GYXJtaW5nU2hvcFBsYW50R3Jvd2luZ1NwZWVkIHx8IGRhdGEuRmFybWluZ1Nob3BQbGFudEdyb3dpbmdTcGVlZCA9PT0gMCA/IGRhdGEuRmFybWluZ1Nob3BQbGFudEdyb3dpbmdTcGVlZCA6IGRhdGEuc2hvcEdyb3dpbmdTcGVlZDtcclxuICAgICAgICBsZXQgZXhwQ29zdCA9IDE7XHJcbiAgICAgICAgbGV0IGV4cExldmVsID0gZGF0YS5GYXJtaW5nU2hvcFBsYW50UmFua0V4cEVhcm5lZCB8fCBkYXRhLkZhcm1pbmdTaG9wUGxhbnRSYW5rRXhwRWFybmVkID09PSAwID8gZGF0YS5GYXJtaW5nU2hvcFBsYW50UmFua0V4cEVhcm5lZCA6IGRhdGEuc2hvcFJhbmtMZXZlbDtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAxID0gbWF0aEhlbHBlci5wb3coXHJcbiAgICAgICAgICAgIDEuMDUsIHByb2RMZXZlbCAtIDUwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgdGVtcDIgPSBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbCgxMDAsIHRlbXAxKTtcclxuICAgICAgICBsZXQgdGVtcDMgPSBtYXRoSGVscGVyLnBvdyh0ZW1wMiwgcHJvZExldmVsKTtcclxuICAgICAgICBsZXQgdGVtcDQgPSBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbCgxMDAwMDAwMDAsIHRlbXAzKTtcclxuICAgICAgICBwcm9kQ29zdCA9IHByb2RMZXZlbCA+IDUwID8gdGVtcDQgOiBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbCgxMDAwMDAwMDAsIG1hdGhIZWxwZXIucG93KDEwMCwgcHJvZExldmVsKSk7XHJcblxyXG5cclxuICAgICAgICBncm93dGhDb3N0ID0gbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoXHJcbiAgICAgICAgICAgIG1hdGhIZWxwZXIucG93KDUwMCwgZ3Jvd3RoTGV2ZWwpLFxyXG4gICAgICAgICAgICAxMDAwMDAwMDAwMFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXhwQ29zdCA9XHJcbiAgICAgICAgICAgIG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKFxyXG4gICAgICAgICAgICAgICAgbWF0aEhlbHBlci5wb3coMjUwLCBleHBMZXZlbCksXHJcbiAgICAgICAgICAgICAgICAxMDAwMDAwMDAwMDAwMDAwXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHByb2RDb3N0LCBncm93dGhDb3N0LCBleHBDb3N0IH07XHJcbiAgICB9LFxyXG4gICAgY2FsY01heFByZXN0aWdlOiBmdW5jdGlvbiAocGxhbnRfaW5wdXQpIHtcclxuXHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gcGxhbnRfaW5wdXQucHJlc3RpZ2U7XHJcbiAgICAgICAgbGV0IHJ1bm5pbmdIYXJ2ZXN0cyA9IDA7XHJcbiAgICAgICAgbGV0IGZsYWcgPSB0cnVlO1xyXG4gICAgICAgIHdoaWxlIChmbGFnKSB7XHJcbiAgICAgICAgICAgIGxldCByZXF1aXJlZFBlclBpYyA9IDEwICogTWF0aC5wb3coMiwgc3RhcnQpO1xyXG4gICAgICAgICAgICBsZXQgcmVxdWlyZWRIYXJ2ZXN0cyA9IHJ1bm5pbmdIYXJ2ZXN0cyArIHJlcXVpcmVkUGVyUGljO1xyXG4gICAgICAgICAgICBpZiAocGxhbnRfaW5wdXQuY3JlYXRlZC5ncmVhdGVyVGhhbk9yRXF1YWxUbyhyZXF1aXJlZEhhcnZlc3RzKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQrKztcclxuICAgICAgICAgICAgICAgIHJ1bm5pbmdIYXJ2ZXN0cyArPSByZXF1aXJlZFBlclBpYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhcnQgLSBwbGFudF9pbnB1dC5wcmVzdGlnZTtcclxuICAgIH0sXHJcbiAgICBjYWxjVGltZVRpbGxQcmVzdGlnZTogZnVuY3Rpb24gKHBsYW50X2lucHV0LCBtb2RpZmllcnNfaW5wdXQpIHtcclxuICAgICAgICBsZXQgcGxhbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBsYW50X2lucHV0KSk7XHJcbiAgICAgICAgdGhpcy5yZXNldFBsYW50QkQocGxhbnQpO1xyXG4gICAgICAgIGxldCBtb2RpZmllcnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1vZGlmaWVyc19pbnB1dCkpO1xyXG4gICAgICAgIHRoaXMucmVzZXRNb2RpZmllcnNCRChtb2RpZmllcnMpO1xyXG4gICAgICAgIGxldCBudW1BdXRvcyA9IG1vZGlmaWVycy5udW1BdXRvIHx8IG1vZGlmaWVycz8ubnVtQXV0byA9PT0gMCA/IG1vZGlmaWVycy5udW1BdXRvIDogMTtcclxuICAgICAgICBsZXQgcHJlc3RpZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHRvdGFsVGltZSA9IDA7XHJcbiAgICAgICAgbGV0IHJ1bm5pbmdIYXJ2ZXN0cyA9IDA7XHJcbiAgICAgICAgbGV0IG5ld0V4cEJvbnVzID0gdGhpcy5jYWxjRVhQQm9udXMobW9kaWZpZXJzKTtcclxuICAgICAgICBsZXQgZXhwVGljayA9IHBsYW50LnByZXN0aWdlQm9udXMgKiBuZXdFeHBCb251cztcclxuXHJcbiAgICAgICAgd2hpbGUgKCFwcmVzdGlnZWQpIHtcclxuICAgICAgICAgICAgbGV0IHRpbWVUb0xldmVsID0gdGhpcy5jYWxjVGltZVRpbGxMZXZlbChwbGFudCwgbW9kaWZpZXJzKTtcclxuICAgICAgICAgICAgbGV0IHJlcXVpcmVkUGVyUGljID0gMTAgKiBNYXRoLnBvdygyLCBwbGFudC5wcmVzdGlnZSk7XHJcbiAgICAgICAgICAgIGxldCByZXF1aXJlZEhhcnZlc3RzID0gcnVubmluZ0hhcnZlc3RzICsgcmVxdWlyZWRQZXJQaWM7XHJcbiAgICAgICAgICAgIGxldCByZW1haW5pbmdIYXJ2ZXN0cyA9IG1hdGhIZWxwZXIuc3VidHJhY3REZWNpbWFsKHJlcXVpcmVkSGFydmVzdHMsIHBsYW50LmNyZWF0ZWQpOy8vbWluaW11bSBudW1iZXIgb2YgdGlja3NcclxuICAgICAgICAgICAgbGV0IHRpbWVUaWxsUHJlc3RpZ2UgPVxyXG4gICAgICAgICAgICAgICAgbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwoXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0aEhlbHBlci5kaXZpZGVEZWNpbWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdIYXJ2ZXN0cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHBsYW50LnBlckhhcnZlc3QgKiBudW1BdXRvcylcclxuICAgICAgICAgICAgICAgICAgICApLmNlaWwoKSxcclxuICAgICAgICAgICAgICAgICAgICBwbGFudC5ncm93dGhUaW1lXHJcbiAgICAgICAgICAgICAgICApLmNlaWwoKS50b051bWJlcigpXHJcbiAgICAgICAgICAgICAgICA7XHJcblxyXG4gICAgICAgICAgICBpZiAobnVtQXV0b3MgPT09IDAgJiYgcmVtYWluaW5nSGFydmVzdHMuZ3JlYXRlclRoYW4oMCkpIHtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0b3RhbFRpbWUgPSBJbmZpbml0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aW1lVGlsbFByZXN0aWdlIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsVGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbnQucHJlc3RpZ2UrKztcclxuICAgICAgICAgICAgICAgICAgICBwcmVzdGlnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBydW5uaW5nSGFydmVzdHMgKz0gcmVxdWlyZWRQZXJQaWM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRpbWVUaWxsUHJlc3RpZ2UgPiB0aW1lVG9MZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgcGxhbnQuZWxhcHNlZFRpbWUgKz0gdGltZVRvTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGlja3MgPSBNYXRoLmZsb29yKHBsYW50LmVsYXBzZWRUaW1lIC8gcGxhbnQuZ3Jvd3RoVGltZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcGxhbnQuY3JlYXRlZCA9IG1hdGhIZWxwZXIuYWRkRGVjaW1hbChwbGFudC5jcmVhdGVkLCB0aWNrcyAqIHBsYW50LnBlckhhcnZlc3QgKiBudW1BdXRvcyk7XHJcbiAgICAgICAgICAgICAgICBwbGFudC50b3RhbE1hZGUgPSBtYXRoSGVscGVyLmFkZERlY2ltYWwocGxhbnQudG90YWxNYWRlLCB0aWNrcyAqIHBsYW50LnBlckhhcnZlc3QgKiBudW1BdXRvcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJhbmtSZXMgPSB0aGlzLmNhbGNDYXJyeU92ZXJFWFAoeyBwbGFudCwgbnVtQXV0b3MsIGV4cFRpY2s6IGV4cFRpY2sgKiB0aWNrcyB9KVxyXG4gICAgICAgICAgICAgICAgcGxhbnQuUmFuayArPSByYW5rUmVzLm51bUxldmVscztcclxuICAgICAgICAgICAgICAgIHBsYW50LmN1ckV4cCA9IHJhbmtSZXMubGVmdE92ZXI7XHJcbiAgICAgICAgICAgICAgICBwbGFudC5yZXFFeHAgPSByYW5rUmVzLnJlcUV4cDtcclxuICAgICAgICAgICAgICAgIHBsYW50LnBlckhhcnZlc3QgPSB0aGlzLmNhbGNQbGFudEhhcnZlc3QocGxhbnQsIG1vZGlmaWVycyk7XHJcbiAgICAgICAgICAgICAgICB0b3RhbFRpbWUgKz0gdGltZVRvTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICBwbGFudC5lbGFwc2VkVGltZSA9IHBsYW50LmVsYXBzZWRUaW1lICUgcGxhbnQuZ3Jvd3RoVGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZXN0aWdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwbGFudC5lbGFwc2VkVGltZSArPSB0aW1lVGlsbFByZXN0aWdlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpY2tzID0gTWF0aC5mbG9vcihwbGFudC5lbGFwc2VkVGltZSAvIHBsYW50Lmdyb3d0aFRpbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBsYW50LmNyZWF0ZWQgPSBtYXRoSGVscGVyLmFkZERlY2ltYWwocGxhbnQuY3JlYXRlZCwgdGlja3MgKiBwbGFudC5wZXJIYXJ2ZXN0ICogbnVtQXV0b3MpO1xyXG4gICAgICAgICAgICAgICAgcGxhbnQudG90YWxNYWRlID0gbWF0aEhlbHBlci5hZGREZWNpbWFsKHBsYW50LnRvdGFsTWFkZSwgdGlja3MgKiBwbGFudC5wZXJIYXJ2ZXN0ICogbnVtQXV0b3MpO1xyXG4gICAgICAgICAgICAgICAgdG90YWxUaW1lICs9IHRpbWVUaWxsUHJlc3RpZ2U7XHJcbiAgICAgICAgICAgICAgICBwbGFudC5lbGFwc2VkVGltZSA9IHBsYW50LmVsYXBzZWRUaW1lICUgcGxhbnQuZ3Jvd3RoVGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyByZW1haW5pbmdUaW1lOiB0b3RhbFRpbWUsIHByZXN0aWdlOiBwbGFudC5wcmVzdGlnZSwgcHJlc3RpZ2VkOiBwcmVzdGlnZWQgfVxyXG4gICAgfSxcclxuICAgIHJlc2V0UGxhbnRCRDogZnVuY3Rpb24gKHBsYW50KSB7XHJcblxyXG4gICAgICAgIHBsYW50LnRvdGFsTWFkZSA9IHBsYW50Py50b3RhbE1hZGU/Lm1hbnRpc3NhIHx8IHBsYW50Py50b3RhbE1hZGU/Lm1hbnRpc3NhID09PSAwID8gcGxhbnQudG90YWxNYWRlIDogbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKHBsYW50LnRvdGFsTWFkZSk7XHJcbiAgICAgICAgcGxhbnQuY3JlYXRlZCA9IHBsYW50Py5jcmVhdGVkPy5tYW50aXNzYSB8fCBwbGFudD8uY3JlYXRlZD8ubWFudGlzc2EgPT09IDAgPyBwbGFudC5jcmVhdGVkIDogbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKHBsYW50LmNyZWF0ZWQpO1xyXG4gICAgICAgIHBsYW50LnByb2R1Y3Rpb24gPSBwbGFudD8ucHJvZHVjdGlvbj8ubWFudGlzc2EgfHwgcGxhbnQ/LnByb2R1Y3Rpb24/Lm1hbnRpc3NhID09PSAwID8gcGxhbnQucHJvZHVjdGlvbiA6IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChwbGFudC5wcm9kdWN0aW9uKTtcclxuICAgICAgICBwbGFudC5mdXR1cmVNdWx0ID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKHBsYW50LmZ1dHVyZU11bHQpO1xyXG5cclxuICAgIH0sXHJcbiAgICByZXNldE1vZGlmaWVyc0JEOiBmdW5jdGlvbiAobW9kaWZpZXJzKSB7XHJcbiAgICAgICAgbW9kaWZpZXJzLnNob3BQcm9kQm9udXMgPSBtb2RpZmllcnM/LnNob3BQcm9kQm9udXM/Lm1hbnRpc3NhIHx8IG1vZGlmaWVycz8uc2hvcFByb2RCb251cz8ubWFudGlzc2EgPT09IDAgPyBtb2RpZmllcnMuc2hvcFByb2RCb251cyA6IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnMuc2hvcFByb2RCb251cyk7XHJcbiAgICAgICAgbW9kaWZpZXJzLmhwQm9udXMgPSBtb2RpZmllcnM/LmhwQm9udXM/Lm1hbnRpc3NhIHx8IG1vZGlmaWVycz8uaHBCb251cz8ubWFudGlzc2EgPT09IDAgPyBtb2RpZmllcnMuaHBCb251cyA6IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnMuaHBCb251cyk7XHJcbiAgICAgICAgbW9kaWZpZXJzLmN1clBvdGF0b2VzID0gbW9kaWZpZXJzPy5jdXJQb3RhdG9lcz8ubWFudGlzc2EgfHwgbW9kaWZpZXJzPy5jdXJQb3RhdG9lcy5tYW50aXNzYSA9PT0gMCA/IG1vZGlmaWVycy5jdXJQb3RhdG9lcyA6IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnMuY3VyUG90YXRvZXMpO1xyXG4gICAgICAgIG1vZGlmaWVycy50b3RhbFBvdGF0b2VzID0gbW9kaWZpZXJzPy50b3RhbFBvdGF0b2VzPy5tYW50aXNzYSB8fCBtb2RpZmllcnM/LnRvdGFsUG90YXRvZXM/Lm1hbnRpc3NhID09PSAwID8gbW9kaWZpZXJzLnRvdGFsUG90YXRvZXMgOiBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwobW9kaWZpZXJzLnRvdGFsUG90YXRvZXMpO1xyXG4gICAgfSxcclxuICAgIGNhbGNIUFByb2Q6IGZ1bmN0aW9uIChwbGFudHNfaW5wdXQsIG1vZGlmaWVyc19pbnB1dCkge1xyXG4gICAgICAgIGxldCBwbGFudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBsYW50c19pbnB1dCkpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRQbGFudEJEKHBsYW50c1tpXSlcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1vZGlmaWVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobW9kaWZpZXJzX2lucHV0KSk7XHJcbiAgICAgICAgdGhpcy5yZXNldE1vZGlmaWVyc0JEKG1vZGlmaWVycyk7XHJcbiAgICAgICAgbW9kaWZpZXJzLm5leHRDb3N0cy5wcm9kQ29zdCA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnMubmV4dENvc3RzLnByb2RDb3N0KVxyXG4gICAgICAgIG1vZGlmaWVycy5uZXh0Q29zdHMuZ3Jvd3RoQ29zdCA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChtb2RpZmllcnMubmV4dENvc3RzLmdyb3d0aENvc3QpXHJcbiAgICAgICAgbW9kaWZpZXJzLm5leHRDb3N0cy5leHBDb3N0ID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKG1vZGlmaWVycy5uZXh0Q29zdHMuZXhwQ29zdClcclxuXHJcbiAgICAgICAgbGV0IG51bUF1dG9zID0gbW9kaWZpZXJzLm51bUF1dG9zO1xyXG4gICAgICAgIGxldCBzaW11bGF0aW9uVGltZSA9IG1vZGlmaWVycy50aW1lOyAvL3RpbWUgaW4gc2Vjb25kc1xyXG4gICAgICAgIGxldCBzdGFydFRpbWUgPSBtb2RpZmllcnMuc3RhcnRUaW1lID8gbW9kaWZpZXJzLnN0YXJ0VGltZSA6IDA7Ly91c2VkIGZvciBjb25zaXN0ZW50IHRpY2sgdGltaW5nc1xyXG4gICAgICAgIGNvbnN0IHJ1bm5pbmdUaW1lID0gbW9kaWZpZXJzLnJ1bm5pbmdUaW1lID8gbW9kaWZpZXJzLnJ1bm5pbmdUaW1lIDogMDsvL1VzZWQgZm9yIGNhbGN1bGF0aW5nIGVuZCB0aW1pbmdzIGlmIG5lY2Vzc2FyeVxyXG5cclxuICAgICAgICBjb25zdCBkYXRhUG9pbnRzTWF4ID0gbW9kaWZpZXJzLm1heFN0ZXBzID8gbW9kaWZpZXJzLm1heFN0ZXBzIDogMTAwO1xyXG4gICAgICAgIGNvbnN0IHRpY2tTdGFydCA9IG1vZGlmaWVycy50aWNrU3RhcnQgPyBtb2RpZmllcnMudGlja1N0YXJ0IDogMDtcclxuXHJcbiAgICAgICAgbGV0IHRpY2tSYXRlID0gbW9kaWZpZXJzLnRpY2tSYXRlID8gbW9kaWZpZXJzLnRpY2tSYXRlIDogNjAgKiAxO1xyXG4gICAgICAgIGxldCBkYXRhUG9pbnRUaHJlc2hvbGQgPSBtb2RpZmllcnMuZGF0YVBvaW50VGhyZXNob2xkID8gbW9kaWZpZXJzLmRhdGFQb2ludFRocmVzaG9sZCA6IChzaW11bGF0aW9uVGltZSAvIHRpY2tSYXRlKSA8IGRhdGFQb2ludHNNYXggPyAxIDogaGVscGVyLnJvdW5kSW50KChzaW11bGF0aW9uVGltZSAvIHRpY2tSYXRlKSAvIGRhdGFQb2ludHNNYXgpO1xyXG4gICAgICAgIGxldCBkYXRhUG9pbnRzUG90YXRvZXMgPSBbXTtcclxuICAgICAgICBsZXQgZGF0YVBvaW50c0ZyaWVzID0gW107XHJcblxyXG4gICAgICAgIGxldCB0b3RhbFBvdGF0b2VzID0gbW9kaWZpZXJzLnRvdGFsUG90YXRvZXM7XHJcbiAgICAgICAgbGV0IGN1cnJQb3RhdG9lcyA9IG1vZGlmaWVycy5jdXJQb3RhdG9lcztcclxuICAgICAgICBsZXQgcHJldlBsYW50c1Byb2QgPSBBcnJheShwbGFudHMubGVuZ3RoKS5maWxsKDApO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHByZXZQbGFudHNQcm9kW2ldID0gcGxhbnRzW2ldLnByb2R1Y3Rpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBsZXQgcnVuVGltZSA9IDA7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBmaW5hbFBhc3MgPSBmYWxzZTtcclxuICAgICAgICAvLyB0aWNrUmF0ZSA9IDI7XHJcbiAgICAgICAgbGV0IHByb2RNdWx0ID0gMTtcclxuICAgICAgICBpZiAodGlja1JhdGUgPiAyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aWNrUmF0ZSA+PSAyNTkyKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9kTXVsdCA9IDAuOTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGlja1JhdGUgPj0gMTcyOCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZE11bHQgPSAwLjk1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRpY2tSYXRlID49IDg2NCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZE11bHQgPSAwLjk1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRpY2tSYXRlID49IDE0MCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZE11bHQgPSAwLjk1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvZE11bHQgPSAwLjk1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZyeU11bHQgPSAxLjA1O1xyXG4gICAgICAgIC8vSXRlcmF0ZSBvdmVyIGVhY2ggc2Vjb25kXHJcbiAgICAgICAgZm9yICg7IGkgPCBzaW11bGF0aW9uVGltZSAvIHRpY2tSYXRlIHx8IGZpbmFsUGFzczsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXRlIG5ldyB2YWx1ZXMgZm9yIGVhY2ggcGxhbnRcclxuICAgICAgICAgICAgbGV0IEhQSW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBwbGFudHMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyID0gcGxhbnRzW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0b0FkZCA9IGogPT09IHBsYW50cy5sZW5ndGggLSAxID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGlja1JhdGUgPiAxID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9Tb21lIGJhc2ljIGNhbGN1bHVzIHRvIGZpbmQgdG90YWwgYXNzdW1pbmcgbGluZWFyIGdyb3d0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbChtYXRoSGVscGVyLmFkZERlY2ltYWwocHJldlBsYW50c1Byb2RbaiArIDFdLCBwbGFudHNbaiArIDFdLnByb2R1Y3Rpb24pLCAwLjUgKiB0aWNrUmF0ZSAqIHByb2RNdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKHBsYW50c1tqICsgMV0ucHJvZHVjdGlvbiwgdGlja1JhdGUpO1xyXG4gICAgICAgICAgICAgICAgY3Vyci50b3RhbE1hZGUgPSBtYXRoSGVscGVyLmFkZERlY2ltYWwoY3Vyci50b3RhbE1hZGUsIHRvQWRkKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLmNhbGNGdXR1cmVNdWx0KGN1cnIsIHsgLi4ubW9kaWZpZXJzLCB0aW1lOiB0aWNrUmF0ZSwgbnVtQXV0bzogbnVtQXV0b3Nbal0sIHN0cmluZzogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnIuSUQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBIUEluaXRpYWwgPSBwcmV2UGxhbnRzUHJvZFtqXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZQbGFudHNQcm9kW2pdID0gY3Vyci5wcm9kdWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gbW9kaWZpZXJzLnBhc3NlZFRpbWUgKz0gdGlja1JhdGU7XHJcbiAgICAgICAgICAgIG1vZGlmaWVycy50aW1lUGFzc2VkICs9IHRpY2tSYXRlO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vUmVkdWNlIHBsYW50IHJhbmsgcG90aW9uIHRpbWVyLCBvciBzZXQgaXQgdGhlIGJvbnVzIHRvIDAgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgIGlmIChtb2RpZmllcnMucG90aW9uUmFuayA+IDEgJiYgIW1vZGlmaWVycy5mb3JjZVJhbmtQb3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVycy5wb3Rpb25SYW5rVGltZSAtPSB0aWNrUmF0ZTtcclxuICAgICAgICAgICAgICAgIGlmIChtb2RpZmllcnMucG90aW9uUmFua1RpbWUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzLnBvdGlvblJhbmsgPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VyVGltZSA9IGhlbHBlci5yb3VuZEludChpICogdGlja1JhdGUgKyBzdGFydFRpbWUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IEhQVG9BZGQgPSB0aWNrUmF0ZSA+IDEgP1xyXG4gICAgICAgICAgICAgICAgbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwobWF0aEhlbHBlci5hZGREZWNpbWFsKEhQSW5pdGlhbCwgcGxhbnRzWzBdLnByb2R1Y3Rpb24pLCAwLjUyNSAqIHRpY2tSYXRlICogcHJvZE11bHQpXHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICBwbGFudHNbMF0ucHJvZHVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHRvdGFsUG90YXRvZXMgPSBtYXRoSGVscGVyLmFkZERlY2ltYWwodG90YWxQb3RhdG9lcywgSFBUb0FkZCk7XHJcbiAgICAgICAgICAgIGN1cnJQb3RhdG9lcyA9IG1hdGhIZWxwZXIuYWRkRGVjaW1hbChjdXJyUG90YXRvZXMsIEhQVG9BZGQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5hdXRvQnV5UEJDKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlQ29zdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBib3VnaHRVcGdyYWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChib3VnaHRVcGdyYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm91Z2h0VXBncmFkZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyUG90YXRvZXMuZ3JlYXRlclRoYW5PckVxdWFsVG8obW9kaWZpZXJzLm5leHRDb3N0cy5wcm9kQ29zdCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyclBvdGF0b2VzID0gbWF0aEhlbHBlci5zdWJ0cmFjdERlY2ltYWwoY3VyclBvdGF0b2VzLCBtb2RpZmllcnMubmV4dENvc3RzLnByb2RDb3N0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzLnNob3BQcm9kTGV2ZWwrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzLnNob3BQcm9kQm9udXMgPSB0aGlzLmNhbGNTaG9wUHJvZEJvbnVzKG1vZGlmaWVycywgbW9kaWZpZXJzLnNob3BQcm9kTGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb3N0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdWdodFVwZ3JhZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyclBvdGF0b2VzLmdyZWF0ZXJUaGFuT3JFcXVhbFRvKG1vZGlmaWVycy5uZXh0Q29zdHMuZ3Jvd3RoQ29zdCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VyclBvdGF0b2VzIC09IG1vZGlmaWVycy5uZXh0Q29zdHMuZ3Jvd3RoQ29zdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyclBvdGF0b2VzID0gbWF0aEhlbHBlci5zdWJ0cmFjdERlY2ltYWwoY3VyclBvdGF0b2VzLCBtb2RpZmllcnMubmV4dENvc3RzLmdyb3d0aENvc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnMuc2hvcEdyb3dpbmdTcGVlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb3N0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdWdodFVwZ3JhZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyclBvdGF0b2VzLmdyZWF0ZXJUaGFuT3JFcXVhbFRvKG1vZGlmaWVycy5uZXh0Q29zdHMuZXhwQ29zdCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyclBvdGF0b2VzID0gbWF0aEhlbHBlci5zdWJ0cmFjdERlY2ltYWwoY3VyclBvdGF0b2VzLCBtb2RpZmllcnMubmV4dENvc3RzLmV4cENvc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnMuc2hvcFJhbmtMZXZlbCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnMuc2hvcFJhbmtFWFAgPSAxICsgbW9kaWZpZXJzLnNob3BSYW5rTGV2ZWwgKiAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91Z2h0VXBncmFkZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVDb3N0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dENvc3RzID0gdGhpcy5nZXROZXh0U2hvcENvc3RzKG1vZGlmaWVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVycy5uZXh0Q29zdHMgPSBuZXh0Q29zdHNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGkgJSBkYXRhUG9pbnRUaHJlc2hvbGQgPT09IDAgJiYgY3VyVGltZSA+PSB0aWNrU3RhcnQgJiYgY3VyVGltZSA8PSAoc2ltdWxhdGlvblRpbWUgKyBydW5uaW5nVGltZSkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFQb2ludHNQb3RhdG9lcy5wdXNoKHsgXCJ0aW1lXCI6IGN1clRpbWUsIFwicHJvZHVjdGlvblwiOiB0b3RhbFBvdGF0b2VzIH0pXHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnRzRnJpZXMucHVzaCh7IFwidGltZVwiOiBjdXJUaW1lLCBcImZyaWVzXCI6IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKGZhcm1pbmdIZWxwZXIuY2FsY0ZyeU91dHB1dCh0b3RhbFBvdGF0b2VzLCBtb2RpZmllcnMpLCBmcnlNdWx0KSB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIW1vZGlmaWVycy5za2lwRmluYWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZmluYWxQYXNzICYmIGN1clRpbWUgPj0gKHNpbXVsYXRpb25UaW1lICsgcnVubmluZ1RpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpbmFsUGFzcyAmJiBjdXJUaW1lIDwgKHNpbXVsYXRpb25UaW1lICsgcnVubmluZ1RpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxQYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGkgPiAwICYmICFtb2RpZmllcnMuc2tpcEZpbmFsKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VyVGltZSA9IGhlbHBlci5yb3VuZEludChpICogdGlja1JhdGUgKyBzdGFydFRpbWUpO1xyXG4gICAgICAgICAgICBtb2RpZmllcnMucGFzc2VkVGltZSA9IGkgKiB0aWNrUmF0ZSArIHN0YXJ0VGltZTtcclxuICAgICAgICAgICAgLy9IYW5kbGluZyByYXJlIGNhc2Ugd2hlbiB5b3UgaGF2ZSB0byBhZGQsIGJ1dCBvbmx5IG9uY2UgZHVlIHRvIGludGVydmFscyBkdXJhdGlvbiwgYnV0IG9ubHkgYXQgdGhlIGVuZCwgYW5kIGRpZG4ndCBmaXQgaW4gdGhlIGZvciBsb29wIGFib3ZlXHJcbiAgICAgICAgICAgIGlmIChkYXRhUG9pbnRzUG90YXRvZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnRzUG90YXRvZXMucHVzaCh7IFwidGltZVwiOiBjdXJUaW1lLCBcInByb2R1Y3Rpb25cIjogdG90YWxQb3RhdG9lcyB9KVxyXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50c0ZyaWVzLnB1c2goeyBcInRpbWVcIjogY3VyVGltZSwgXCJmcmllc1wiOiBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbChmYXJtaW5nSGVscGVyLmNhbGNGcnlPdXRwdXQodG90YWxQb3RhdG9lcywgbW9kaWZpZXJzKSwgZnJ5TXVsdCkgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhUG9pbnRzUG90YXRvZXNbZGF0YVBvaW50c1BvdGF0b2VzLmxlbmd0aCAtIDFdLnByb2R1Y3Rpb24gIT09IHRvdGFsUG90YXRvZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJUaW1lID4gKHNpbXVsYXRpb25UaW1lICsgcnVubmluZ1RpbWUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0aW1lSW5jcmVhc2UgPSBjdXJUaW1lIC0gZGF0YVBvaW50c1BvdGF0b2VzW2RhdGFQb2ludHNQb3RhdG9lcy5sZW5ndGggLSAxXS50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmNyZWFzZSA9IG1hdGhIZWxwZXIuZGl2aWRlRGVjaW1hbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKG1hdGhIZWxwZXIuc3VidHJhY3REZWNpbWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQb3RhdG9lcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQb2ludHNQb3RhdG9lc1tkYXRhUG9pbnRzUG90YXRvZXMubGVuZ3RoIC0gMV0ucHJvZHVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVJbmNyZWFzZVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgdGVtcF9pbmNyZWFzZSA9ICBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbChtYXRoSGVscGVyLmFkZERlY2ltYWwoSFBJbml0aWFsLCBwbGFudHNbMF0ucHJvZHVjdGlvbiksIDAuNSAqIHRpY2tSYXRlICogcHJvZE11bHQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0cnVlVGltZUluY3JlYXNlID0gKHNpbXVsYXRpb25UaW1lICsgcnVubmluZ1RpbWUpIC0gZGF0YVBvaW50c1BvdGF0b2VzW2RhdGFQb2ludHNQb3RhdG9lcy5sZW5ndGggLSAxXS50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbFBvdGF0b2VzID0gbWF0aEhlbHBlci5hZGREZWNpbWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUG9pbnRzUG90YXRvZXNbZGF0YVBvaW50c1BvdGF0b2VzLmxlbmd0aCAtIDFdLnByb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKGluY3JlYXNlLCB0cnVlVGltZUluY3JlYXNlKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdPYmogPSB7IHRpbWU6IGRhdGFQb2ludHNQb3RhdG9lc1tkYXRhUG9pbnRzUG90YXRvZXMubGVuZ3RoIC0gMV0udGltZSArIHRydWVUaW1lSW5jcmVhc2UsIHByb2R1Y3Rpb246IGZpbmFsUG90YXRvZXMgfTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhUG9pbnRzUG90YXRvZXMucHVzaChuZXdPYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhUG9pbnRzRnJpZXMucHVzaCh7IFwidGltZVwiOiBkYXRhUG9pbnRzUG90YXRvZXNbZGF0YVBvaW50c1BvdGF0b2VzLmxlbmd0aCAtIDFdLnRpbWUgKyB0cnVlVGltZUluY3JlYXNlLCBcImZyaWVzXCI6IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKGZhcm1pbmdIZWxwZXIuY2FsY0ZyeU91dHB1dCh0b3RhbFBvdGF0b2VzLCBtb2RpZmllcnMpLCBmcnlNdWx0KSB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL1RoaXMgbWVhbnMgdGhlIGBjdXJyZW50YCBwb3RhdG9lcyBhcmVuJ3QgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBiYWNrd2FyZHMgZmlsbC9maXggYnV0IGl0IHNob3VsZG4ndCBiZSBhIGJpZyBkZWFsLCBhbmQgbm90IHVzZWQgZm9yIGFueXRoaW5nIGF0bVxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUG90YXRvZXMgPSBmaW5hbFBvdGF0b2VzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbFBvdGF0b2VzOiB0b3RhbFBvdGF0b2VzLFxyXG4gICAgICAgICAgICBwb3RhdG9lUHJvZHVjdGlvbjogcGxhbnRzWzBdLnByb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIHBsYW50czogcGxhbnRzLFxyXG4gICAgICAgICAgICBuZXh0Q29zdHM6IG1vZGlmaWVycy5uZXh0Q29zdHMsXHJcbiAgICAgICAgICAgIGRhdGFQb2ludHNQb3RhdG9lczogZGF0YVBvaW50c1BvdGF0b2VzLFxyXG4gICAgICAgICAgICBkYXRhUG9pbnRzRnJpZXM6IGRhdGFQb2ludHNGcmllcyxcclxuICAgICAgICAgICAgZmluYWxNb2RpZmllcnM6IG1vZGlmaWVycyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGNhbGNTdGVwSFBQcm9kOiBmdW5jdGlvbiAocGxhbnRzX2lucHV0LCBtb2RpZmllcnNfaW5wdXQpIHtcclxuICAgICAgICBsZXQgcGxhbnRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwbGFudHNfaW5wdXQpKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UGxhbnRCRChwbGFudHNbaV0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtb2RpZmllcnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1vZGlmaWVyc19pbnB1dCkpO1xyXG4gICAgICAgIHRoaXMucmVzZXRNb2RpZmllcnNCRChtb2RpZmllcnMpO1xyXG4gICAgICAgIGxldCBzdGVwcyA9IG1vZGlmaWVycy5zdGVwcztcclxuICAgICAgICBsZXQgcmVzID0gLTE7XHJcbiAgICAgICAgbGV0IHBvdGF0b2VTdGVwcyA9IFtdO1xyXG4gICAgICAgIGxldCBmcnlTdGVwcyA9IFtdO1xyXG4gICAgICAgIGxldCBydW5uaW5nVGltZSA9IDA7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBkYXRhUG9pbnRzTWF4ID0gbW9kaWZpZXJzLm1heFN0ZXBzID8gbW9kaWZpZXJzLm1heFN0ZXBzIDogMTAwO1xyXG5cclxuICAgICAgICBsZXQgdGlja1JhdGUgPSBtb2RpZmllcnMudGlja1JhdGUgPyBtb2RpZmllcnMudGlja1JhdGUgOiA2MCAqIDE7XHJcbiAgICAgICAgbGV0IGRhdGFQb2ludFRocmVzaG9sZCA9IChtb2RpZmllcnNfaW5wdXQudGltZSAvIHRpY2tSYXRlKSA8IGRhdGFQb2ludHNNYXggPyAxIDogaGVscGVyLnJvdW5kSW50KChtb2RpZmllcnNfaW5wdXQudGltZSAvIHRpY2tSYXRlKSAvIGRhdGFQb2ludHNNYXgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGVwc1tpXS50aW1lID09PSAwKSBjb250aW51ZTtcclxuICAgICAgICAgICAgcmVzID0gdGhpcy5jYWxjSFBQcm9kKHBsYW50cywge1xyXG4gICAgICAgICAgICAgICAgLi4ubW9kaWZpZXJzLFxyXG4gICAgICAgICAgICAgICAgbnVtQXV0b3M6IHN0ZXBzW2ldLmF1dG9zLFxyXG4gICAgICAgICAgICAgICAgdGltZTogc3RlcHNbaV0udGltZSxcclxuICAgICAgICAgICAgICAgIGRhdGFQb2ludFRocmVzaG9sZDogZGF0YVBvaW50VGhyZXNob2xkLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBwb3RhdG9lU3RlcHMubGVuZ3RoID4gMCA/IHBvdGF0b2VTdGVwc1twb3RhdG9lU3RlcHMubGVuZ3RoIC0gMV0udGltZSA6IDAsXHJcbiAgICAgICAgICAgICAgICBydW5uaW5nVGltZTogcnVubmluZ1RpbWUsXHJcbiAgICAgICAgICAgICAgICBza2lwRmluYWw6IGkgPCAoc3RlcHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgICAgICB0aWNrU3RhcnQ6IHBvdGF0b2VTdGVwcy5sZW5ndGggPiAwID8gcG90YXRvZVN0ZXBzW3BvdGF0b2VTdGVwcy5sZW5ndGggLSAxXS50aW1lICsgZGF0YVBvaW50VGhyZXNob2xkICogdGlja1JhdGUgOiAwLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbW9kaWZpZXJzID0gcmVzLmZpbmFsTW9kaWZpZXJzO1xyXG4gICAgICAgICAgICBtb2RpZmllcnMudG90YWxQb3RhdG9lcyA9IHJlcy50b3RhbFBvdGF0b2VzO1xyXG4gICAgICAgICAgICBwbGFudHMgPSByZXMucGxhbnRzO1xyXG4gICAgICAgICAgICBwb3RhdG9lU3RlcHMgPSBwb3RhdG9lU3RlcHMuY29uY2F0KHJlcy5kYXRhUG9pbnRzUG90YXRvZXMpO1xyXG4gICAgICAgICAgICBmcnlTdGVwcyA9IGZyeVN0ZXBzLmNvbmNhdChyZXMuZGF0YVBvaW50c0ZyaWVzKVxyXG4gICAgICAgICAgICBzdGVwc1tpXS5vYmogPSB7IHRleHQ6IGBQJHtzdGVwcy5sZW5ndGggLSBpfSBmb3IgJHtzdGVwc1tpXS50aW1lfWAsIG51bUF1dG9zOiBzdGVwc1tpXS5hdXRvcywgdGltZTogc3RlcHNbaV0udGltZSB9XHJcblxyXG4gICAgICAgICAgICBydW5uaW5nVGltZSArPSBzdGVwc1tpXS50aW1lO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXMgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJlcyA9IHt9O1xyXG4gICAgICAgICAgICByZXMuZGF0YVBvaW50c1BvdGF0b2VzID0gcG90YXRvZVN0ZXBzO1xyXG4gICAgICAgICAgICByZXMuZGF0YVBvaW50c0ZyaWVzID0gZnJ5U3RlcHM7XHJcbiAgICAgICAgICAgIHJlcy5zdGVwcyA9IHN0ZXBzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLmRhdGFQb2ludHNQb3RhdG9lcyA9IHBvdGF0b2VTdGVwcztcclxuICAgICAgICAgICAgcmVzLmRhdGFQb2ludHNGcmllcyA9IGZyeVN0ZXBzO1xyXG4gICAgICAgICAgICByZXMuc3RlcHMgPSBzdGVwcztcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH0sXHJcbiAgICBjYWxjQXNzZW1ibHlIUDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsZXQgYm9udXMgPSAxO1xyXG5cclxuICAgICAgICBpZiAoZGF0YT8uQXNzZW1ibGVyQ29sbGVjdGlvblswXS5Cb251c0xpc3RbMF0uU3RhcnRpbmdMZXZlbCA8PSBkYXRhPy5Bc3NlbWJsZXJDb2xsZWN0aW9uWzBdLkxldmVsKSB7XHJcbiAgICAgICAgICAgIGxldCBnYWluID0gZGF0YT8uQXNzZW1ibGVyQ29sbGVjdGlvblswXS5Cb251c0xpc3RbMF0uR2FpbjtcclxuICAgICAgICAgICAgbGV0IGxldmVsID0gKGRhdGE/LkFzc2VtYmxlckNvbGxlY3Rpb25bMF0uTGV2ZWwgLSBkYXRhPy5Bc3NlbWJsZXJDb2xsZWN0aW9uWzBdLkJvbnVzTGlzdFswXS5TdGFydGluZ0xldmVsKVxyXG4gICAgICAgICAgICBib251cyA9IE1hdGgucG93KDEgKyBnYWluLCBsZXZlbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYm9udXM7XHJcbiAgICB9LFxyXG4gICAgY2FsY0Fzc2VtYmx5OiBmdW5jdGlvbiAoZGF0YSwgbGluZV9udW0sIGJvbnVzX251bSkge1xyXG4gICAgICAgIGxldCBib251cyA9IDE7XHJcblxyXG4gICAgICAgIGlmIChkYXRhPy5Bc3NlbWJsZXJDb2xsZWN0aW9uW2xpbmVfbnVtXS5Cb251c0xpc3RbYm9udXNfbnVtXS5TdGFydGluZ0xldmVsIDw9IGRhdGE/LkFzc2VtYmxlckNvbGxlY3Rpb25bbGluZV9udW1dLkxldmVsKSB7XHJcbiAgICAgICAgICAgIGxldCBnYWluID0gZGF0YT8uQXNzZW1ibGVyQ29sbGVjdGlvbltsaW5lX251bV0uQm9udXNMaXN0W2JvbnVzX251bV0uR2FpbjtcclxuICAgICAgICAgICAgbGV0IGxldmVsID0gTWF0aC5tYXgoMCwgZGF0YS5Bc3NlbWJsZXJDb2xsZWN0aW9uW2xpbmVfbnVtXS5MZXZlbCAtIChkYXRhLkFzc2VtYmxlckNvbGxlY3Rpb25bbGluZV9udW1dLkJvbnVzTGlzdFtib251c19udW1dLlN0YXJ0aW5nTGV2ZWwgLSAxKSk7XHJcbiAgICAgICAgICAgIGJvbnVzID0gTWF0aC5wb3coMSArIGdhaW4sIGxldmVsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBib251cztcclxuICAgIH0sXHJcbiAgICBjYWxjQXNzZW1ibHlMaW5lOiBmdW5jdGlvbiAobGluZSwgYWxfbGV2ZWwpIHtcclxuICAgICAgICBsZXQgYm9udXMgPSAxO1xyXG5cclxuICAgICAgICBpZiAobGluZS5TdGFydGluZ0xldmVsIDw9IGFsX2xldmVsKSB7XHJcbiAgICAgICAgICAgIGxldCBnYWluID0gbGluZS5HYWluO1xyXG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSBNYXRoLm1heCgwLCBhbF9sZXZlbCAtIChsaW5lLlN0YXJ0aW5nTGV2ZWwgLSAxKSk7XHJcbiAgICAgICAgICAgIGJvbnVzID0gTWF0aC5wb3coMSArIGdhaW4sIGxldmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJvbnVzO1xyXG4gICAgfSxcclxuICAgIGNhbGNBc3NlbWJseUNvc3Q6IGZ1bmN0aW9uIChpZCwgZGF0YSkge1xyXG4gICAgICAgIGxldCBmaW5hbENvc3QgPSBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwoLTEpO1xyXG4gICAgICAgIGxldCBjb3N0UmVkdWN0aW9uID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKGRhdGEuQXNzZW1ibHlDb3N0UmVkdWN0aW9uQm9udXMpO1xyXG4gICAgICAgIGxldCBhc3NlbWJseSA9IGRhdGEuQXNzZW1ibGVyQ29sbGVjdGlvbltpZF07XHJcbiAgICAgICAgbGV0IGJhc2VDb3N0ID0gbWF0aEhlbHBlci5jcmVhdGVEZWNpbWFsKGFzc2VtYmx5LkJhc2VDb3N0KVxyXG5cclxuICAgICAgICBsZXQgc3RlcDEgPSBtYXRoSGVscGVyLmFkZERlY2ltYWwoXHJcbiAgICAgICAgICAgIGJhc2VDb3N0LFxyXG4gICAgICAgICAgICBtYXRoSGVscGVyLm11bHRpcGx5RGVjaW1hbChiYXNlQ29zdCwgYXNzZW1ibHkuTGV2ZWwpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSAxICsgYXNzZW1ibHkuQ29zdEV4cG8gKyBhc3NlbWJseS5Db3N0RXhwbyAqIGFzc2VtYmx5LkxldmVsICogMC4wMlxyXG4gICAgICAgIGxldCBwb3dTdGVwQmFzZSA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbCh0ZW1wKTtcclxuICAgICAgICBsZXQgc3RlcDIgPSBtYXRoSGVscGVyLnBvdyhwb3dTdGVwQmFzZSwgYXNzZW1ibHkuTGV2ZWwpXHJcbiAgICAgICAgZmluYWxDb3N0ID0gbWF0aEhlbHBlci5kaXZpZGVEZWNpbWFsKG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKHN0ZXAxLCBzdGVwMiksIGNvc3RSZWR1Y3Rpb24pXHJcbiAgICAgICAgLy8gZmluYWxDb3N0ID1cclxuICAgICAgICAvLyAgICAgKGxldmVsICsgc3RhcnRpbmdDb3N0ICogbGV2ZWwpXHJcbiAgICAgICAgLy8gICAgICogcG93KDEgKyBhc3NlbWJseS5Db3N0RXhwbyArIGFzc2VtYmx5LkNvc3RFeHBvICogYXNzZW1ibHkuQmFzZUNvc3QgKiAwLjAyLCBhc3NlbWJseS5CYXNlQ29zdClcclxuICAgICAgICAvLyAgICAgLyBjb3N0UmVkdWN0aW9uO1xyXG5cclxuICAgICAgICByZXR1cm4gZmluYWxDb3N0O1xyXG4gICAgfSxcclxuICAgIGNhbGNQcm90ZWluUGVyU2Vjb25kOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGxldCBwcm90ZWluQm9udXMgPSBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwoZGF0YS5Qcm90ZWluQm9udXMpO1xyXG4gICAgICAgIGxldCBmcmVuY2hUb3RhbCA9IG1hdGhIZWxwZXIuY3JlYXRlRGVjaW1hbChkYXRhLkZyZW5jaEZyaWVzVG90YWwpO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBtYXRoSGVscGVyLmNyZWF0ZURlY2ltYWwoMSk7XHJcbiAgICAgICAgaWYgKGZyZW5jaFRvdGFsLmdyZWF0ZXJUaGFuKDEwMDAwMDAwMDAwLjApKSB7XHJcbiAgICAgICAgICAgIGxldCBsb2cxID0gbWF0aEhlbHBlci5sb2dEZWNpbWFsKGZyZW5jaFRvdGFsLCA1KTtcclxuICAgICAgICAgICAgbG9nMSA9IG1hdGhIZWxwZXIuc3VidHJhY3REZWNpbWFsKGxvZzEsIDEzLjQ4KTtcclxuICAgICAgICAgICAgbGV0IGxvZzIgPSBtYXRoSGVscGVyLmxvZ0RlY2ltYWwoZnJlbmNoVG90YWwsIDEwLjApO1xyXG4gICAgICAgICAgICBsb2cyID0gbWF0aEhlbHBlci5zdWJ0cmFjdERlY2ltYWwobG9nMiwgOCk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG1hdGhIZWxwZXIubXVsdGlwbHlEZWNpbWFsKFxyXG4gICAgICAgICAgICAgICAgbWF0aEhlbHBlci5tdWx0aXBseURlY2ltYWwobG9nMSwgbWF0aEhlbHBlci5wb3coMS4xLCBsb2cyKSksXHJcbiAgICAgICAgICAgICAgICBwcm90ZWluQm9udXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSxcclxuICAgIGNhbGNDb250YWdpb25Cb251czogZnVuY3Rpb24gKGRhdGEsIGluZGV4KSB7XHJcbiAgICAgICAgbGV0IGJvbnVzID0gMTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuR3Jhc3Nob3BwZXJDb2xsZWN0aW9uW2luZGV4XS5Mb2NrZWQgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBiYXNlID0gaGVscGVyLmNhbGNQT1coZGF0YS5HcmFzc2hvcHBlckNvbGxlY3Rpb25baW5kZXhdLkJhc2VCb251cyk7XHJcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IGhlbHBlci5jYWxjUE9XKGRhdGEuR3Jhc3Nob3BwZXJDb2xsZWN0aW9uW2luZGV4XS5MZXZlbCk7XHJcbiAgICAgICAgICAgIGJvbnVzICo9IE1hdGgucG93KDEgKyBiYXNlICogMC4wMSwgbGV2ZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYm9udXM7XHJcbiAgICB9LFxyXG4gICAgY2FsY0V4cGVkaXRpb25IUDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsZXQgYm9udXMgPSAxO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5FeHBlZGl0aW9uc0NvbGxlY3Rpb25bMTZdLkxvY2tlZCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHRlbXAgPSBkYXRhLkV4cGVkaXRpb25zQ29sbGVjdGlvblsxNl07XHJcbiAgICAgICAgICAgIGxldCByZXMgPSBNYXRoLnBvdygxICsgdGVtcC5Cb251c1Bvd2VyLCB0ZW1wLlJvb20gLSAxKTtcclxuICAgICAgICAgICAgYm9udXMgPSByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBib251cztcclxuICAgIH0sXHJcbiAgICBjYWxjVW5pcXVlSFBCb251czogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsZXQgYm9udXMgPSAxO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuRmFybWluZ1Nob3BVbmlxdWVIZWFsdGh5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJvbnVzICo9IChkYXRhLkZhcm1pbmdTaG9wVW5pcXVlSGVhbHRoeVtpXSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYm9udXM7XHJcbiAgICB9LFxyXG4gICAgY2FsY0ZyaWVzSFBCb251czogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsZXQgYm9udXMgPSAxO1xyXG5cclxuICAgICAgICBsZXQgdG90YWxGcmllcyA9IGhlbHBlci5jYWxjUE9XKGRhdGEuRnJlbmNoRnJpZXNUb3RhbCk7XHJcbiAgICAgICAgbGV0IHNob3BGcnlCb251cyA9IDAuMDEgKiBkYXRhLkZhcm1pbmdTaG9wRnJpZXNIZWFsdGh5Qm9udXMgKyAwLjE7XHJcbiAgICAgICAgbGV0IGNvbnRhZ2lvbkZyeUJvbnVzID0gdGhpcy5jYWxjQ29udGFnaW9uQm9udXMoZGF0YSwgNSk7XHJcbiAgICAgICAgbGV0IGZyeUJvbnVzID0gc2hvcEZyeUJvbnVzICogY29udGFnaW9uRnJ5Qm9udXM7XHJcbiAgICAgICAgYm9udXMgKj0gMSArIHRvdGFsRnJpZXMgKiBmcnlCb251cztcclxuICAgICAgICByZXR1cm4gYm9udXM7XHJcbiAgICB9LFxyXG4gICAgY2FsY1BldEhQQm9udXM6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgbGV0IGJvbnVzID0gMTtcclxuXHJcbiAgICAgICAgbGV0IGFjdGl2ZVBldHMgPSBkYXRhLkVxdWlwZWRQZXRJRDtcclxuICAgICAgICBsZXQgYWxsUGV0cyA9IGRhdGEuUGV0c0NvbGxlY3Rpb247XHJcblxyXG4gICAgICAgIGxldCBuZWVkZWRNYXAgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVBldHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVBldHNbaV0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBuZWVkZWRNYXBbYWN0aXZlUGV0c1tpXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFBldHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGN1cnIgPSBhbGxQZXRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoY3Vyci5JRCBpbiBuZWVkZWRNYXApIHtcclxuICAgICAgICAgICAgICAgIC8vIGxldCByYW5rID0gY3Vyci5SYW5rO1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IGJvbnVzSW5uZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3Vyci5Cb251c0xpc3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYm9udXNJbm5lciA9IGN1cnIuQm9udXNMaXN0W2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib251c0lubmVyLklEID09PSAyMykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wdWJsaWMgZG91YmxlIEdldFBldEJvbnVzKGludCBCb251cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8oTWF0aC5Qb3coMS4wICsgcGV0RGF0YUJvbnVzLkdhaW4sIHBldERhdGEuTGV2ZWwpIC0gMS4wICsgTWF0aC5NYXgoMC4wLCAoTWF0aC5Mb2cocGV0RGF0YS5MZXZlbCArIDEsIDEuMDEyNSkgKiAwLjAwNSAtIDEuMCkgKiAwLjUpKSAqICgxLjAgKyBNYXRoLkxvZyhwZXREYXRhLlJhbmsgKyAxLCAxLjA3NSkgKiAwLjAwNSkgKiAwLjVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8oeDEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgeDMpICogKHg1KSAqIDAuNVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIE1hdGguUG93KDEuMCArIHBldERhdGFCb251cy5HYWluLCBwZXREYXRhLkxldmVsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLSAxLjBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICsgTWF0aC5NYXgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgMC4wLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAoTWF0aC5Mb2cocGV0RGF0YS5MZXZlbCArIDEsIDEuMDEyNSkgKiAwLjAwNSAtIDEuMCkgKiAwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4MSA9IE1hdGgucG93KDEuMCArIGJvbnVzSW5uZXIuR2FpbiwgY3Vyci5MZXZlbCkgLSAxLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4MiA9IGhlbHBlci5jYWxjdWxhdGVMb2dhcml0aG0oMS4wMTI1LCBjdXJyLkxldmVsICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4MyA9IE1hdGgubWF4KDAuMCwgKHgyICogMC4wMDUgLSAxLjApICogMC41KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHg0ID0gaGVscGVyLmNhbGN1bGF0ZUxvZ2FyaXRobSgxLjA3NSwgY3Vyci5SYW5rICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4NSA9IDEuMCArIHg0ICogMC4wMDU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90MSA9ICh4MSArIHgzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdDIgPSB0b3QxICogeDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3QzID0gdG90MiAqIDAuNTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvbnVzICs9IHRvdDM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYm9udXM7XHJcbiAgICB9LFxyXG4gICAgY2FsY0hQQm9udXM6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG5cclxuICAgICAgICAvLyBsZXQgYm9udXMgPSAxO1xyXG4gICAgICAgIC8vIGxldCBhc3NlbWJseUhQID0gdGhpcy5jYWxjQXNzZW1ibHlIUChkYXRhKTtcclxuICAgICAgICAvLyBib251cyAqPSBhc3NlbWJseUhQO1xyXG5cclxuICAgICAgICAvLyBsZXQgY29udGFnaW9uSFAgPSB0aGlzLmNhbGNDb250YWdpb25Cb251cyhkYXRhLCAwKTtcclxuICAgICAgICAvLyBib251cyAqPSBjb250YWdpb25IUDtcclxuXHJcbiAgICAgICAgLy8gbGV0IHNvdWxCb251cyA9IE1hdGgucG93KDEuMjUsIGRhdGEuU291bEZlcnRpbGl6ZXIpO1xyXG4gICAgICAgIC8vIGJvbnVzICo9IHNvdWxCb251cztcclxuXHJcbiAgICAgICAgLy8gbGV0IGV4cGVkaXRpb25Cb251cyA9IHRoaXMuY2FsY0V4cGVkaXRpb25IUChkYXRhKTtcclxuICAgICAgICAvLyBib251cyAqPSBleHBlZGl0aW9uQm9udXM7XHJcblxyXG4gICAgICAgIC8vIGxldCBGYXJtaW5nU2hvcFBsYW50SGVhbHRoeVBvdGF0b0Vhcm5pbmcgPSBNYXRoLnBvdygxLjEsIGRhdGEuRmFybWluZ1Nob3BQbGFudEhlYWx0aHlQb3RhdG9FYXJuaW5nKTtcclxuICAgICAgICAvLyBib251cyAqPSBGYXJtaW5nU2hvcFBsYW50SGVhbHRoeVBvdGF0b0Vhcm5pbmc7XHJcblxyXG4gICAgICAgIC8vIGxldCB1bmlxdWVIUEJvbnVzID0gdGhpcy5jYWxjVW5pcXVlSFBCb251cyhkYXRhKTtcclxuICAgICAgICAvLyBib251cyAqPSB1bmlxdWVIUEJvbnVzO1xyXG5cclxuICAgICAgICAvLyBsZXQgZnJ5SFBCb251cyA9IHRoaXMuY2FsY0ZyaWVzSFBCb251cyhkYXRhKTtcclxuICAgICAgICAvLyBib251cyAqPSBmcnlIUEJvbnVzO1xyXG5cclxuICAgICAgICAvLyBsZXQgcGV0SFBCb251cyA9IHRoaXMuY2FsY1BldEhQQm9udXMoZGF0YSk7XHJcbiAgICAgICAgLy8gYm9udXMgKj0gcGV0SFBCb251cztcclxuXHJcbiAgICAgICAgLy8gbGV0IHJlc2lkdWVIUEJvbnVzID0gTWF0aC5wb3coMS4wNSwgZGF0YS5Db3dTaG9wSGVhbHRoeVBvdGF0byA/IGRhdGEuQ293U2hvcEhlYWx0aHlQb3RhdG8gOiAwKTtcclxuICAgICAgICAvLyBib251cyAqPSByZXNpZHVlSFBCb251cztcclxuXHJcbiAgICAgICAgLy8gLy8oMSArIFxyXG4gICAgICAgIC8vIC8vIG1pbGs6IFxyXG4gICAgICAgIC8vIGxldCBzdGVwMSA9IE1hdGgubWF4KDAsXHJcbiAgICAgICAgLy8gICAgIGhlbHBlci5jYWxjUE9XKGRhdGEuQm9vc3RIZWFsdGh5UG90YXRvTWlsa0JEKSA+PSAxRSsyMCA/XHJcbiAgICAgICAgLy8gICAgICAgICBoZWxwZXIuY2FsY3VsYXRlTG9nYXJpdGhtKE1hdGgubWF4KDEuMDAxLCBoZWxwZXIuY2FsY3VsYXRlTG9nYXJpdGhtKGhlbHBlci5jYWxjUE9XKGRhdGEuQm9vc3RIZWFsdGh5UG90YXRvTWlsa0JEKSArIDEsIDEuMDAxKSAtIDEwLjApLCBoZWxwZXIuY2FsY1BPVyhkYXRhLkJvb3N0SGVhbHRoeVBvdGF0b01pbGtCRCkgKyAxKVxyXG4gICAgICAgIC8vICAgICAgICAgOlxyXG4gICAgICAgIC8vICAgICAgICAgMFxyXG4gICAgICAgIC8vICk7XHJcblxyXG5cclxuICAgICAgICAvLyBsZXQgdGVtcDIgPSAoMS4wICsgZGF0YS5CcmV3aW5nSGVhbHRoeVBvdGF0b0xldmVsICogMC4wMDUpICogKChoZWxwZXIuY2FsY1BPVyhkYXRhLkJvb3N0SGVhbHRoeVBvdGF0b0NhbGNpdW1CRCkgPj0gMUUrMjApXHJcbiAgICAgICAgLy8gICAgID8gKE1hdGgucG93KDEuMDUsIGhlbHBlci5jYWxjdWxhdGVMb2dhcml0aG0oTWF0aC5tYXgoMS4wMDEsIGhlbHBlci5jYWxjdWxhdGVMb2dhcml0aG0oMS4wMDEsIGhlbHBlci5jYWxjUE9XKGRhdGEuQm9vc3RIZWFsdGh5UG90YXRvQ2FsY2l1bUJEKSArIDEpIC0gMTAuMCksIGhlbHBlci5jYWxjUE9XKGRhdGEuQm9vc3RIZWFsdGh5UG90YXRvQ2FsY2l1bUJEKSArIDEpKSAtIDAuMjI4KVxyXG4gICAgICAgIC8vICAgICA6IDEpXHJcbiAgICAgICAgLy8gbGV0IHRlbXB5ID0gKE1hdGgucG93KDEuMDUsIGhlbHBlci5jYWxjdWxhdGVMb2dhcml0aG0oaGVscGVyLmNhbGNQT1coTWF0aC5tYXgoMS4wMDEsIGhlbHBlci5jYWxjdWxhdGVMb2dhcml0aG0oMS4wMDEsIGhlbHBlci5jYWxjUE9XKGRhdGEuQm9vc3RIZWFsdGh5UG90YXRvQ2FsY2l1bUJEKSArIDEpIC0gMTAuMCksIGRhdGEuQm9vc3RIZWFsdGh5UG90YXRvQ2FsY2l1bUJEKSArIDEpKSAtIDAuMjI4KTtcclxuXHJcbiAgICAgICAgLy8gbGV0IHRlbXAzID0gaGVscGVyLmNhbGN1bGF0ZUxvZ2FyaXRobShkYXRhLkJvb3N0SGVhbHRoeVBvdGF0b01pbGtCRCArIDEsIDEuMDAxKVxyXG4gICAgICAgIC8vIC8vYnJld2luZzogIFxyXG4gICAgICAgIC8vIC8vZmVybWVudGluZzogKDEuMCArIEdNLlBELkhlYWx0aHlQb3RhdG9QZXRSYW5rRXhwRmVybWVudGluZ0xldmVsICogMC4wMDI1KSkpXHJcbiAgICAgICAgLy8gbGV0IG1pbGtIUEJvbnVzID0gaGVscGVyLmNhbGNQT1coZGF0YS5Cb29zdEhlYWx0aHlQb3RhdG9NaWxrQkQpO1xyXG4gICAgICAgIC8vIC8vIGJvbnVzICo9IG1pbGtIUEJvbnVzO1xyXG5cclxuICAgICAgICBsZXQgbGVnaXRCb251cyA9IGhlbHBlci5jYWxjUE9XKGRhdGEuSGVhbHRoeVBvdGF0b0JvbnVzKTtcclxuICAgICAgICByZXR1cm4gbGVnaXRCb251cztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZmFybWluZ0hlbHBlcjsiXSwibmFtZXMiOlsiaGVscGVyIiwibWF0aEhlbHBlciIsImZhcm1pbmdIZWxwZXIiLCJmaW5kTXVsdGlwbGllcnNXaXRoTWluUGVyY2VudGFnZSIsInN1bSIsIm51bWJlcnMiLCJtaW5QZXJjZW50YWdlIiwibXVsdGlwbGllcnMiLCJjb3VudCIsImJhY2t0cmFjayIsImluZGV4IiwiY3VycmVudFN1bSIsImN1cnJlbnRNdWx0aXBsaWVycyIsImxlbmd0aCIsInByb2R1Y3RTdW0iLCJyZWR1Y2UiLCJhY2MiLCJtdWx0aXBsaWVyIiwiaSIsInB1c2giLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJ0ZW1wU3VtIiwiY29uc29sZSIsImxvZyIsImNhbGNHcm93dGhUaW1lIiwicGxhbnQiLCJtb2RpZmllcnMiLCJncm93aW5nQm9udXMiLCJjcmVhdGVEZWNpbWFsIiwib3JpZ2luYWxTaG9wR3Jvd2luZ0JvbnVzIiwiZGl2aWRlRGVjaW1hbCIsIm9yaWdpbmFsU2hvcEdyb3dpbmdMZXZlbCIsIm11bHRpcGx5RGVjaW1hbCIsInNob3BHcm93aW5nU3BlZWQiLCJ0b051bWJlciIsIm51bSIsIlRpbWVOZWVkZWQiLCJwcmVzdGlnZUJvbnVzIiwiY2FsY1BsYW50SGFydmVzdCIsInJvdW5kSW50IiwiUmFuayIsInBvdyIsInByZXN0aWdlIiwibWFudWFsSGFydmVzdEJvbnVzIiwiY2FsY1Nob3BQcm9kQm9udXMiLCJtb2RpZmllcnNfaW5wdXQiLCJzaG9wTGV2ZWwiLCJGYXJtaW5nU2hvcFBsYW50VG90YWxQcm9kdWN0aW9uIiwiY2FsY1Byb2RPdXRwdXQiLCJwbGFudF9pbnB1dCIsIlRvdGFsQ3JlYXRlZCIsInRvdGFsTWFkZSIsInNob3BQcm9kQm9udXMiLCJQbGFudFRvdGFsUHJvZHVjdGlvbkJvbnVzIiwib3JpZ2luYWxTaG9wUHJvZEJvbnVzIiwib3JpZ2luYWxTaG9wUHJvZExldmVsIiwicGxhbnRNdWx0IiwiZnV0dXJlTXVsdCIsIm91dHB1dCIsIklEIiwiaHBCb251cyIsImNhbGNGcnlPdXRwdXQiLCJwb3RhdG9lcyIsImxlc3NUaGFuIiwidGltZXJCb251cyIsInRpbWVQYXNzZWQiLCJzdGVwMSIsInN0ZXAyIiwic3RlcDMiLCJzdGVwNCIsImxvZzEwIiwibG9nRGVjaW1hbCIsInN1YnRyYWN0RGVjaW1hbCIsImxvZzIiLCJsb2czIiwiaW50ZXIxIiwiaW50ZXIyIiwiZnJlbmNoQm9udXMiLCJmcnlCb251cyIsInN0ZXA1IiwiY2FsY0NhcnJ5T3ZlckVYUF9PTEQiLCJudW1BdXRvcyIsImV4cFRpY2siLCJsZWZ0T3ZlciIsIm51bUxldmVscyIsImluZGl2aWR1YWxFWFAiLCJ0aWNrc05lZWRlZEVYUCIsImNlaWwiLCJyZXFFeHAiLCJjdXJFeHAiLCJmdXR1cmVSZXEiLCJjYWxjQ2FycnlPdmVyRVhQIiwibnVtRVhQIiwiY2FsY0VYUEJvbnVzIiwib3JpZ2luYWxCb251cyIsIm9yaWdpbmFsUmFua0xldmVsQm9udXMiLCJvcmlnaW5hbExldmVsIiwib3JpZ2luYWxTaG9wUmFua0xldmVsIiwiY3VycmVudFNob3BMZXZlbCIsInNob3BSYW5rTGV2ZWwiLCJvcmlnaW5hbFBvdGlvbiIsIm9yaWdpbmFsUG90aW9uUmFuayIsImN1cnJlbnRQb3Rpb24iLCJwb3Rpb25SYW5rIiwiZXhwQm9udXMiLCJmdXR1cmVNdWx0QkQiLCJtYW51YWxIYXJ2ZXN0Rm9ybXVsYSIsImNyZWF0ZWQiLCJjYWxjRnV0dXJlTXVsdCIsInN0cmluZyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInJlbWFpbmluZ1RpbWUiLCJ0aW1lIiwibnVtQXV0byIsIm5ld0V4cEJvbnVzIiwiZ3Jvd3RoVGltZSIsIm5ld091dFB1dCIsInByb2R1Y3Rpb24iLCJ0aW1lVG9MZXZlbCIsImNhbGNUaW1lVGlsbExldmVsIiwiZWxhcHNlZFRpbWUiLCJyYW5rSW5jcmVhc2UiLCJudW1IYXJ2ZXN0cyIsInRvQ3JlYXRlIiwicGVySGFydmVzdCIsImFkZERlY2ltYWwiLCJnYWluZWRFWFAiLCJ0b3RhbEV4cCIsIkluZmluaXR5IiwicmVtRXhwIiwidGlja3NUaWxsTGV2ZWwiLCJnZXROZXh0U2hvcENvc3RzIiwiZGF0YSIsInByb2RDb3N0IiwicHJvZExldmVsIiwic2hvcFByb2RMZXZlbCIsImdyb3d0aENvc3QiLCJncm93dGhMZXZlbCIsIkZhcm1pbmdTaG9wUGxhbnRHcm93aW5nU3BlZWQiLCJleHBDb3N0IiwiZXhwTGV2ZWwiLCJGYXJtaW5nU2hvcFBsYW50UmFua0V4cEVhcm5lZCIsInRlbXAxIiwidGVtcDIiLCJ0ZW1wMyIsInRlbXA0IiwiY2FsY01heFByZXN0aWdlIiwic3RhcnQiLCJydW5uaW5nSGFydmVzdHMiLCJmbGFnIiwicmVxdWlyZWRQZXJQaWMiLCJyZXF1aXJlZEhhcnZlc3RzIiwiZ3JlYXRlclRoYW5PckVxdWFsVG8iLCJjYWxjVGltZVRpbGxQcmVzdGlnZSIsInJlc2V0UGxhbnRCRCIsInJlc2V0TW9kaWZpZXJzQkQiLCJwcmVzdGlnZWQiLCJ0b3RhbFRpbWUiLCJyZW1haW5pbmdIYXJ2ZXN0cyIsInRpbWVUaWxsUHJlc3RpZ2UiLCJncmVhdGVyVGhhbiIsInRpY2tzIiwicmFua1JlcyIsIm1hbnRpc3NhIiwiY3VyUG90YXRvZXMiLCJ0b3RhbFBvdGF0b2VzIiwiY2FsY0hQUHJvZCIsInBsYW50c19pbnB1dCIsInBsYW50cyIsIm5leHRDb3N0cyIsInNpbXVsYXRpb25UaW1lIiwic3RhcnRUaW1lIiwicnVubmluZ1RpbWUiLCJkYXRhUG9pbnRzTWF4IiwibWF4U3RlcHMiLCJ0aWNrU3RhcnQiLCJ0aWNrUmF0ZSIsImRhdGFQb2ludFRocmVzaG9sZCIsImRhdGFQb2ludHNQb3RhdG9lcyIsImRhdGFQb2ludHNGcmllcyIsImN1cnJQb3RhdG9lcyIsInByZXZQbGFudHNQcm9kIiwiQXJyYXkiLCJmaWxsIiwiZmluYWxQYXNzIiwicHJvZE11bHQiLCJmcnlNdWx0IiwiSFBJbml0aWFsIiwiaiIsImN1cnIiLCJ0b0FkZCIsInJlcyIsImZvcmNlUmFua1BvdGlvbiIsInBvdGlvblJhbmtUaW1lIiwiY3VyVGltZSIsIkhQVG9BZGQiLCJhdXRvQnV5UEJDIiwidXBkYXRlQ29zdHMiLCJib3VnaHRVcGdyYWRlIiwic2hvcFJhbmtFWFAiLCJza2lwRmluYWwiLCJwYXNzZWRUaW1lIiwidGltZUluY3JlYXNlIiwiaW5jcmVhc2UiLCJ0cnVlVGltZUluY3JlYXNlIiwiZmluYWxQb3RhdG9lcyIsIm5ld09iaiIsInBvdGF0b2VQcm9kdWN0aW9uIiwiZmluYWxNb2RpZmllcnMiLCJjYWxjU3RlcEhQUHJvZCIsInN0ZXBzIiwicG90YXRvZVN0ZXBzIiwiZnJ5U3RlcHMiLCJhdXRvcyIsImNvbmNhdCIsIm9iaiIsInRleHQiLCJjYWxjQXNzZW1ibHlIUCIsImJvbnVzIiwiQXNzZW1ibGVyQ29sbGVjdGlvbiIsIkJvbnVzTGlzdCIsIlN0YXJ0aW5nTGV2ZWwiLCJMZXZlbCIsImdhaW4iLCJHYWluIiwibGV2ZWwiLCJjYWxjQXNzZW1ibHkiLCJsaW5lX251bSIsImJvbnVzX251bSIsImNhbGNBc3NlbWJseUxpbmUiLCJsaW5lIiwiYWxfbGV2ZWwiLCJjYWxjQXNzZW1ibHlDb3N0IiwiaWQiLCJmaW5hbENvc3QiLCJjb3N0UmVkdWN0aW9uIiwiQXNzZW1ibHlDb3N0UmVkdWN0aW9uQm9udXMiLCJhc3NlbWJseSIsImJhc2VDb3N0IiwiQmFzZUNvc3QiLCJ0ZW1wIiwiQ29zdEV4cG8iLCJwb3dTdGVwQmFzZSIsImNhbGNQcm90ZWluUGVyU2Vjb25kIiwicHJvdGVpbkJvbnVzIiwiUHJvdGVpbkJvbnVzIiwiZnJlbmNoVG90YWwiLCJGcmVuY2hGcmllc1RvdGFsIiwicmVzdWx0IiwibG9nMSIsImNhbGNDb250YWdpb25Cb251cyIsIkdyYXNzaG9wcGVyQ29sbGVjdGlvbiIsIkxvY2tlZCIsImJhc2UiLCJjYWxjUE9XIiwiQmFzZUJvbnVzIiwiY2FsY0V4cGVkaXRpb25IUCIsIkV4cGVkaXRpb25zQ29sbGVjdGlvbiIsIkJvbnVzUG93ZXIiLCJSb29tIiwiY2FsY1VuaXF1ZUhQQm9udXMiLCJGYXJtaW5nU2hvcFVuaXF1ZUhlYWx0aHkiLCJjYWxjRnJpZXNIUEJvbnVzIiwidG90YWxGcmllcyIsInNob3BGcnlCb251cyIsIkZhcm1pbmdTaG9wRnJpZXNIZWFsdGh5Qm9udXMiLCJjb250YWdpb25GcnlCb251cyIsImNhbGNQZXRIUEJvbnVzIiwiYWN0aXZlUGV0cyIsIkVxdWlwZWRQZXRJRCIsImFsbFBldHMiLCJQZXRzQ29sbGVjdGlvbiIsIm5lZWRlZE1hcCIsImJvbnVzSW5uZXIiLCJ4MSIsIngyIiwiY2FsY3VsYXRlTG9nYXJpdGhtIiwieDMiLCJ4NCIsIng1IiwidG90MSIsInRvdDIiLCJ0b3QzIiwiY2FsY0hQQm9udXMiLCJsZWdpdEJvbnVzIiwiSGVhbHRoeVBvdGF0b0JvbnVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/util/farmingHelper.js\n");

/***/ }),

/***/ "(ssr)/./src/app/util/helper.js":
/*!********************************!*\
  !*** ./src/app/util/helper.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar helper = {\n    roundTwoDecimal: function(number) {\n        return Math.round((number + Number.EPSILON) * 100) / 100;\n    },\n    numberWithCommas: function(x) {\n        return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n    roundThreeDecimal: function(number) {\n        return Math.round((number + Number.EPSILON) * 1000) / 1000;\n    },\n    roundFiveDecimal: function(number) {\n        return Math.round((number + Number.EPSILON) * 100000) / 100000;\n    },\n    roundInt: function(num) {\n        return Math.round((num + Number.EPSILON) * 1) / 1;\n    },\n    calculateLogarithm: function(base, x) {\n        var a = Math.log(x);\n        var b = Math.log(base);\n        return a / b;\n    },\n    calcPOW: function(val) {\n        return val.mantissa * Math.pow(10, val.exponent);\n    },\n    secondsToStringWithS: function(seconds) {\n        let string = ``;\n        let numDays = 0;\n        let numHours = 0;\n        let numMinutes = 0;\n        let numSeconds = 0;\n        numDays = Math.floor(seconds / (3600 * 24));\n        numHours = Math.floor(seconds % (3600 * 24) / 3600);\n        numMinutes = Math.floor(seconds % 3600 / 60);\n        numSeconds = this.roundInt(seconds % (3600 * 24) % 60);\n        if (numDays == Number.POSITIVE_INFINITY || numDays == Number.NEGATIVE_INFINITY) {\n            return `` + numDays;\n        }\n        if (numSeconds === 60) {\n            numSeconds = 0;\n            numMinutes++;\n        }\n        if (numMinutes === 60) {\n            numMinutes = 0;\n            numHours++;\n        }\n        if (numHours === 24) {\n            numHours = 0;\n            numDays++;\n        }\n        if (numDays > 0) {\n            string = string + `${numDays < 10 ? `0` + numDays : numDays}d:`;\n        }\n        if (numHours > 0) {\n            string = string + `${numHours < 10 ? `0` + numHours : numHours}h:`;\n        }\n        if (numMinutes > 0) {\n            string = string + `${numMinutes < 10 ? `0` + numMinutes : numMinutes}m:`;\n        }\n        if (numSeconds > 0) {\n            string = string + `${numSeconds < 10 ? `0` + numSeconds : numSeconds}s`;\n        } else {\n            string = string + \"0s\";\n        }\n        return string;\n    },\n    secondsToString: function(seconds) {\n        let string = ``;\n        let numDays = 0;\n        let numHours = 0;\n        let numMinutes = 0;\n        numDays = Math.floor(seconds / (3600 * 24));\n        numHours = Math.floor(seconds % (3600 * 24) / 3600);\n        numMinutes = this.roundInt(seconds % 3600 / 60);\n        if (numMinutes === 60) {\n            numMinutes = 0;\n            numHours++;\n        }\n        if (numHours === 24) {\n            numHours = 0;\n            numDays++;\n        }\n        if (numDays == Number.POSITIVE_INFINITY || numDays == Number.NEGATIVE_INFINITY) {\n            return `` + numDays;\n        }\n        if (numDays > 0) {\n            string = string + `${numDays < 10 ? `0` + numDays : numDays}d:`;\n            if (numHours === 0) {\n                string = string + `00h`;\n            }\n        }\n        if (numHours > 0 || numHours === 0 && numDays === 0) {\n            string = string + `${numHours < 10 ? `0` + numHours : numHours}h`;\n        }\n        if (numDays === 0) {\n            string = string + `:`;\n            if (numMinutes > 0) {\n                string = string + `${numMinutes < 10 ? `0` + numMinutes : numMinutes}m`;\n            } else {\n                string = string + `0s`;\n            }\n        }\n        return string;\n    },\n    bonusColorMap: {\n        // 1001: { color: 'maroon' },\n        // 1002: { color: 'orange' },\n        // 1003: { color: 'purple' },\n        1009: {\n            color: \"cyan\"\n        },\n        1010: {\n            color: \"maroon\"\n        },\n        1011: {\n            color: \"purple\"\n        },\n        1012: {\n            color: \"yellow\"\n        },\n        1013: {\n            color: \"red\"\n        },\n        1014: {\n            color: \"blue\"\n        },\n        1015: {\n            color: \"gray\"\n        },\n        1016: {\n            color: \"green\"\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (helper);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBUyxlQUFlO1FBQ1gsNkJBQTZCO1FBQzdCLDZCQUE2QjtRQUM3Qiw2QkFBNkI7UUFDN0IsTUFBTTtZQUFFQyxPQUFPO1FBQU87UUFDdEIsTUFBTTtZQUFFQSxPQUFPO1FBQVM7UUFDeEIsTUFBTTtZQUFFQSxPQUFPO1FBQVM7UUFDeEIsTUFBTTtZQUFFQSxPQUFPO1FBQVM7UUFDeEIsTUFBTTtZQUFFQSxPQUFPO1FBQU07UUFDckIsTUFBTTtZQUFFQSxPQUFPO1FBQU87UUFDdEIsTUFBTTtZQUFFQSxPQUFPO1FBQU87UUFDdEIsTUFBTTtZQUFFQSxPQUFPO1FBQVE7SUFDM0I7QUFDSjtBQUdBLGlFQUFlcEMsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbWVwbGF5LXBsYW5uZXIvLi9zcmMvYXBwL3V0aWwvaGVscGVyLmpzPzMxNDAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGhlbHBlciA9IHtcclxuICAgIHJvdW5kVHdvRGVjaW1hbDogZnVuY3Rpb24gKG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChudW1iZXIgKyBOdW1iZXIuRVBTSUxPTikgKiAxMDApIC8gMTAwO1xyXG4gICAgfSxcclxuICAgICBudW1iZXJXaXRoQ29tbWFzOiBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgcmV0dXJuIHgucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIsXCIpO1xyXG4gICAgfSxcclxuICAgIHJvdW5kVGhyZWVEZWNpbWFsOiBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKG51bWJlciArIE51bWJlci5FUFNJTE9OKSAqIDEwMDApIC8gMTAwMDtcclxuICAgIH0sXHJcbiAgICByb3VuZEZpdmVEZWNpbWFsOiBmdW5jdGlvbiAobnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKG51bWJlciArIE51bWJlci5FUFNJTE9OKSAqIDEwMDAwMCkgLyAxMDAwMDA7XHJcbiAgICB9LFxyXG4gICAgcm91bmRJbnQ6IGZ1bmN0aW9uIChudW0pIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobnVtICsgTnVtYmVyLkVQU0lMT04pICogMSkgLyAxO1xyXG4gICAgfSxcclxuICAgIGNhbGN1bGF0ZUxvZ2FyaXRobTogZnVuY3Rpb24gKGJhc2UsIHgpIHtcclxuICAgICAgICB2YXIgYSA9IE1hdGgubG9nKHgpO1xyXG4gICAgICAgIHZhciBiID0gTWF0aC5sb2coYmFzZSk7XHJcbiAgICAgICAgcmV0dXJuIGEgLyBiO1xyXG4gICAgfSxcclxuICAgIGNhbGNQT1c6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICByZXR1cm4gdmFsLm1hbnRpc3NhICogTWF0aC5wb3coMTAsIHZhbC5leHBvbmVudCk7XHJcbiAgICB9LFxyXG4gICAgc2Vjb25kc1RvU3RyaW5nV2l0aFM6IGZ1bmN0aW9uIChzZWNvbmRzKSB7XHJcbiAgICAgICAgbGV0IHN0cmluZyA9IGBgO1xyXG5cclxuICAgICAgICBsZXQgbnVtRGF5cyA9IDA7XHJcblxyXG4gICAgICAgIGxldCBudW1Ib3VycyA9IDA7XHJcbiAgICAgICAgbGV0IG51bU1pbnV0ZXMgPSAwO1xyXG4gICAgICAgIGxldCBudW1TZWNvbmRzID0gMDtcclxuXHJcbiAgICAgICAgbnVtRGF5cyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvICgzNjAwICogMjQpKTtcclxuICAgICAgICBudW1Ib3VycyA9IE1hdGguZmxvb3IoKHNlY29uZHMgJSAoMzYwMCAqIDI0KSkgLyAzNjAwKTtcclxuICAgICAgICBudW1NaW51dGVzID0gTWF0aC5mbG9vcigoc2Vjb25kcyAlIDM2MDApIC8gNjApO1xyXG4gICAgICAgIG51bVNlY29uZHMgPSB0aGlzLnJvdW5kSW50KChzZWNvbmRzICUgKDM2MDAgKiAyNCkpICUgNjApO1xyXG5cclxuICAgICAgICBpZiAobnVtRGF5cyA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgfHwgbnVtRGF5cyA9PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBgICsgbnVtRGF5cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChudW1TZWNvbmRzID09PSA2MCkge1xyXG4gICAgICAgICAgICBudW1TZWNvbmRzID0gMDtcclxuICAgICAgICAgICAgbnVtTWludXRlcysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtTWludXRlcyA9PT0gNjApIHtcclxuICAgICAgICAgICAgbnVtTWludXRlcyA9IDA7XHJcbiAgICAgICAgICAgIG51bUhvdXJzKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW1Ib3VycyA9PT0gMjQpIHtcclxuICAgICAgICAgICAgbnVtSG91cnMgPSAwO1xyXG4gICAgICAgICAgICBudW1EYXlzKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobnVtRGF5cyA+IDApIHtcclxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgYCR7bnVtRGF5cyA8IDEwID8gYDBgICsgbnVtRGF5cyA6IG51bURheXN9ZDpgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW1Ib3VycyA+IDApIHtcclxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgYCR7bnVtSG91cnMgPCAxMCA/IGAwYCArIG51bUhvdXJzIDogbnVtSG91cnN9aDpgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW1NaW51dGVzID4gMCkge1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBgJHtudW1NaW51dGVzIDwgMTAgPyBgMGAgKyBudW1NaW51dGVzIDogbnVtTWludXRlc31tOmBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51bVNlY29uZHMgPiAwKSB7XHJcbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIGAke251bVNlY29uZHMgPCAxMCA/IGAwYCArIG51bVNlY29uZHMgOiBudW1TZWNvbmRzfXNgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyAnMHMnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH0sXHJcbiAgICBzZWNvbmRzVG9TdHJpbmc6IGZ1bmN0aW9uIChzZWNvbmRzKSB7XHJcbiAgICAgICAgbGV0IHN0cmluZyA9IGBgO1xyXG4gICAgICAgIGxldCBudW1EYXlzID0gMDtcclxuICAgICAgICBsZXQgbnVtSG91cnMgPSAwO1xyXG4gICAgICAgIGxldCBudW1NaW51dGVzID0gMDtcclxuXHJcbiAgICAgICAgbnVtRGF5cyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvICgzNjAwICogMjQpKTtcclxuICAgICAgICBudW1Ib3VycyA9IE1hdGguZmxvb3IoKHNlY29uZHMgJSAoMzYwMCAqIDI0KSkgLyAzNjAwKTtcclxuICAgICAgICBudW1NaW51dGVzID0gdGhpcy5yb3VuZEludCgoc2Vjb25kcyAlIDM2MDApIC8gNjApO1xyXG5cclxuICAgICAgICBpZiAobnVtTWludXRlcyA9PT0gNjApIHtcclxuICAgICAgICAgICAgbnVtTWludXRlcyA9IDA7XHJcbiAgICAgICAgICAgIG51bUhvdXJzKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW1Ib3VycyA9PT0gMjQpIHtcclxuICAgICAgICAgICAgbnVtSG91cnMgPSAwO1xyXG4gICAgICAgICAgICBudW1EYXlzKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobnVtRGF5cyA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgfHwgbnVtRGF5cyA9PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBgICsgbnVtRGF5cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChudW1EYXlzID4gMCkge1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBgJHtudW1EYXlzIDwgMTAgPyBgMGAgKyBudW1EYXlzIDogbnVtRGF5c31kOmA7XHJcbiAgICAgICAgICAgIGlmIChudW1Ib3VycyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgYDAwaGBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtSG91cnMgPiAwIHx8IChudW1Ib3VycyA9PT0gMCAmJiBudW1EYXlzID09PSAwKSkge1xyXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBgJHtudW1Ib3VycyA8IDEwID8gYDBgICsgbnVtSG91cnMgOiBudW1Ib3Vyc31oYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51bURheXMgPT09IDApIHtcclxuXHJcbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIGA6YDtcclxuXHJcbiAgICAgICAgICAgIGlmIChudW1NaW51dGVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgYCR7bnVtTWludXRlcyA8IDEwID8gYDBgICsgbnVtTWludXRlcyA6IG51bU1pbnV0ZXN9bWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyBgMHNgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgfSxcclxuICAgIGJvbnVzQ29sb3JNYXA6IHtcclxuICAgICAgICAvLyAxMDAxOiB7IGNvbG9yOiAnbWFyb29uJyB9LFxyXG4gICAgICAgIC8vIDEwMDI6IHsgY29sb3I6ICdvcmFuZ2UnIH0sXHJcbiAgICAgICAgLy8gMTAwMzogeyBjb2xvcjogJ3B1cnBsZScgfSxcclxuICAgICAgICAxMDA5OiB7IGNvbG9yOiAnY3lhbicgfSxcclxuICAgICAgICAxMDEwOiB7IGNvbG9yOiAnbWFyb29uJyB9LFxyXG4gICAgICAgIDEwMTE6IHsgY29sb3I6ICdwdXJwbGUnIH0sXHJcbiAgICAgICAgMTAxMjogeyBjb2xvcjogJ3llbGxvdycgfSxcclxuICAgICAgICAxMDEzOiB7IGNvbG9yOiAncmVkJyB9LFxyXG4gICAgICAgIDEwMTQ6IHsgY29sb3I6ICdibHVlJyB9LFxyXG4gICAgICAgIDEwMTU6IHsgY29sb3I6ICdncmF5JyB9LFxyXG4gICAgICAgIDEwMTY6IHsgY29sb3I6ICdncmVlbicgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaGVscGVyOyJdLCJuYW1lcyI6WyJoZWxwZXIiLCJyb3VuZFR3b0RlY2ltYWwiLCJudW1iZXIiLCJNYXRoIiwicm91bmQiLCJOdW1iZXIiLCJFUFNJTE9OIiwibnVtYmVyV2l0aENvbW1hcyIsIngiLCJyZXBsYWNlIiwicm91bmRUaHJlZURlY2ltYWwiLCJyb3VuZEZpdmVEZWNpbWFsIiwicm91bmRJbnQiLCJudW0iLCJjYWxjdWxhdGVMb2dhcml0aG0iLCJiYXNlIiwiYSIsImxvZyIsImIiLCJjYWxjUE9XIiwidmFsIiwibWFudGlzc2EiLCJwb3ciLCJleHBvbmVudCIsInNlY29uZHNUb1N0cmluZ1dpdGhTIiwic2Vjb25kcyIsInN0cmluZyIsIm51bURheXMiLCJudW1Ib3VycyIsIm51bU1pbnV0ZXMiLCJudW1TZWNvbmRzIiwiZmxvb3IiLCJQT1NJVElWRV9JTkZJTklUWSIsIk5FR0FUSVZFX0lORklOSVRZIiwic2Vjb25kc1RvU3RyaW5nIiwiYm9udXNDb2xvck1hcCIsImNvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/util/helper.js\n");

/***/ }),

/***/ "(ssr)/./src/app/util/math.js":
/*!******************************!*\
  !*** ./src/app/util/math.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var break_infinity_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! break_infinity.js */ \"(ssr)/./node_modules/break_infinity.js/dist/break_infinity.esm.js\");\n\nvar helper = {\n    createDecimal: function(number) {\n        let deci = number.mantissa || number.mantissa === 0 ? new break_infinity_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](`${number.mantissa}e${number.exponent}`) : new break_infinity_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](number);\n        return deci;\n    },\n    multiplyDecimal: function(a, b) {\n        a = a.mantissa || a.mantissa === 0 ? a : this.createDecimal(a);\n        return a.times(b);\n    },\n    divideDecimal: function(a, b) {\n        a = a.mantissa || a.mantissa === 0 ? a : this.createDecimal(a);\n        return a.dividedBy(b);\n    },\n    addDecimal: function(a, b) {\n        a = a.mantissa || a.mantissa === 0 ? a : this.createDecimal(a);\n        return a.plus(b);\n    },\n    subtractDecimal: function(a, b) {\n        a = a.mantissa || a.mantissa === 0 ? a : this.createDecimal(a);\n        return a.minus(b);\n    },\n    logDecimal: function(number, base) {\n        number = number.mantissa || number.mantissa === 0 ? number : this.createDecimal(number);\n        return this.createDecimal(number.log(base));\n    },\n    pow: function(number, exp) {\n        number = number.mantissa || number.mantissa === 0 ? number : this.createDecimal(number);\n        return number.pow(exp);\n    },\n    min: function(number1, number2) {\n        number1 = number1.mantissa || number1.mantissa === 0 ? number1 : this.createDecimal(number1);\n        number2 = number2.mantissa || number2.mantissa === 0 ? number2 : this.createDecimal(number2);\n        if (number1.greaterThan(number2)) {\n            return number2;\n        }\n        return number1;\n    },\n    max: function(number1, number2) {\n        number1 = number1.mantissa || number1.mantissa === 0 ? number1 : this.createDecimal(number1);\n        number2 = number2.mantissa || number2.mantissa === 0 ? number2 : this.createDecimal(number2);\n        if (number1.greaterThan(number2)) {\n            return number1;\n        }\n        return number2;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (helper);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGxhbm5lci8uL3NyYy9hcHAvdXRpbC9tYXRoLmpzPzc3ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERlY2ltYWwgZnJvbSAnYnJlYWtfaW5maW5pdHkuanMnO1xyXG52YXIgaGVscGVyID0ge1xyXG4gICAgY3JlYXRlRGVjaW1hbDogZnVuY3Rpb24gKG51bWJlcikge1xyXG4gICAgICAgIGxldCBkZWNpID0gbnVtYmVyLm1hbnRpc3NhIHx8IG51bWJlci5tYW50aXNzYSA9PT0gMCA/IG5ldyBEZWNpbWFsKGAke251bWJlci5tYW50aXNzYX1lJHtudW1iZXIuZXhwb25lbnR9YCkgOiBuZXcgRGVjaW1hbChudW1iZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGVjaTtcclxuICAgIH0sXHJcbiAgICBtdWx0aXBseURlY2ltYWw6IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgYSA9IGEubWFudGlzc2EgfHwgYS5tYW50aXNzYSA9PT0gMCA/IGEgOiB0aGlzLmNyZWF0ZURlY2ltYWwoYSk7XHJcbiAgICAgICAgcmV0dXJuIGEudGltZXMoYik7XHJcbiAgICB9LFxyXG4gICAgZGl2aWRlRGVjaW1hbDogZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBhID0gYS5tYW50aXNzYSB8fCBhLm1hbnRpc3NhID09PSAwID8gYSA6IHRoaXMuY3JlYXRlRGVjaW1hbChhKTtcclxuICAgICAgICByZXR1cm4gYS5kaXZpZGVkQnkoYik7XHJcbiAgICB9LFxyXG4gICAgYWRkRGVjaW1hbDogZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBhID0gYS5tYW50aXNzYSB8fCBhLm1hbnRpc3NhID09PSAwID8gYSA6IHRoaXMuY3JlYXRlRGVjaW1hbChhKTtcclxuICAgICAgICByZXR1cm4gYS5wbHVzKGIpO1xyXG4gICAgfSxcclxuICAgIHN1YnRyYWN0RGVjaW1hbDogZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBhID0gYS5tYW50aXNzYSB8fCBhLm1hbnRpc3NhID09PSAwID8gYSA6IHRoaXMuY3JlYXRlRGVjaW1hbChhKTtcclxuICAgICAgICByZXR1cm4gYS5taW51cyhiKTtcclxuICAgIH0sXHJcbiAgICBsb2dEZWNpbWFsOiBmdW5jdGlvbiAobnVtYmVyLCBiYXNlKSB7XHJcbiAgICAgICAgbnVtYmVyID0gbnVtYmVyLm1hbnRpc3NhIHx8IG51bWJlci5tYW50aXNzYSA9PT0gMCA/IG51bWJlciA6IHRoaXMuY3JlYXRlRGVjaW1hbChudW1iZXIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURlY2ltYWwobnVtYmVyLmxvZyhiYXNlKSk7XHJcbiAgICB9LFxyXG4gICAgcG93OiBmdW5jdGlvbiAobnVtYmVyLCBleHApIHtcclxuICAgICAgICBudW1iZXIgPSBudW1iZXIubWFudGlzc2EgfHwgbnVtYmVyLm1hbnRpc3NhID09PSAwID8gbnVtYmVyIDogdGhpcy5jcmVhdGVEZWNpbWFsKG51bWJlcik7XHJcbiAgICAgICAgcmV0dXJuIG51bWJlci5wb3coZXhwKTtcclxuICAgIH0sXHJcbiAgICBtaW46IGZ1bmN0aW9uIChudW1iZXIxLCBudW1iZXIyKSB7XHJcbiAgICAgICAgbnVtYmVyMSA9IG51bWJlcjEubWFudGlzc2EgfHwgbnVtYmVyMS5tYW50aXNzYSA9PT0gMCA/IG51bWJlcjEgOiB0aGlzLmNyZWF0ZURlY2ltYWwobnVtYmVyMSk7XHJcbiAgICAgICAgbnVtYmVyMiA9IG51bWJlcjIubWFudGlzc2EgfHwgbnVtYmVyMi5tYW50aXNzYSA9PT0gMCA/IG51bWJlcjIgOiB0aGlzLmNyZWF0ZURlY2ltYWwobnVtYmVyMik7XHJcblxyXG4gICAgICAgIGlmIChudW1iZXIxLmdyZWF0ZXJUaGFuKG51bWJlcjIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVtYmVyMTtcclxuICAgIH0sXHJcbiAgICBtYXg6IGZ1bmN0aW9uIChudW1iZXIxLCBudW1iZXIyKSB7XHJcbiAgICAgICAgbnVtYmVyMSA9IG51bWJlcjEubWFudGlzc2EgfHwgbnVtYmVyMS5tYW50aXNzYSA9PT0gMCA/IG51bWJlcjEgOiB0aGlzLmNyZWF0ZURlY2ltYWwobnVtYmVyMSk7XHJcbiAgICAgICAgbnVtYmVyMiA9IG51bWJlcjIubWFudGlzc2EgfHwgbnVtYmVyMi5tYW50aXNzYSA9PT0gMCA/IG51bWJlcjIgOiB0aGlzLmNyZWF0ZURlY2ltYWwobnVtYmVyMik7XHJcblxyXG4gICAgICAgIGlmIChudW1iZXIxLmdyZWF0ZXJUaGFuKG51bWJlcjIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVtYmVyMjtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhlbHBlcjsiXSwibmFtZXMiOlsiRGVjaW1hbCIsImhlbHBlciIsImNyZWF0ZURlY2ltYWwiLCJudW1iZXIiLCJkZWNpIiwibWFudGlzc2EiLCJleHBvbmVudCIsIm11bHRpcGx5RGVjaW1hbCIsImEiLCJiIiwidGltZXMiLCJkaXZpZGVEZWNpbWFsIiwiZGl2aWRlZEJ5IiwiYWRkRGVjaW1hbCIsInBsdXMiLCJzdWJ0cmFjdERlY2ltYWwiLCJtaW51cyIsImxvZ0RlY2ltYWwiLCJiYXNlIiwibG9nIiwicG93IiwiZXhwIiwibWluIiwibnVtYmVyMSIsIm51bWJlcjIiLCJncmVhdGVyVGhhbiIsIm1heCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/util/math.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete __webpack_module_cache__[moduleId];
/******/ 		}
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	__webpack_require__.x = () => {
/******/ 		// Load entry module and return exports
/******/ 		// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 		var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor-chunks/break_infinity.js","vendor-chunks/pad-end"], () => (__webpack_require__("(ssr)/./src/app/farming/farmingWorker.js")))
/******/ 		__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 		return __webpack_exports__;
/******/ 	};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks and sibling chunks for the entrypoint
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/require chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded chunks
/******/ 		// "1" means "loaded", otherwise not loaded yet
/******/ 		var installedChunks = {
/******/ 			"_ssr_src_app_farming_farmingWorker_js-_610d10": 1
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.O.require = (chunkId) => (installedChunks[chunkId]);
/******/ 		
/******/ 		var installChunk = (chunk) => {
/******/ 			var moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;
/******/ 			for(var moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			for(var i = 0; i < chunkIds.length; i++)
/******/ 				installedChunks[chunkIds[i]] = 1;
/******/ 			__webpack_require__.O();
/******/ 		};
/******/ 		
/******/ 		// require() chunk loading for javascript
/******/ 		__webpack_require__.f.require = (chunkId, promises) => {
/******/ 			// "1" is the signal for "already loaded"
/******/ 			if(!installedChunks[chunkId]) {
/******/ 				if(true) { // all chunks have JS
/******/ 					installChunk(require("./" + __webpack_require__.u(chunkId)));
/******/ 				} else installedChunks[chunkId] = 1;
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		// no external install chunk
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/startup chunk dependencies */
/******/ 	(() => {
/******/ 		var next = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			__webpack_require__.e("vendor-chunks/break_infinity.js");
/******/ 			__webpack_require__.e("vendor-chunks/pad-end");
/******/ 			return next();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// run startup
/******/ 	var __webpack_exports__ = __webpack_require__.x();
/******/ 	module.exports = __webpack_exports__;
/******/ 	
/******/ })()
;