(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3409:function(e,t,n){Promise.resolve().then(n.bind(n,85975))},85975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var o=n(57437),i=n(2265),r=n(16691),l=n.n(r),a=n(24033);n(95585);var s=n(82528),c=n(26566),d=n.n(c),u=n(12900),p=n(49011),h={src:"/_next/static/media/coming_soon.25da4b92.png",height:1085,width:1927,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAhklEQVR42mPQm7BKcOIa0YmrGSatAyLz5pmBpT3R85YwBC7uSFzYb7pwZuOcZvs5MxiWZoRPNfdYrM8QOlkytzkxeH7Nlm7vnP7SzM6w1FZl68UKDMnRWokh+onlDtnZ7hkJzuWhTinhmmGxagyy8hzGKuw+7AyBcgwhquzu6kxWqjwaKpwAPEEqm/af2gYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5};function Home(){let[e,t]=d()("userData",s),n=(0,a.useRouter)(),r=(0,i.useRef)(null),handleFileUpload=async e=>{let o=e.target.files[0],i=new FileReader;i.onload=e=>{let o=new Uint8Array(e.target.result),i=u.ZP.inflate(o),r=new TextDecoder("utf-8"),l=r.decode(i),a=l.indexOf("{"),s=l.lastIndexOf("}")+1,c=l.slice(a,s),d=c.indexOf("Infinity");for(;d>0;)d=(c=c.replaceAll("Infinity","-999")).indexOf("Infinity");try{let e=JSON.parse(c);return t(e),console.log(e),console.log("trying to redirect"),n.push("/page_selection")}catch(e){console.error("Invalid JSON:",e)}},i.readAsArrayBuffer(o)},[c,f]=(0,i.useState)(!1),g=(0,i.useRef)(!1),x=(0,i.useRef)(!1),m=(0,i.useRef)(!1),v=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{let callback=t=>{switch(t.code){case"KeyA":g.current=!0;break;case"KeyS":x.current=!0;break;case"KeyD":m.current=!0}if(g.current&&x.current&&m.current&&!v.current){console.log("flush file"),v.current=!0;let t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.download="fapi_save_planner.txt",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}},releaseCallback=e=>{switch(e.code){case"KeyA":g.current=!1;break;case"KeyS":x.current=!1;break;case"KeyD":m.current=!1}g.current||x.current||m.current||!v.current||(v.current=!1)};return document.addEventListener("keydown",callback),document.addEventListener("keyup",releaseCallback),()=>{document.removeEventListener("keydown",callback),document.removeEventListener("keyup",releaseCallback)}},[e]),(0,o.jsxs)("div",{style:{display:"flex",flex:"1",backgroundColor:"rgba(0,0,0,1)",position:"relative",paddingLeft:"6px",alignItems:"center",justifyContent:"center"},children:[(0,o.jsx)(l(),{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1",opacity:"0.3"},alt:"fullscreen picture of a Farmer Against Potatoes Idle game",src:h,priority:!0,unoptimized:!0}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"calc(0px - 50vh)",zIndex:"2"},children:[(0,o.jsxs)(p.Z,{forceOpen:c,setForceOpen:f,forceXPlacement:"right",tooltip:(0,o.jsxs)("div",{onMouseEnter:e=>{c||f(!0)},onMouseLeave:e=>{c&&f(!1)},children:[(0,o.jsx)("h3",{style:{marginTop:"6px",marginBottom:"12px"},children:"Your save file can be found at:"}),(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)("div",{style:{fontWeight:"bold",marginRight:"6px"},children:"PC:"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:"%LOCALAPPDATA%Low\\Oni Gaming\\Farmer Against Potatoes Idle\\fapi-save.txt"}),(0,o.jsx)("div",{style:{textAlign:"center",fontWeight:"bold"},children:"or you can copy:"}),(0,o.jsx)("div",{children:"%LOCALAPPDATA%Low\\Oni Gaming\\Farmer Against Potatoes Idle"})]})]}),(0,o.jsxs)("div",{style:{display:"flex",marginTop:"12px"},children:[(0,o.jsx)("div",{style:{fontWeight:"bold",marginRight:"6px"},children:"Mobile:"}),(0,o.jsx)("div",{children:"/storage/emulated/0/Android/data/com.oninou.FAPI/files/fapi-save.txt"})]})]}),children:[(0,o.jsx)("div",{className:"mediumImportantText blackTextStroke",style:{margin:"0 0 0 0",fontSize:"60px",fontWeight:"bold"},children:"Upload save file to view calculator"}),(0,o.jsx)("div",{onMouseEnter:e=>{c||f(!0)},onMouseLeave:e=>{c&&f(!1)},style:{display:"flex",alignItems:"center"},children:(0,o.jsx)("div",{style:{position:"relative",height:"36px",width:"36px",marginLeft:"6px",marginTop:"6px"},children:(0,o.jsx)(l(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:"/images/icons/info_lightgray.svg",fill:!0})})})]}),(0,o.jsx)("div",{className:"mediumImportantText blackTextStroke",style:{margin:"0 0 0 0",fontSize:"35px",fontWeight:"bold",textStroke:""},children:"Warning: contains spoilers!"}),(0,o.jsxs)("div",{style:{marginTop:"16px"},children:[(0,o.jsx)("input",{style:{display:"none"},id:"chooseFileButton","aria-label":"save file upload button",type:"file",title:"",accept:".txt",onChange:handleFileUpload}),(0,o.jsx)("button",{style:{fontSize:"1.3rem"},onClick:e=>(chooseFileButton.click(),!1),children:"Choose File"})]}),(0,o.jsxs)("div",{style:{marginTop:"16px"},children:[(0,o.jsx)("input",{type:"string",id:"stringSave",ref:r,placeholder:"Paste save string here",style:{marginRight:"12px"}}),(0,o.jsx)("button",{style:{fontSize:"1.3rem"},onClick:async e=>{let o=r.current.value;try{o=atob(o);let e=o.indexOf("{"),i=o.lastIndexOf("}")+1,r=o.slice(e,i),l=r.indexOf("Infinity");for(;l>0;)l=(r=r.replaceAll("Infinity","-999")).indexOf("Infinity");try{let e=JSON.parse(r);return t(e),console.log(e),console.log("trying to redirect"),n.push("/page_selection")}catch(e){console.error("Invalid JSON:",e)}}catch(e){console.log(e),console.log("caught error reading string save")}},children:"Load"})]})]})]})}n(11684).ZP.initialize([{trackingId:"G-GGLPK02VH8"}])},49011:function(e,t,n){"use strict";var o=n(57437),i=n(2265),r=n(93927),l=n(17079);function MouseOverPopover(e){let{tooltip:t,children:n,style:a,extraClasses:s,opacity:c,forceOpen:d,setForceOpen:u,disableRestoreFocusParam:p,forceXPlacement:h}=e,[f,g]=(0,i.useState)(null),[x,m]=(0,i.useState)(!1),handlePopoverClose=()=>{u||g(null)};c=c||"0.9";let[v,y]=(0,i.useState)(100),[A,b]=(0,i.useState)(100);(0,i.useEffect)(()=>{y(window.innerWidth),b(window.innerHeight)},[]);let k="left",j="bottom",O="top";return f&&f.getBoundingClientRect().top/A>.5&&(j="top",O="bottom"),h&&(k=h),(0,o.jsxs)("div",{className:s?s+" popoverContainer":"popoverContainer",style:a||{},children:[(0,o.jsx)(l.Z,{component:"span","aria-haspopup":"true",onMouseEnter:e=>{g(e.currentTarget)},onMouseLeave:handlePopoverClose,children:n}),(0,o.jsx)(r.ZP,{id:"mouse-over-popover",sx:{pointerEvents:"none",width:"100%"},open:u?d:!!f,anchorEl:f,anchorOrigin:{vertical:j,horizontal:k},transformOrigin:{vertical:O,horizontal:"left"},onClose:handlePopoverClose,slotProps:{paper:{style:{backgroundColor:"rgba(255,255,255,".concat(c,")"),padding:"6px",pointerEvents:"auto"}}},disableRestoreFocus:!p||p,children:t})]})}t.Z=MouseOverPopover},95585:function(){},24033:function(e,t,n){e.exports=n(50094)}},function(e){e.O(0,[125,413,201,385,528,971,472,744],function(){return e(e.s=3409)}),_N_E=e.O()}]);