(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{5993:function(e,t,i){Promise.resolve().then(i.bind(i,40144))},83574:function(e,t){"use strict";function NoopHead(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return NoopHead}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},40144:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Expeditions}});var l=i(57437),n=i(16691),r=i.n(n),s=i(2265),a=i(26566),o=i.n(a);i(68180);var d=i(51553);i(45179);var c=i(37790),p=i(49011),h=i(62109);let filterBonuses=(e,t)=>e.filter(t);function PetItemCoin_PetItem(e){let{petData:t,isSelected:i,onClick:n,data:s,weightMap:a,petScoreFn:o,defaultRank:x,borderActive:u,enabledBonusHighlight:m,fullPetData:g,showNameOnly:f,grayBackground:b,circleBorder:y}=e;if(!1==!!s)return(0,l.jsx)("div",{});let{petId:v,location:j,img:I,name:w}=t,C=s.PetsCollection.find(e=>e.ID===v);if(!C)return null;let k=x||C.Rank,D=C.Level,S=Number(Number(null==s?void 0:s.PetDamageBonuses)*C.BaseDungeonDamage*(1+.05*k)*5).toExponential(2);o&&o(C);let T=(0,l.jsx)("ul",{style:{margin:"0 0 0 0"},children:filterBonuses(C.BonusList,e=>e.ID<1e3).map((e,t)=>{var i;let n=h.Z.calcEquipBonus(C,e);return(0,l.jsxs)("li",{children:[null===(i=d.bO[e.ID])||void 0===i?void 0:i.label,": ",n.toExponential(2)]},t)})}),B=(0,l.jsx)("ul",{style:{margin:"0 0 0 0"},children:filterBonuses(C.BonusList,e=>e.ID>=1e3&&e.ID<5e3).map((e,t)=>{var i;return(0,l.jsxs)("li",{children:[null===(i=d.bO[e.ID])||void 0===i?void 0:i.label,": ",Number(e.Power).toExponential(2)]},t)})}),N=[];if(m)for(let[e,t]of Object.entries(m))t&&g.BonusList.find(t=>t.ID===Number(e))&&N.push(e);let P={Niord:"65px",Cocorico:"63px",Apollo:"60px",Abby:"60px"},E="";return y&&(E=P[w]?P[w]:"75px"),(0,l.jsxs)(p.Z,{tooltip:(0,l.jsxs)("div",{className:"tooltip-custom ",children:[(0,l.jsxs)("h3",{style:{marginTop:"0"},children:[(0,l.jsxs)("div",{children:[w,"  (",S,")"]}),(0,l.jsxs)("div",{children:["(Level: ",D,") (Rank: ",C.Rank,")  (",j,")"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{margin:"6px 0 6px 0"},children:"Active Bonuses"}),T]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{margin:"6px 0 6px 0"},children:"Expedition Bonuses:"}),B]})]}),children:[!f&&(0,l.jsx)("div",{style:y?{borderRadius:"45px",border:"2px solid black",overflow:"hidden",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"}:{},children:(0,l.jsx)("div",{onClick:n,style:{display:"flex"},className:"item-tile".concat(1===C.Type?"-ground ":"-air "," ").concat(i?"":"unselected"),children:(0,l.jsxs)("div",{className:"item-image-container",style:{outline:u?"white 4px solid":"",position:"relative",display:"flex",justifyContent:"center",maxHeight:E,maxWidth:E},children:[N.map((e,t)=>(0,l.jsx)("div",{style:{background:c.Z.bonusColorMap[e].color,position:"absolute",top:"0%",left:"".concat(100/N.length*t,"%"),height:"100%",width:"".concat(100/N.length,"%"),zIndex:1}},t)),(0,l.jsx)(r(),{alt:"in game image of ".concat(w),src:I,className:y?"":"item-image",style:{zIndex:"2",objectFit:"contain",maxHeight:y?E:"",maxWidth:y?E:"",height:"60px",width:"auto"},unoptimized:!0,priority:!0})]})},v)}),f&&(0,l.jsx)("div",{style:{width:"100%",backgroundColor:"",textDecoration:b?"line-through ":"",fontSize:"19px"},children:"(".concat(1===C.Type?"Ground":"Air",") ").concat(w)})]})}i(82500);let PetItem_filterBonuses=(e,t)=>e.filter(t);var expeditions_PetItem=e=>{let{petData:t,isSelected:i,onClick:n,data:s,weightMap:a,petScoreFn:o,defaultRank:x,borderActive:u,enabledBonusHighlight:m,fullPetData:g,showNameOnly:f,grayBackground:b,circleBorder:y,manualForce:v}=e;if(!1==!!s)return(0,l.jsx)("div",{});let{petId:j,location:I,img:w,name:C}=t,k=s.PetsCollection.find(e=>e.ID===j);if(!k)return null;let D=k.Rank,S=k.Level,T=Number(Number(null==s?void 0:s.PetDamageBonuses)*k.BaseDungeonDamage*(1+.05*D)*5).toExponential(2);o&&o(k);let B=(0,l.jsx)("ul",{style:{margin:"0 0 0 0"},children:PetItem_filterBonuses(k.BonusList,e=>e.ID<1e3).map((e,t)=>{var i;let n=h.Z.calcEquipBonus(k,e);return(0,l.jsxs)("li",{children:[null===(i=d.bO[e.ID])||void 0===i?void 0:i.label,": ",n.toExponential(2)]},t)})}),N=(0,l.jsx)("ul",{style:{margin:"0 0 0 0"},children:PetItem_filterBonuses(k.BonusList,e=>e.ID>=1e3&&e.ID<5e3).map((e,t)=>{var i;return(0,l.jsxs)("li",{children:[null===(i=d.bO[e.ID])||void 0===i?void 0:i.label,": ",Number(e.Power).toExponential(2)]},t)})}),P=[];if(m)for(let[e,t]of Object.entries(m))t&&g.BonusList.find(t=>t.ID===Number(e))&&P.push(e);let E={Niord:"65px",Cocorico:"63px",Apollo:"60px",Abby:"60px"},L="";return y&&(L=E[C]?E[C]:"75px"),(0,l.jsxs)(p.Z,{tooltip:(0,l.jsxs)("div",{className:"tooltip-custom ",children:[(0,l.jsxs)("h3",{style:{marginTop:"0"},children:[(0,l.jsxs)("div",{children:[C,"  (",T,")"]}),(0,l.jsxs)("div",{children:["(Level: ",S,") (Rank: ",k.Rank,")  (",I,")"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{margin:"6px 0 6px 0"},children:"Active Bonuses"}),B]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{margin:"6px 0 6px 0"},children:"Expedition Bonuses:"}),N]})]}),children:[!f&&(0,l.jsx)("div",{style:y?{borderRadius:"45px",border:"2px solid ".concat(i?"rgba(107, 218,105,0.7)":"rgba(218, 53, 34,0.7)"," "),borderLeft:v?"2px solid yellow":"2px solid ".concat(i?"rgba(107, 218,105,0.7)":"rgba(218, 53, 34,0.7)"," "),borderRight:v?"2px solid yellow":"2px solid ".concat(i?"rgba(107, 218,105,0.7)":"rgba(218, 53, 34,0.7)"," "),backgroundColor:"rgba(255,255,255,0.08)",overflow:"hidden",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"}:{},children:(0,l.jsx)("div",{onClick:n,style:{display:"flex"},className:"".concat(i?"":"unselected"),children:(0,l.jsxs)("div",{className:"item-image-container",style:{border:u?"black 1px solid":"",position:"relative",display:"flex",justifyContent:"center",maxHeight:L,maxWidth:L},children:[P.map((e,t)=>(0,l.jsx)("div",{style:{background:c.Z.bonusColorMap[e].color,position:"absolute",top:"0%",left:"".concat(100/P.length*t,"%"),height:"100%",width:"".concat(100/P.length,"%"),zIndex:1}},t)),(0,l.jsx)("div",{style:{zIndex:"2",objectFit:"contain",position:"relative",width:"70px",height:"70px",maxHeight:y?L:"70px",maxWidth:y?L:"70px"},children:(0,l.jsx)(r(),{style:{objectFit:"scale-down"},fill:!0,alt:"in game image of ".concat(C),src:w,unoptimized:!0})})]})},j)}),f&&(0,l.jsx)("div",{style:{width:"100%",backgroundColor:b?"lightgray":""},children:"(".concat(1===k.Type?"Ground":"Air",") ").concat(C)})]})},ItemSelection_copy=e=>{let{selectedItems:t,onItemSelected:i,data:n,weightMap:r,defaultRank:s,showLocked:a,manualEnabledPets:o,originalPets:c}=e,isSelected=e=>t.includes(e),handleItemClick=e=>{isSelected(e)?i(t.filter(t=>t!==e)):i([...t,e])},p=[...d._Q];p.splice(p.length-1);let h=p[p.length-1].petId;for(let e=h-1;e<n.PetsCollection.length;e++)if(n.PetsCollection[e].ID>h){let t={...d.ur[9999],petId:n.PetsCollection[e].ID};p.push(t)}return a||(p=p.filter(e=>t.includes(e.petId)&&0!==o[e.petId]||1===o[e.petId])),p=p.sort((e,t)=>{let i=e.location,l=t.location;if(i.includes("E")){if(!l.includes("E"))return 1;{let e=3===i.length?Number(i[1]):Number(i[1]+i[2]),t=3===l.length?Number(l[1]):Number(l[1]+l[2]);return e===t?i[2].localeCompare(l[2]):e-t}}if(!l.includes("E"))return Number(10*i[0]+i[2])-Number(10*l[0]+l[2]);if(!i.includes("E"))return -1;{let e=i[1],t=l[1];if(e!==t)return e-t;throw Error("uncaught case for sorting")}}),(0,l.jsx)("div",{style:{overflowY:"auto",height:"calc(100% - 56px)",backgroundColor:"rgba(255,255,255,0.05)",display:"flex",flexWrap:"wrap",alignContent:"flex-start",flex:"1"},children:p.map(e=>{let{petId:t}=e,i=isSelected(t),a=!1,d=c.find(e=>e.ID===t);return 1!==o[t]||d?d&&0===o[t]&&(a=!0):a=!0,(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"12px auto 0 auto",maxHeight:"84px"},children:(0,l.jsx)("div",{style:{margin:"0 3px"},children:(0,l.jsx)(expeditions_PetItem,{petData:e,data:n,isSelected:i,onClick:()=>handleItemClick(t),weightMap:r,defaultRank:s,circleBorder:!0,manualForce:a})})},t)})})},x=i(33187),u={src:"/_next/static/media/pin-line-icon.44c42cce.svg",height:121,width:123,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/trash-can-icon.c6bfd913.svg",height:123,width:108,blurWidth:0,blurHeight:0},g={src:"/_next/static/media/info.ac8a0f64.svg",height:123,width:123,blurWidth:0,blurHeight:0};i(30568);var f={src:"/_next/static/media/info_red_thick.019c5817.svg",height:123,width:123,blurWidth:0,blurHeight:0},b={src:"/_next/static/media/info_green_thick.bf10a18b.svg",height:123,width:123,blurWidth:0,blurHeight:0},y={src:"/_next/static/media/info_amber.47d23fc4.svg",height:123,width:123,blurWidth:0,blurHeight:0},v=i(11684),j=i(39768),I=i(82528),w=i(92189);i(83574),v.ZP.initialize([{trackingId:"G-GGLPK02VH8"}]);let C={},k=d._Q.map(e=>e.petId);function ScoreSection(e){let{data:t,group:i,totalScore:n,defaultRank:r}=e,{baseGroupScore:s,groupScoreMax:a,dmgCount:o,timeCount:d,synergyBonus:c,groupScore:p}=h.Z.calculateGroupScore(i,r),x=(5*p*t.PetDamageBonuses).toExponential(2);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Rank 1 Damage: ".concat(x)},"totalScore"),(0,l.jsxs)("li",{children:["Group Base: ",Number(s).toExponential(2)]},"baseGroupScore"),(0,l.jsxs)("li",{children:["Dmg Bonus: ",Number(1+o*h.Z.EXP_DMG_MOD).toFixed(2),"x"]},"damageBonus"),(0,l.jsxs)("li",{children:["Time Bonus: ",Number(1+d*h.Z.EXP_TIME_MOD).toFixed(2),"x"]},"timeBonus"),(0,l.jsxs)("li",{children:["Synergy: ",Number(c).toFixed(2),"x"]},"synergyBonus"),(0,l.jsxs)("li",{children:["PetDmgMod: ",Number(null==t?void 0:t.PetDamageBonuses).toExponential(2)]},"petDamageBonus")]})})}function Expeditions(){let[e,t]=o()("userData",I),[i,n]=(0,s.useState)(I),[a,D]=(0,s.useState)([]),[S,T]=o()("petWhiteList",[]);(0,s.useEffect)(()=>{let e=[],t=!1;for(let[i,l]of Object.entries(S))"rel"===l.placement?t=!0:e.push(l);t&&T(e),D(e)},[S,T]);let[B,N]=(0,s.useState)(!1),[P,E]=(0,s.useState)({}),[L,R]=o()("manualEnabledPets",{});(0,s.useEffect)(()=>{N(!0),E(L)},[L]);let[Z,W]=(0,s.useState)({}),[_,A]=o()("enabledBonusHighlight",{});(0,s.useEffect)(()=>{W(_)},[_]);let[G,M]=(0,s.useState)(!1),[H,z]=o()("showAllBonusTally",!1);(0,s.useEffect)(()=>{M(H)},[H]);let[O,F]=(0,s.useState)(1016),[q,U]=o()("leftOverBonus1",1016);(0,s.useEffect)(()=>{F(q)},[q]);let[X,Q]=(0,s.useState)(!1),[V,K]=o()("hideLocked",!1);(0,s.useEffect)(()=>{Q(V)},[V]);let[Y,J]=(0,s.useState)([]),[$,ee]=o()("activeCustomBonuses",[]);(0,s.useEffect)(()=>{J($)},[$]);let[et,ei]=(0,s.useState)(1),[el,en]=o()("groupRankCriteria",1);(0,s.useEffect)(()=>{ei(el)},[el]);let[er,es]=(0,s.useState)(1),[ea,eo]=o()("defaultRank",1);(0,s.useEffect)(()=>{es(ea)},[ea]);let[ed,ec]=(0,s.useState)(1),[ep,eh]=o()("comboSelector",1);(0,s.useEffect)(()=>{ec(ep)},[ep]);let[ex,eu]=(0,s.useState)(1),[em,eg]=o()("numTeams",1);(0,s.useEffect)(()=>{eu(em)},[em]);let ef={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},[eb,ey]=(0,s.useState)(0),[ev,ej]=(0,s.useState)(-1),[eI,ew]=(0,s.useState)([]),[eC,ek]=(0,s.useState)([]),[eD,eS]=(0,s.useState)([]),[eT,eB]=(0,s.useState)([]),[eN,eP]=(0,s.useState)(!1),[eE,eL]=(0,s.useState)(d.RE),[eR,eZ]=(0,s.useState)(k),[eW,e_]=(0,s.useState)(15),[eA,eG]=(0,s.useState)(!1);(0,s.useEffect)(()=>{eP(!1),console.log("handle groups called");let e=(null==i?void 0:i.PetsCollection)||[];if(0===e.length)return null;let t=e.reduce((e,t)=>(e[parseInt(t.ID,10)]=t,e),{}),l=eR.filter(e=>e<9999).map(e=>t[e]),n=eR.sort().join(","),r=C[n];r=h.Z.findBestGroups(l,er,et,-1===ex?i.ExpeditionLimit:ex,{tokenDamageBias:eW,activeBonuses:Y,setFailedFilters:eS,petWhiteList:a}),C={...C,[n]:r},ew(r)},[Y,er,et,ex,a,eW,eN,i,eR]);let eM=(0,s.useRef)(!1);(0,s.useEffect)(()=>{if(!1===eM.current&&B){eM.current=!0,e.PetDamageBonuses=c.Z.calcPOW(e.PetDamageBonusesBD);let t=1;for(let i=0;i<e.PetsSpecial.length;i++){let l=e.PetsSpecial[i];5007===l.BonusID&&1===l.Active&&(t+=l.BonusPower/100)}eh(t=c.Z.roundTwoDecimal(t)),-1===ex&&eg(e.ExpeditionLimit),C={},e.PetsCollection.sort((e,t)=>e.ID-t.ID);let i=[],l=[],r=e.PetsCollection.filter(e=>{let t=!!e.Locked;return t&&l.push(e),(!!t&&0!==P[e.ID]||1===P[e.ID])&&(i.push(e),!0)}).map(e=>e.ID);eZ(r),eB(l),ek(i),eP(!0),n(e)}},[P,B,e,!1,ex,eh,t,eg]),(0,s.useEffect)(()=>{eP(!0)},[er,ed,et,ex,eW,Y]);let eH="",ez=0,eO=0,eF={1009:0,1010:0,1011:0,1012:0,1013:0,1014:0,1015:0,1016:0},eq={},eU=[],eX={},eQ=[],eV={},eK={},eY=2*ex,eJ={},e$=0,e0=0;for(let e=0;e<a.length;e++){let t=a[e],i=t.pet;if("blacklist"!==t.placement){if(1===i.Type?e$++:e0++,"auto"===t.placement)eX[t.id]={...t};else if("team"===t.placement&&(eJ[t.parameters.team]||(eJ[t.parameters.team]=[]),eJ[t.parameters.team].push(i),eJ[t.parameters.team].length>4&&(eH="Group ".concat(t.parameters.team+1," has too many pets!")),0===eH.length)){let e=0,i=0;eJ[t.parameters.team].forEach(t=>{1===t.Type?i++:e++}),e>2?eH="Group ".concat(t.parameters.team," has too many air pets!"):e>2&&(eH="Group ".concat(t.parameters.team," has too many ground pets!"))}}}if(0===eH.length&&(e0>eY?eH="There are too many air pets!":e$>eY&&(eH="There are too many ground pets!")),eI.length>0&&eI.map((e,t)=>{eO+=5*h.Z.calculateGroupScore(e,0).groupScore*i.PetDamageBonuses,e.forEach(e=>{eV[e.ID]||(eV[e.ID]=e),e.ID in eX&&(eX[e.ID].finalGroup=t),e.BonusList.forEach(e=>{e.ID in eF&&eF[e.ID]++})});let l=h.Z.calculateBestHours(e,null,{clover:i.SoulGoldenClover,residueToken:i.CowShopExpeditionToken,data:i},ed)[ef[t]];ez+=l.tokenHR/l.hours}),eC)for(let e=0;e<eC.length;e++)eC[e].BonusList.forEach(t=>{eq[t.ID]||(eq[t.ID]={total:0,pets:[]}),eq[t.ID].total++,eq[t.ID].pets.push(eC[e])});for(let[e,t]of Object.entries(eF))(Y.find(t=>t.id===Number(e))||G)&&eU.push({text:"".concat(d.bO[e].label,": ").concat(t,"/").concat(eq[e]?eq[e].total:0," pets"),bonus:e});1===et&&eC.map(e=>{let t;try{t=a.find(t=>t.id===e.ID)}catch(e){console.log(e)}if(t){eK[e.ID]||(eK[e.ID]=e);return}e.ID>0&&eQ.push({id:e.ID,label:(0,d.pt)(e.ID).name})});let e5={17:!0,30:!0,27:!0,19:!0,18:!0,20:!0,26:!0,32:!0,25:!0,26:!0,24:!0,31:!0,18:!0,18:!0,18:!0,18:!0,18:!0},e2=[];eC.map((e,t)=>{if(e.BonusList.find(e=>e.ID===O)){let t={...e};eV[e.ID]&&(t.equipped=!0),eK[e.ID]&&(t.whitelisted=!0),e2.push(t)}});let handleItemSelected=e=>{eZ(e);let t=(null==i?void 0:i.PetsCollection)||[],l=[],n={};for(let i=0;i<e.length;i++)l.push(t[e[i]]),n[e[i]]=1;ek(l),R(e=>{let t={...e};for(let[i,l]of Object.entries(e))n[i]||(t[i]=0);for(let[e,i]of Object.entries(n))t[e]=1;for(let e=0;e<eR.length;e++)t[eR[e]]||(t[eR[e]]=0);return t}),e&&eP(!0)};e2=e2.sort((e,t)=>h.Z.calculatePetBaseDamage(t,er)-h.Z.calculatePetBaseDamage(e,er));let e1={};i.PetsCollection.forEach(e=>{e.BonusList.forEach(t=>{e1[t.ID]=e})});let e6=Object.values(d.bO).filter(e=>!!e&&!e5[e.id]&&!!e1[e.id]).sort((e,t)=>e.label.localeCompare(t.label)).map(e=>{if(e.id<5e3)return e.id>=1e3&&!e.label.includes("Expedition")&&(e.label="Expedition "+e.label),e});return(0,l.jsxs)("div",{style:{width:"calc(100% - 0px)",background:"black",display:"flex"},children:[(0,l.jsx)("div",{className:"importantText",style:{height:"calc(100vh - 52px)",border:"2px solid rgba(255,255,255,0.8)",margin:"6px 12px 6px 6px",padding:"0px 0 0px 0px",backgroundColor:"rgba(255,255,255, 0.05)",overflow:"hidden",borderRadius:"6px",width:"33%",minWidth:"310px",maxWidth:"590px"},children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"300px",height:"100%",backgroundColor:"rgba(255,255,255, 0.05)"},children:[(0,l.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255, 0.12)"},children:[(0,l.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",width:"100%",borderBottom:"0px solid rgba(255,255,255,0.8)",textAlign:"center"},children:"Best Teams"}),(0,l.jsxs)("div",{style:{display:"flex",fontSize:"20px",borderTop:"2px solid rgba(255,255,255,0.8)",borderBottom:"2px solid rgba(255,255,255,0.8)",textAlign:"center"},children:[(0,l.jsx)("div",{style:{width:"50%",borderRight:"2px solid rgba(255,255,255,0.8)"},children:"Total Damage: ".concat(eO.toExponential(3))}),(0,l.jsx)("div",{style:{width:"50%"},children:"Total tokens/hr: ".concat(c.Z.roundThreeDecimal(ez))})]})]}),(0,l.jsx)("div",{style:{overflow:"auto"},children:eI.reduce((e,t,n)=>{let s=h.Z.calculateGroupScore(t,er),a=h.Z.calculateBestHours(t,null,{clover:i.SoulGoldenClover,residueToken:i.CowShopExpeditionToken,data:i},ed)[ef[n]],o=(a.tokenHR/a.hours).toExponential(3),c=s.groupScore,x=(5*c*i.PetDamageBonuses).toExponential(2),f=(5*s.groupScoreMax*Number(null==i?void 0:i.PetDamageBonuses)).toExponential(2),b="",y="",v="";switch(et){case 1:v="Rank Dmg: ".concat(x),b="Game Dmg: ".concat(f),y="Token/hr: ".concat(o),h.Z.calculateBestHours(t,null,{clover:i.SoulGoldenClover,residueToken:i.CowShopExpeditionToken,data:i},ed);break;case 2:case 3:b="Damage: ".concat(f),y="Token/hr: ".concat(o),h.Z.calculateBestHours(t,null,{clover:i.SoulGoldenClover,residueToken:i.CowShopExpeditionToken,data:i},ed)}let j=Number(Number(null==i?void 0:i.PetDamageBonuses)*c*5).toExponential(3),I=(0,l.jsx)("div",{className:"groups-tooltip",children:(0,l.jsxs)("span",{className:"groups-tooltip-content",children:[(0,l.jsxs)("h3",{children:["Group Score (",j,")"]}),(0,l.jsx)(ScoreSection,{data:i,group:t,totalScore:j,defaultRank:er})]})}),w=(0,l.jsx)("div",{className:"grid-row",style:{backgroundColor:"rgba(255,255,255, 0.12)"},children:(0,l.jsxs)("div",{style:{display:"flex",width:"100%",borderBottom:"1px solid rgba(255,255,255,0.8)"},children:[(0,l.jsx)("div",{style:{borderRight:"1px solid rgba(255,255,255,0.8)",width:"33%",display:"flex",alignItems:"center",justifyContent:"center"},children:v}),(0,l.jsx)("div",{style:{width:"33%",borderRight:"1px solid rgba(255,255,255,0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)("div",{style:{margin:"0 12px"},children:b})}),(0,l.jsx)("div",{style:{width:"33%",display:"flex",alignItems:"center",justifyContent:"center",margin:"2px 0"},children:(0,l.jsx)("div",{style:{margin:"0 12px"},children:y})})]})},(1+n)*9001),C=(0,l.jsx)("div",{style:{display:"flex",padding:"6px 6px 3px 6px",backgroundColor:"rgba(255,255,255, 0.05)"},children:!!t&&t.map((e,t)=>{let{ID:s}=e,a=(0,d.pt)(s);return(0,l.jsxs)("div",{style:{position:"relative",display:"flex",width:"calc(25% - 3px)",height:"auto",alignItems:"center",justifyContent:"center"},children:[(0,l.jsx)(PetItemCoin_PetItem,{petData:a,fullPetData:e,data:i,isSelected:!0,onClick:()=>{},weightMap:eE,defaultRank:er,borderActive:e.BonusList.find(e=>e.ID===eb)||s===ev,enabledBonusHighlight:Z}),(0,l.jsx)("div",{className:"hover",style:{position:"absolute",top:"0",right:"0"},onClick:t=>{T(t=>{let i=[...t],l=i.find(t=>t.id===e.ID);return l?(l.placement="team",l.parameters={team:n},l.pet=e):i.push({label:a.name,id:a.petId,placement:"team",parameters:{team:n,damageBias:17},pet:e}),i}),eP(!0)},children:(0,l.jsx)("div",{style:{width:"20px",height:"20px",position:"relative",zIndex:"2"},children:(0,l.jsx)(r(),{fill:!0,src:u,alt:"push pin"})})}),(0,l.jsx)("div",{className:"hover",style:{position:"absolute",bottom:"0",right:"0"},onClick:t=>{T(t=>{let i=[...t],l=i.find(t=>t.id===e.ID);return l?(l.placement="blacklist",l.parameters={team:0},l.pet=e):i.push({label:a.name,id:a.petId,placement:"blacklist",parameters:{team:0,damageBias:17},pet:e}),i}),eP(!0)},children:(0,l.jsx)("div",{style:{width:"20px",height:"20px",position:"relative",zIndex:"2"},children:(0,l.jsx)(r(),{src:m,alt:"trash can",fill:!0})})})]},s)})}),k=(0,l.jsxs)("div",{style:{display:"flex",border:2===et&&s.tokenRewardCount>0?"1px black rgba(255,255,255,0.8)":"none",marginTop:0===n?"16px":"22px",marginLeft:"6px",marginRight:"6px",marginBottom:"12px",border:"1px solid rgba(255,255,255,0.8)"},children:[(0,l.jsx)("div",{style:{display:"flex",backgroundColor:"rgba(255,255,255, 0.12)",borderRight:"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsx)(p.Z,{tooltip:I,extraClasses:"maxHeight",children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 2px"},children:[(0,l.jsx)("div",{style:{fontSize:"20px"},children:n+1}),(0,l.jsx)("div",{style:{height:"18px",width:"18px",margin:"0 0 0 0",position:"relative"},children:(0,l.jsx)(r(),{fill:!0,src:g,alt:'letter "I" in a circle, shows more information on hover'})})]})})}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"1"},children:[w,C]})]},"group"+n);return e.push(k),e},[])})]})}),(0,l.jsxs)("div",{className:"importantText",style:{border:"2px solid rgba(255,255,255,0.8)",margin:"6px 12px 6px 6px",maxHeight:"calc(100vh - 46px)",backgroundColor:"rgba(255,255,255, 0.05)",overflow:"hidden",borderRadius:"6px",width:"33%",minWidth:"410px"},children:[(0,l.jsxs)("div",{style:{display:"flex",width:"100%",borderBottom:"2px solid  rgba(255,255,255,0.8)",justifyContent:"center",backgroundColor:"rgba(255,255,255, 0.12)"},children:[(0,l.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold"},children:"Configuration"}),(0,l.jsx)("div",{style:{height:"30px",alignSelf:"center",marginLeft:"12px"},children:(0,l.jsx)(p.Z,{opacity:"1",tooltip:(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{alt:"screenshot of game text explaining how pet ranks work",src:"/images/rank_explain.png",style:{height:"50px"}}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",fontSize:"24px",minWidth:"90px"},children:"Explanation/How To Use: "}),(0,l.jsx)("div",{style:{marginLeft:"12px",maxWidth:"724px"},children:"Whitelist (make sure they are on an expedition team) any important pets (such as those that have item rating, reincarnation exp, residue) or ones that you have equipped often. The expedition ranks will make those pets level faster and give bigger bonuses when actively equipped "})]})]}),children:(0,l.jsx)("div",{style:{height:"30px",width:"30px",position:"relative"},children:(0,l.jsx)(r(),{alt:'Letter "I" inside a circle, shows more information on hover',src:y,fill:!0})})})})]}),(0,l.jsxs)("div",{style:{padding:"6px 3px 1px 3px",overflow:"auto",maxHeight:"calc(100% - 45px)",overflowAnchor:"none"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"rgba(255,255,255, 0.05)",margin:"6px 6px",padding:"6px",border:"1px solid rgba(255,255,255,0.8)",overflowAnchor:"none"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{children:"Ignore Pets Rank"}),(0,l.jsx)("input",{"aria-label":"Force pets to rank 1",type:"checkbox",onChange:e=>{eo(e.target.checked?1:0)},checked:!!er,value:!!er})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"3px"},children:[(0,l.jsx)("div",{style:{marginRight:"12px"},children:"Golden Clover Level: ".concat(i.SoulGoldenClover)}),(0,l.jsx)("div",{children:"Token Bonuses: ".concat(c.Z.roundThreeDecimal(c.Z.roundTwoDecimal(i.ExpeditionTokenBonuses)*c.Z.roundTwoDecimal(i.ExpeditionResourceBonuses)*ed))})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(p.Z,{tooltip:(0,l.jsx)("div",{children:"Expedition reward from active pets special combo (0, 10%, 20%)"}),children:(0,l.jsx)("div",{style:{marginRight:"12px"},children:"Expedition Reward Combo"})}),(0,l.jsxs)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px"},"aria-label":"Specify desired combo bonus",onChange:e=>{eh(Number(e.target.value))},value:ed+"",children:[(0,l.jsx)("option",{value:"1",children:"1.0"}),(0,l.jsx)("option",{value:"1.1",children:"1.1"}),(0,l.jsx)("option",{value:"1.2",children:"1.2"})]})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{style:{marginRight:"12px"},children:"Number of teams:"}),(0,l.jsx)("input",{id:"prepFormInput",className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px",fontSize:"14px"},"aria-label":"Number of teams to calculate",type:"number",value:ex,onChange:e=>{try{let t=Number(e.target.value);if((t=Math.floor(t))<1||t>i.ExpeditionLimit)return;eg(e.target.value)}catch(e){console.log(e)}},placeholder:ex+"",min:"1",max:"".concat(i.ExpeditionLimit)})]}),1===et&&(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"2px"},children:[(0,l.jsx)("div",{children:"Show all bonus totals"}),(0,l.jsx)("input",{"aria-label":"Displays bonuses whose backgrounds can be coloured in",type:"checkbox",onChange:e=>{z(!!e.target.checked)}})]})]}),G&&(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"rgba(255,255,255, 0.05)",margin:"6px 6px",padding:"6px",border:"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsx)("div",{style:{margin:"6px 0 6px 0",display:"flex",flexDirection:"column"},children:eU.map((e,t)=>{if(t%2!=0&&t>0)return;let i=Number(e.bonus),n=t+1<eU.length?Number(eU[t+1].bonus):null,r=eD[e.bonus],s=n?eD[eU[t+1].bonus]:null;return r&&console.log("aaa"),Y.forEach(e=>{if("rel"!==e.placement)return null;e.id===i&&(i=(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{style:{marginRight:"12px"},children:"damage bias"}),(0,l.jsx)("input",{"aria-label":"Damage bias to control when a pet should be put in",type:"number",className:"prepNumber",value:e.relThresh,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;ee(t=>{let l=[...t];return l.find(t=>t.id===e.id).relThresh=i,l})}catch(e){console.log(e)}},placeholder:"1",min:"0",max:"100"})]})),e.id===n&&(n=(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{style:{marginRight:"12px"},children:"damage bias"}),(0,l.jsx)("input",{"aria-label":"Damage bias to control when a pet should be put in",type:"number",className:"prepNumber",value:e.relThresh,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;ee(t=>{let l=[...t];return l.find(t=>t.id===e.id).relThresh=i,l})}catch(e){console.log(e)}},placeholder:"1",min:"0",max:"100"})]}))}),(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsxs)("div",{style:{},onMouseEnter:t=>{ey(Number(e.bonus))},onMouseLeave:e=>{ey(-1)},children:[eU[t].text,(0,l.jsx)("div",{children:(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{children:"Enable highlight"}),(0,l.jsx)("input",{"aria-label":"Enables the highlight for this bonus",type:"checkbox",onChange:t=>{A({...Z,[e.bonus]:t.target.checked?1:0})},checked:Z[e.bonus]}),(0,l.jsx)("div",{style:{width:"24px",background:c.Z.bonusColorMap[e.bonus].color}})]})}),(0,l.jsx)("div",{className:"dmgBias",children:isNaN(i)&&(0,l.jsx)(p.Z,{tooltip:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"How aggressively to slot in these pets"}),(0,l.jsx)("div",{children:"Higher value means these pets need to be stronger to considered, lower means smaller threshold to slot them in"}),(0,l.jsx)("div",{children:"This is based on the best team at each step without these pets, vs with it."})]}),children:i})}),!!r&&(0,l.jsx)("div",{style:{color:"red"},children:r})]})}),t+1<eU.length&&(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsxs)("div",{style:{},onMouseEnter:e=>{ey(Number(eU[t+1].bonus))},onMouseLeave:e=>{ey(-1)},children:[eU[t+1].text,(0,l.jsx)("div",{children:(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{children:"Enable highlight"}),(0,l.jsx)("input",{"aria-label":"Enables highlighting of pets with this bonus",type:"checkbox",onChange:e=>{A({...Z,[eU[t+1].bonus]:e.target.checked?1:0})},checked:Z[eU[t+1].bonus]}),(0,l.jsx)("div",{style:{width:"24px",background:c.Z.bonusColorMap[eU[t+1].bonus].color}})]})}),(0,l.jsx)("div",{className:"dmgBias",children:isNaN(n)&&n}),!!s&&(0,l.jsx)("div",{style:{color:"red"},children:s})]})},eU[t+1].bonus)]},e.bonus)})})}),1===et&&(0,l.jsxs)("div",{style:{margin:"16px 6px",display:"flex",flexDirection:"column",flex:"1",border:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.05)"},children:[(0,l.jsxs)("div",{style:{},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{margin:"6px",textAlign:"center",fontSize:"20px"},children:"Pet Whitelist"}),(0,l.jsx)("h4",{style:{margin:"6px",textAlign:"center",fontSize:"20px",color:"red"},children:"".concat(eH)})]}),(0,l.jsxs)("div",{style:{margin:"6px",display:"flex",alignItems:"center",justifyContent:"space-between",height:"36px"},children:[(0,l.jsx)(j.Z,{data:{list:eQ},onSelect:e=>{T(t=>{let l=[...t],n=i.PetsCollection.find(t=>t.ID===e.id);return l.push({...e,placement:"auto",parameters:{team:0,damageBias:17},pet:n}),l}),eP(!0)}}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("div",{style:{marginRight:"6px"},children:"Team Presets"}),(0,l.jsx)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px"},"aria-label":"Select your in game teams to quickly add those pets to whitelist",onChange:e=>{let t=i.PetsLoadout[Number(e.target.value)];T(e=>{let l=[...e];for(let e=0;e<t.IDs.length;e++){let n=t.IDs[e];if(n>0){let e={id:n,label:d.ur[n].name,placement:"auto",parameters:{team:0,damageBias:17},pet:i.PetsCollection.find(e=>e.ID===n)};l.find(t=>t.id===e.id)||l.push(e)}}return l}),eP(!0)},value:"",children:[(0,l.jsx)("option",{value:"",children:"Select Team"},"initial one"),...i.PetsLoadout.map((e,t)=>{if(0!==e.Locked)return(0,l.jsx)("option",{value:t,children:e.Name},t)})]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("div",{style:{marginRight:"6px"},children:"Recommended Teams"}),(0,l.jsxs)("select",{"aria-label":"Select a default team preset",className:"importantText",style:{maxWidth:"144px",backgroundColor:"#171717",borderRadius:"4px",marginleft:"12px"},onChange:e=>{let t,l,n,r;eG(!0);let s={},a={},o={},c={};switch(e.target.value){case"Main Team":s=w.AI[i.AscensionCount].priorityList,a=w.AI[i.AscensionCount].priorityMap,c=w.AI[i.AscensionCount].petWhiteList?w.AI[i.AscensionCount].petWhiteList:{};break;case"Reinc. Team":s=w.yq[i.AscensionCount].priorityList,a=w.yq[i.AscensionCount].priorityMap,c=w.yq[i.AscensionCount].petWhiteList?w.yq[i.AscensionCount].petWhiteList:{};break;case"Gear Team":s=w.yu[i.AscensionCount].priorityList,a=w.yu[i.AscensionCount].priorityMap,c=w.yu[i.AscensionCount].petWhiteList?w.yu[i.AscensionCount].petWhiteList:{};break;case"Stat Team":s=w.dh[i.AscensionCount].priorityList,a=w.dh[i.AscensionCount].priorityMap,c=w.dh[i.AscensionCount].petWhiteList?w.dh[i.AscensionCount].petWhiteList:{};break;case"None":s=[],a={}}let p={};for(let[e,t]of Object.entries(c))unlockedPetsMap[e]?p[e]={...unlockedPetsMap[e],mode:t.mode}:p[e]={ID:e,name:d.ur[e].name,mode:t.mode};o=p,[t,l,n,r]=h.Z.findBestTeam(i,{manualEnabledPets:P,priorityList:s,priorityMap:a,petWhiteList:o});let x=t.concat(l);T(e=>{let t=[...e];for(let e=0;e<x.length;e++){let l=x[e].ID;if(l>0){let e={id:l,label:d.ur[l].name,placement:"auto",parameters:{team:0,damageBias:17},pet:i.PetsCollection.find(e=>e.ID===l)};t.find(t=>t.id===e.id)||t.push(e)}}return t}),eP(!0)},defaultValue:" ",children:[!eA&&(0,l.jsx)("option",{value:"None",children:"Select Preset"}),(0,l.jsx)("option",{value:"Main Team",children:"Main Team"}),(0,l.jsx)("option",{value:"Reinc. Team",children:"Reinc. Team"}),(0,l.jsx)("option",{value:"Gear Team",children:"Gear Team"})]})]})]})]})]}),(0,l.jsx)("div",{className:"importantText",style:{width:"100%",display:"flex",justifyContent:"center",fontWeight:"bold",color:e$>eY?"red":""},children:"Ground Pets (".concat(e$,"/").concat(eY,")")}),(0,l.jsxs)("div",{style:{display:"flex",margin:"0 0 0 0",borderTop:"1px solid rgba(255,255,255,0.8)",borderBottom:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.12)"},children:[(0,l.jsx)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:"Pet"}),(0,l.jsx)("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsx)(p.Z,{tooltip:(0,l.jsxs)("div",{style:{padding:"6px"},children:[(0,l.jsx)("div",{children:"Determines the order in which the pets are slotted in:"}),(0,l.jsx)("div",{children:"Blacklist: Omits this pet from any group"}),(0,l.jsx)("div",{children:"Group: Forces the pet to go into a certain group"}),(0,l.jsx)("div",{children:"Auto:  Tries to find optimal placement automatically"})]}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{children:"Placement"}),(0,l.jsx)("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:(0,l.jsx)(r(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:g,fill:!0})})]})})}),(0,l.jsx)("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(p.Z,{tooltip:(0,l.jsx)("div",{style:{padding:"6px"},children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"In Placement=Group, determines which group the pet is placed in"}),(0,l.jsx)("div",{children:"In Placement=Auto, tried to find the optimal placement automatically"})]})}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{children:"Parameters"}),(0,l.jsx)("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:(0,l.jsx)(r(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:g,fill:!0})})]})})})]}),(0,l.jsx)("div",{style:{margin:"0 0 0 0"},children:a.sort((e,t)=>e.label.localeCompare(t.label)).map((e,t)=>{if(2===e.pet.Type)return(0,l.jsx)(l.Fragment,{});let i=e.label,n="";e.id in eX&&(n+="(Group: ".concat(eX[e.id].finalGroup+1,")"));let s=!1,a=!1,o="";if("blacklist"!==e.placement){let t=eI.findIndex(t=>t.find(t=>t.ID===e.id));if(t>-1){let l=eI[t];if(t!==eI.length-1){let n=h.Z.calculateGroupScore(l,er).groupScore,r=[],a={};for(let d=0;d<2;d++){let d=!1;for(let i=0;i<eI[t+1].length;i++){let n=eI[t+1][i];if(n.Type===e.pet.Type&&!(n.ID in a)&&!d){a[n.ID]=!0,d=!0;let t=(r=[...l]).findIndex(t=>t.ID===e.pet.ID);r[t]=n}}h.Z.calculateGroupScore(r,er).groupScore>n&&(s=!0,o="".concat(i," might be too high, try ").concat("rel"===e.placement?"increase":"lowering"," the value to drop them to a lower team")),r=[]}}if(!s&&t>0){let l=h.Z.calculateGroupScore(eI[t-1],er).groupScore,n=[],r={};for(let s=0;s<2;s++){let s=!1;for(let i=0;i<eI[t-1].length;i++){let l=eI[t-1][i];if(l.Type===e.pet.Type&&!(l.ID in r)&&!s){r[l.ID]=!0,s=!0;let i=(n=[...eI[t-1]]).findIndex(e=>e.ID===l.ID);n[i]=e.pet}}h.Z.calculateGroupScore(n,er).groupScore>l&&(a=!0,o=" ".concat(i," might be too low, try ").concat("rel"===e.placement?"lowering":"increasing"," the value to bump them to a higher team")),n=[]}}}else o="Try lowering this value until ".concat(i," is put in"),a=!0}return(0,l.jsxs)("div",{style:{display:"flex",width:"100%",height:"25px",backgroundColor:t%2==0?"rgba(255,255,255, 0.07)":"rgba(255,255,255, 0.005)",color:e$>eY?"red":""},children:[(0,l.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},onMouseEnter:()=>{ej(e.id)},onMouseLeave:()=>{ej(-1)},children:[(0,l.jsxs)("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between",zIndex:"1"},children:[(0,l.jsx)("div",{style:{marginLeft:"6px"},children:i}),(0,l.jsx)("div",{style:{marginRight:"34px"},children:n})]}),(0,l.jsx)("div",{style:{height:"12px",width:"12px",margin:"0 12px 0 auto",zIndex:"2",position:"relative"},onClick:t=>{T(t=>[...t].filter(t=>t.id!==e.id)),eP(!0)},children:(0,l.jsx)(r(),{alt:"X (cross to remove)",src:x.Z,fill:!0})})]}),(0,l.jsx)("div",{style:{width:"25%",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsxs)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px"},"aria-label":"Select what kind of placement the pet will have",value:e.placement,onChange:t=>{console.log(t),T(i=>{let l=[...i];return l.find(t=>t.id===e.id).placement=t.target.value,l}),eP(!0)},children:[(0,l.jsx)("option",{value:"blacklist",children:"Blacklist"}),(0,l.jsx)("option",{value:"team",children:"Group"}),(0,l.jsx)("option",{value:"auto",children:"Auto"})]})}),(0,l.jsxs)("div",{disabled:"blacklist"===e.placement,style:{width:"25%",position:"relative",opacity:"blacklist"===e.placement?"0.4":"",display:"flex",justifyContent:"center",alignItems:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:["team"===e.placement&&(0,l.jsx)("div",{style:{marginLeft:a||s?"22px":""},children:(0,l.jsx)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px",width:"44px"},"aria-label":"Select what team the pet will be placed in",value:e.parameters.team,onChange:t=>{T(i=>{let l=[...i];return l.find(t=>t.id===e.id).parameters.team=Number(t.target.value),l}),eP(!0)},children:Array.apply(null,Array(Number(ex))).map((e,t)=>(0,l.jsx)("option",{value:t,children:t+1},t))})}),"rel"===e.placement&&(0,l.jsx)("div",{style:{marginLeft:a||s?"22px":""},children:(0,l.jsx)("input",{className:"importantText textMedium2","aria-label":"Damage bias to control when the pet should go in",style:{maxWidth:"36px",backgroundColor:"#1b1b1b",borderRadius:"4px",backgroundColor:t%2==0?"#252525":"#171717"},type:"number",value:e.parameters.damageBias,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;T(t=>{let l=[...t];return l.find(t=>t.id===e.id).parameters.damageBias=Number(i),l}),eP(!0)}catch(e){console.log(e)}},placeholder:e.parameters.damageBias+"",min:"0",max:"100"})}),("blacklist"===e.placement||"auto"===e.placement)&&(0,l.jsx)(l.Fragment,{children:"Unavailable"}),(a||s)&&(0,l.jsx)("div",{children:(0,l.jsx)(p.Z,{muiHeight:"20px",tooltip:(0,l.jsx)("div",{children:o}),style:{display:"flex",alignItems:"center",height:"20px"},children:(0,l.jsx)("div",{style:{height:"20px",width:"20px",marginLeft:"3px",marginTop:"2px",position:"relative"},children:(0,l.jsx)(r(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:a?b:f,fill:!0})})})})]})]},e.label)})}),(0,l.jsx)("div",{className:"importantText",style:{width:"100%",display:"flex",justifyContent:"center",fontWeight:"bold",borderTop:"1px solid rgba(255,255,255,0.8)",paddingTop:"6px",paddingBottom:"6px",color:e0>eY?"red":""},children:"Air Pets (".concat(e0,"/").concat(eY,")")}),(0,l.jsxs)("div",{style:{display:"flex",margin:"0 0 0 0",borderTop:"1px solid rgba(255,255,255,0.8)",borderBottom:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.12)"},children:[(0,l.jsx)("div",{style:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:"Pet"}),(0,l.jsx)("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsx)(p.Z,{tooltip:(0,l.jsxs)("div",{style:{padding:"6px"},children:[(0,l.jsx)("div",{children:"Determines the order in which the pets are slotted in:"}),(0,l.jsx)("div",{children:"Blacklist: Omits this pet from any group"}),(0,l.jsx)("div",{children:"Group: Forces the pet to go into a certain group"}),(0,l.jsx)("div",{children:"Auto:  Tries to find optimal placement automatically"})]}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{children:"Placement"}),(0,l.jsx)("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:(0,l.jsx)(r(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:g,fill:!0})})]})})}),(0,l.jsx)("div",{style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(p.Z,{tooltip:(0,l.jsx)("div",{style:{padding:"6px"},children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"In Placement=Group, determines which group the pet is placed in"}),(0,l.jsx)("div",{children:"In Placement=Auto, tried to find the optimal placement automatically"})]})}),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{children:"Parameters"}),(0,l.jsx)("div",{style:{height:"18px",width:"18px",position:"relative",marginLeft:"6px"},children:(0,l.jsx)(r(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:g,fill:!0})})]})})})]}),(0,l.jsx)("div",{style:{margin:"0 0 0 0"},children:a.sort((e,t)=>e.label.localeCompare(t.label)).map((e,t)=>{if(1===e.pet.Type)return(0,l.jsx)(l.Fragment,{});let i=e.label,n="";e.id in eX&&(n+="(Group: ".concat(eX[e.id].finalGroup+1,")"));let s=!1,a=!1,o="";if("blacklist"!==e.placement){let t=eI.findIndex(t=>t.find(t=>t.ID===e.id));if(t>-1){let l=eI[t];if(t!==eI.length-1){let n=h.Z.calculateGroupScore(l,er).groupScore,r=[],a={};for(let d=0;d<2;d++){let d=!1;for(let i=0;i<eI[t+1].length;i++){let n=eI[t+1][i];if(n.Type===e.pet.Type&&!(n.ID in a)&&!d){a[n.ID]=!0,d=!0;let t=(r=[...l]).findIndex(t=>t.ID===e.pet.ID);r[t]=n}}h.Z.calculateGroupScore(r,er).groupScore>n&&(s=!0,o="".concat(i," might be too high, try ").concat("rel"===e.placement?"increase":"lowering"," the value to drop them to a lower team")),r=[]}}if(!s&&t>0){let l=h.Z.calculateGroupScore(eI[t-1],er).groupScore,n=[],r={};for(let s=0;s<2;s++){let s=!1;for(let i=0;i<eI[t-1].length;i++){let l=eI[t-1][i];if(l.Type===e.pet.Type&&!(l.ID in r)&&!s){r[l.ID]=!0,s=!0;let i=(n=[...eI[t-1]]).findIndex(e=>e.ID===l.ID);n[i]=e.pet}}h.Z.calculateGroupScore(n,er).groupScore>l&&(a=!0,o=" ".concat(i," might be too low, try ").concat("rel"===e.placement?"lowering":"increasing"," the value to bump them to a higher team")),n=[]}}}else o="Try lowering this value until ".concat(i," is put in"),a=!0}return(0,l.jsxs)("div",{style:{display:"flex",width:"100%",height:"25px",backgroundColor:t%2==0?"rgba(255,255,255, 0.07)":"rgba(255,255,255, 0.005)",color:e0>eY?"red":""},children:[(0,l.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},onMouseEnter:()=>{ej(e.id)},onMouseLeave:()=>{ej(-1)},children:[(0,l.jsxs)("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between",zIndex:"1"},children:[(0,l.jsx)("div",{style:{marginLeft:"6px"},children:i}),(0,l.jsx)("div",{style:{marginRight:"34px"},children:n})]}),(0,l.jsx)("div",{style:{height:"12px",width:"12px",margin:"0 12px 0 auto",zIndex:"2",position:"relative"},onClick:t=>{T(t=>[...t].filter(t=>t.id!==e.id)),eP(!0)},children:(0,l.jsx)(r(),{alt:"X (cross to remove)",src:x.Z,fill:!0})})]}),(0,l.jsx)("div",{style:{width:"25%",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsxs)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px"},"aria-label":"Select what kind of placement the pet will have",value:e.placement,onChange:t=>{console.log(t),T(i=>{let l=[...i];return l.find(t=>t.id===e.id).placement=t.target.value,l}),eP(!0)},children:[(0,l.jsx)("option",{value:"blacklist",children:"Blacklist"}),(0,l.jsx)("option",{value:"team",children:"Group"}),(0,l.jsx)("option",{value:"auto",children:"Auto"})]})}),(0,l.jsxs)("div",{disabled:"blacklist"===e.placement,style:{width:"25%",position:"relative",opacity:"blacklist"===e.placement?"0.4":"",display:"flex",justifyContent:"center",alignItems:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:["team"===e.placement&&(0,l.jsx)("div",{style:{marginLeft:a||s?"22px":""},children:(0,l.jsx)("select",{className:"importantText",style:{maxWidth:"144px",backgroundColor:t%2==0?"#252525":"#171717",borderRadius:"4px",width:"44px"},"aria-label":"Select what team the pet will be placed in",value:e.parameters.team,onChange:t=>{T(i=>{let l=[...i];return l.find(t=>t.id===e.id).parameters.team=Number(t.target.value),l}),eP(!0)},children:Array.apply(null,Array(Number(ex))).map((e,t)=>(0,l.jsx)("option",{value:t,children:t+1},t))})}),"rel"===e.placement&&(0,l.jsx)("div",{style:{marginLeft:a||s?"22px":""},children:(0,l.jsx)("input",{className:"importantText textMedium2","aria-label":"Damage bias to control when the pet should go in",style:{maxWidth:"36px",backgroundColor:"#1b1b1b",borderRadius:"4px",backgroundColor:t%2==0?"#252525":"#171717"},type:"number",value:e.parameters.damageBias,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<0||i>100)return;T(t=>{let l=[...t];return l.find(t=>t.id===e.id).parameters.damageBias=Number(i),l}),eP(!0)}catch(e){console.log(e)}},placeholder:e.parameters.damageBias+"",min:"0",max:"100"})}),("blacklist"===e.placement||"auto"===e.placement)&&(0,l.jsx)(l.Fragment,{children:"Unavailable"}),(a||s)&&(0,l.jsx)("div",{children:(0,l.jsx)(p.Z,{muiHeight:"20px",tooltip:(0,l.jsx)("div",{children:o}),style:{display:"flex",alignItems:"center",height:"20px"},children:(0,l.jsx)("div",{style:{height:"20px",width:"20px",marginLeft:"3px",marginTop:"2px",position:"relative"},children:(0,l.jsx)(r(),{alt:"on hover I in a cirlce icon, shows more information on hover",src:a?b:f,fill:!0})})})})]})]},e.label)})})]}),1===et&&(0,l.jsxs)("div",{style:{margin:"12px 6px",display:"flex",flexDirection:"column",flex:"1",border:"1px solid rgba(255,255,255,0.8)"},children:[eD.generic&&(0,l.jsx)("div",{style:{fontWeight:"bold",color:"red",display:"flex",width:"100%",justifyContent:"center"},children:eD.generic}),(0,l.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column"},children:[(0,l.jsx)("div",{style:{display:"flex",margin:"6px",alignSelf:"center"},children:(0,l.jsxs)("h4",{style:{margin:"0",fontSize:"20px",textAlign:"center",display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{children:"Pet Bonus Finder"}),(0,l.jsx)("div",{style:{fontSize:"16px",fontWeight:"normal",color:e$>=eY?"red":"",marginLeft:"6px"},children:"(".concat(e$," / ").concat(eY," Ground)")}),(0,l.jsx)("div",{style:{marginLeft:"6px",fontSize:"16px",fontWeight:"normal"},children:"&"}),(0,l.jsx)("div",{style:{fontSize:"16px",fontWeight:"normal",color:e0>=eY?"red":"",marginLeft:"6px"},children:"(".concat(e0," / ").concat(eY," Air) ")})]})}),(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",margin:"6px 0 0 0"},children:(0,l.jsx)("div",{style:{marginLeft:"6px"},children:(0,l.jsx)(j.Z,{updateBox:!0,placeholder:"Enter a bonus",data:{list:e6},onSelect:e=>{console.log(e),U(Number(e.id))}})})}),(0,l.jsxs)("div",{style:{display:"flex",borderTop:"1px solid rgba(255,255,255,0.8)",borderBottom:"1px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255, 0.14)",margin:"6px 0 0 0"},children:[(0,l.jsx)("div",{style:{width:"70%",display:"flex",justifyContent:"center",alignItems:"center",borderRight:"1px solid rgba(255,255,255,0.8)"},children:"".concat(d.bO[O].label," Pets")}),(0,l.jsx)("div",{style:{width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(p.Z,{tooltip:(0,l.jsx)("div",{style:{padding:"6px"},children:(0,l.jsxs)("div",{children:["The ","pet's"," damage "]})}),children:(0,l.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,l.jsx)("div",{children:"Damage"})})})})]}),(0,l.jsx)("div",{style:{margin:"0 0px 0 0px"},children:e2.map((e,t)=>{let n=d._Q.find(t=>t.petId===e.ID);return n||(n={img:"/images/pets/missing.png",location:"??-??",name:"Unknown",petId:e.ID}),(0,l.jsxs)("div",{style:{display:"flex",width:"100%",backgroundColor:t%2==0?"rgba(255,255,255, 0.09)":"rgba(255,255,255, 0.03)"},children:[(0,l.jsxs)("div",{style:{width:"70%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,l.jsx)("div",{style:{width:"100%",display:"flex",flex:"1",justifyContent:"space-between"},children:(0,l.jsx)("div",{style:{width:"100%",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)",paddingLeft:"6px"},children:(0,l.jsx)(PetItemCoin_PetItem,{showNameOnly:!0,grayBackground:e.equipped,petData:n,fullPetData:e,data:i,onClick:()=>{},weightMap:eE,defaultRank:er},e.ID)})}),!e.whitelisted&&(0,l.jsx)("div",{style:{height:"calc(100% - 1px)",width:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)"},children:(0,l.jsx)("div",{style:{position:"relative",width:"20px",height:"20px"},onClick:t=>{T(t=>{let i=[...t];if(i.find(t=>t.id===e.ID))throw Error("should not have an existing pet in this list!");return i.push({label:d.ur[e.ID].name,pet:e,id:e.ID,placement:"auto",parameters:{team:0,damageBias:17}}),i}),eP(!0)},children:(0,l.jsx)(r(),{fill:!0,src:u,alt:"push pin"})})})]}),(0,l.jsx)("div",{style:{width:"30%",display:"flex",alignItems:"center",justifyContent:"center",borderTop:0===t?"":"1px solid rgba(255,255,255,0.8)",borderLeft:"1px solid rgba(255,255,255,0.8)"},children:c.Z.roundTwoDecimal(h.Z.calculatePetBaseDamage(e,er))})]},e.ID)})})]})]})]})]}),(0,l.jsx)("div",{style:{display:"flex",flex:"1"},children:(0,l.jsxs)("div",{className:"importantText",style:{border:"2px solid rgba(255,255,255,0.8)",borderRadius:"6px",marginTop:"6px",marginRight:"6px",maxHeight:"calc(100vh - 50px)",backgroundColor:"rgba(255,255,255, 0.05)",minWidth:"200px",overflow:"hidden"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"0"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",borderBottom:"2px solid rgba(255,255,255,0.8)",backgroundColor:"rgba(255,255,255,0.12)",justifyContent:"center"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",fontSize:"30px"},children:"Pets"}),(0,l.jsx)("div",{style:{fontWeight:"bold",alignSelf:"end",marginLeft:"6px",marginBottom:"5px",fontSize:"16px"},children:"(click to enable/disable)"})]}),(0,l.jsx)("div",{style:{display:"flex"},children:(0,l.jsxs)("div",{className:"hover",style:{width:"100%",borderBottom:"2px solid rgba(255,255,255,0.8)",display:"flex",backgroundColor:"rgba(255,255,255,0.12)"},children:[(0,l.jsx)("div",{style:{width:"25%",borderRight:"2px solid rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{if(v.ZP.event({category:"expedition_pets",action:"enabled_all",label:"expedition"}),i.PetsCollection){let e=[];for(let t=1;t<i.PetsCollection.length;t++)e.push(i.PetsCollection[t].ID);handleItemSelected(e)}},children:"Enable All"}),(0,l.jsx)("div",{className:"hover",style:{width:"25%",borderRight:"2px solid rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{v.ZP.event({category:"expedition_pets",action:"disabled_all",label:"expedition"}),i.PetsCollection&&handleItemSelected([])},children:"Disable All"}),(0,l.jsx)("div",{className:"hover",style:{width:"25%",borderRight:"2px solid rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{if(v.ZP.event({category:"expedition_pets",action:"reset_all",label:"expedition"}),i.PetsCollection){let e=[];for(let t=0;t<eT.length;t++)e.push(eT[t].ID);handleItemSelected(e),R({})}},children:"Reset"}),(0,l.jsx)("div",{className:"hover",style:{width:"25%",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1px"},onClick:e=>{v.ZP.event({category:"expedition_pets",action:"toggle_hide_locked",label:X?"show_locked":"hide_locked",value:X}),K(!X)},children:X?"Show Locked":"Hide Locked"})]})})]}),(0,l.jsx)(ItemSelection_copy,{weightMap:eE,data:i,selectedItems:eR,onItemSelected:handleItemSelected,defaultRank:er,showLocked:!X,manualEnabledPets:P,originalPets:eT})]})})]})}},68180:function(){},45179:function(){},82500:function(){},30568:function(e,t){"use strict";t.Z={src:"/_next/static/media/info_red.c39e9a84.svg",height:123,width:123,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[413,201,385,689,528,930,198,971,472,744],function(){return e(e.s=5993)}),_N_E=e.O()}]);