"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{93992:function(t,e,n){var l={roundTwoDecimal:function(t){return Math.round((t+Number.EPSILON)*100)/100},numberWithCommas:function(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,",")},roundThreeDecimal:function(t){return Math.round((t+Number.EPSILON)*1e3)/1e3},roundFiveDecimal:function(t){return Math.round((t+Number.EPSILON)*1e5)/1e5},roundInt:function(t){return Math.round((t+Number.EPSILON)*1)/1},calculateLogarithm:function(t,e){return Math.log(e)/Math.log(t)},calcPOW:function(t){return t.mantissa*Math.pow(10,t.exponent)},secondsToStringWithS:function(t){let e="",n=0,l=0,c=0,m=0;return(n=Math.floor(t/86400),l=Math.floor(t%86400/3600),c=Math.floor(t%3600/60),m=this.roundInt(t%86400%60),n==Number.POSITIVE_INFINITY||n==Number.NEGATIVE_INFINITY)?""+n:(60===m&&(m=0,c++),60===c&&(c=0,l++),24===l&&(l=0,n++),n>0&&(e+="".concat(n<10?"0"+n:n,"d:")),l>0&&(e+="".concat(l<10?"0"+l:l,"h:")),c>0&&(e+="".concat(c<10?"0"+c:c,"m:")),m>0?e+="".concat(m<10?"0"+m:m,"s"):e+="0s",e)},secondsToString:function(t){let e="",n=0,l=0,c=0;return(n=Math.floor(t/86400),l=Math.floor(t%86400/3600),60===(c=this.roundInt(t%3600/60))&&(c=0,l++),24===l&&(l=0,n++),n==Number.POSITIVE_INFINITY||n==Number.NEGATIVE_INFINITY)?""+n:(n>0&&(e+="".concat(n<10?"0"+n:n,"d:"),0===l&&(e+="00h")),(l>0||0===l&&0===n)&&(e+="".concat(l<10?"0"+l:l,"h")),0===n&&(e+=":",c>0?e+="".concat(c<10?"0"+c:c,"m"):e+="0s"),e)},bonusColorMap:{1009:{color:"cyan"},1010:{color:"maroon"},1011:{color:"purple"},1012:{color:"yellow"},1013:{color:"red"},1014:{color:"blue"},1015:{color:"gray"},1016:{color:"green"}}},c=n(82405),m=n.n(c),p=function(){for(var t=[],e=-323;e<=308;e++)t.push(Number("1e"+e));return function(e){return t[e+323]}}(),r=function(t){return t instanceof h?t:new h(t)},i=function(t,e){return(new h).fromMantissaExponent(t,e)},o=function(t,e){return(new h).fromMantissaExponent_noNormalize(t,e)};function u(t,e,n,l){var c=e.mul(n.pow(l));return h.floor(t.div(c).mul(n.sub(1)).add(1).log10()/n.log10())}function s(t,e,n,l){return e.mul(n.pow(l)).mul(h.sub(1,n.pow(t))).div(h.sub(1,n))}var h=function(){function a(t){this.mantissa=NaN,this.exponent=NaN,void 0===t?(this.m=0,this.e=0):t instanceof a?this.fromDecimal(t):"number"==typeof t?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(a.prototype,"m",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"e",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"s",{get:function(){return this.sign()},set:function(t){if(0===t)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),a.fromMantissaExponent=function(t,e){return(new a).fromMantissaExponent(t,e)},a.fromMantissaExponent_noNormalize=function(t,e){return(new a).fromMantissaExponent_noNormalize(t,e)},a.fromDecimal=function(t){return(new a).fromDecimal(t)},a.fromNumber=function(t){return(new a).fromNumber(t)},a.fromString=function(t){return(new a).fromString(t)},a.fromValue=function(t){return(new a).fromValue(t)},a.fromValue_noAlloc=function(t){return t instanceof a?t:new a(t)},a.abs=function(t){return r(t).abs()},a.neg=function(t){return r(t).neg()},a.negate=function(t){return r(t).neg()},a.negated=function(t){return r(t).neg()},a.sign=function(t){return r(t).sign()},a.sgn=function(t){return r(t).sign()},a.round=function(t){return r(t).round()},a.floor=function(t){return r(t).floor()},a.ceil=function(t){return r(t).ceil()},a.trunc=function(t){return r(t).trunc()},a.add=function(t,e){return r(t).add(e)},a.plus=function(t,e){return r(t).add(e)},a.sub=function(t,e){return r(t).sub(e)},a.subtract=function(t,e){return r(t).sub(e)},a.minus=function(t,e){return r(t).sub(e)},a.mul=function(t,e){return r(t).mul(e)},a.multiply=function(t,e){return r(t).mul(e)},a.times=function(t,e){return r(t).mul(e)},a.div=function(t,e){return r(t).div(e)},a.divide=function(t,e){return r(t).div(e)},a.recip=function(t){return r(t).recip()},a.reciprocal=function(t){return r(t).recip()},a.reciprocate=function(t){return r(t).reciprocate()},a.cmp=function(t,e){return r(t).cmp(e)},a.compare=function(t,e){return r(t).cmp(e)},a.eq=function(t,e){return r(t).eq(e)},a.equals=function(t,e){return r(t).eq(e)},a.neq=function(t,e){return r(t).neq(e)},a.notEquals=function(t,e){return r(t).notEquals(e)},a.lt=function(t,e){return r(t).lt(e)},a.lte=function(t,e){return r(t).lte(e)},a.gt=function(t,e){return r(t).gt(e)},a.gte=function(t,e){return r(t).gte(e)},a.max=function(t,e){return r(t).max(e)},a.min=function(t,e){return r(t).min(e)},a.clamp=function(t,e,n){return r(t).clamp(e,n)},a.clampMin=function(t,e){return r(t).clampMin(e)},a.clampMax=function(t,e){return r(t).clampMax(e)},a.cmp_tolerance=function(t,e,n){return r(t).cmp_tolerance(e,n)},a.compare_tolerance=function(t,e,n){return r(t).cmp_tolerance(e,n)},a.eq_tolerance=function(t,e,n){return r(t).eq_tolerance(e,n)},a.equals_tolerance=function(t,e,n){return r(t).eq_tolerance(e,n)},a.neq_tolerance=function(t,e,n){return r(t).neq_tolerance(e,n)},a.notEquals_tolerance=function(t,e,n){return r(t).notEquals_tolerance(e,n)},a.lt_tolerance=function(t,e,n){return r(t).lt_tolerance(e,n)},a.lte_tolerance=function(t,e,n){return r(t).lte_tolerance(e,n)},a.gt_tolerance=function(t,e,n){return r(t).gt_tolerance(e,n)},a.gte_tolerance=function(t,e,n){return r(t).gte_tolerance(e,n)},a.log10=function(t){return r(t).log10()},a.absLog10=function(t){return r(t).absLog10()},a.pLog10=function(t){return r(t).pLog10()},a.log=function(t,e){return r(t).log(e)},a.log2=function(t){return r(t).log2()},a.ln=function(t){return r(t).ln()},a.logarithm=function(t,e){return r(t).logarithm(e)},a.pow10=function(t){return Number.isInteger(t)?o(1,t):i(Math.pow(10,t%1),Math.trunc(t))},a.pow=function(t,e){return"number"==typeof t&&10===t&&"number"==typeof e&&Number.isInteger(e)?o(1,e):r(t).pow(e)},a.exp=function(t){return r(t).exp()},a.sqr=function(t){return r(t).sqr()},a.sqrt=function(t){return r(t).sqrt()},a.cube=function(t){return r(t).cube()},a.cbrt=function(t){return r(t).cbrt()},a.dp=function(t){return r(t).dp()},a.decimalPlaces=function(t){return r(t).dp()},a.affordGeometricSeries=function(t,e,n,l){return u(r(t),r(e),r(n),l)},a.sumGeometricSeries=function(t,e,n,l){return s(t,r(e),r(n),l)},a.affordArithmeticSeries=function(t,e,n,l){var c,m,p,h,f,d;return c=r(t),m=r(e),p=r(n),h=r(l),d=(f=m.add(h.mul(p)).sub(p.div(2))).pow(2),f.neg().add(d.add(p.mul(c).mul(2)).sqrt()).div(p).floor()},a.sumArithmeticSeries=function(t,e,n,l){var c,m,p,h,f;return c=r(t),m=r(e),p=r(n),h=r(l),f=m.add(h.mul(p)),c.div(2).mul(f.mul(2).plus(c.sub(1).mul(p)))},a.efficiencyOfPurchase=function(t,e,n){var l,c,m;return l=r(t),c=r(e),m=r(n),l.div(c).add(l.div(m))},a.randomDecimalForTesting=function(t){if(20*Math.random()<1)return o(0,0);var e=10*Math.random();return 10*Math.random()<1&&(e=Math.round(e)),i(e*=Math.sign(2*Math.random()-1),Math.floor(Math.random()*t*2)-t)},a.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(0===this.m)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=-324===t?10*this.m/1e-323:this.m/p(t),this.e+=t,this},a.prototype.fromMantissaExponent=function(t,e){return isFinite(t)&&isFinite(e)?(this.m=t,this.e=e,this.normalize()):(t=Number.NaN,e=Number.NaN),this},a.prototype.fromMantissaExponent_noNormalize=function(t,e){return this.m=t,this.e=e,this},a.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},a.prototype.fromNumber=function(t){return isNaN(t)?(this.m=Number.NaN,this.e=Number.NaN):t===Number.POSITIVE_INFINITY?(this.m=1,this.e=9e15):t===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=9e15):0===t?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=-324===this.e?10*t/1e-323:t/p(this.e),this.normalize()),this},a.prototype.fromString=function(t){if(-1!==t.indexOf("e")){var e=t.split("e");this.m=parseFloat(e[0]),this.e=parseFloat(e[1]),this.normalize()}else if("NaN"===t)this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(t)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+t);return this},a.prototype.fromValue=function(t){return t instanceof a?this.fromDecimal(t):"number"==typeof t?this.fromNumber(t):"string"==typeof t?this.fromString(t):(this.m=0,this.e=0,this)},a.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(-324===this.e)return this.m>0?5e-324:-.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005;var t=this.m*p(this.e);if(!isFinite(t)||this.e<0)return t;var e=Math.round(t);return 1e-10>Math.abs(e-t)?e:t},a.prototype.mantissaWithDecimalPlaces=function(t){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(0===this.m)return 0;var e=t+1,n=Math.ceil(Math.log10(Math.abs(this.m)));return parseFloat((Math.round(this.m*Math.pow(10,e-n))*Math.pow(10,n-e)).toFixed(Math.max(e-n,0)))},a.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=9e15?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||0===this.m?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},a.prototype.toExponential=function(t){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=9e15)return this.m>0?"Infinity":"-Infinity";if(this.e<=-9e15||0===this.m)return"0"+(t>0?m()(".",t+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(t);isFinite(t)||(t=17);var e=t+1,n=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,e-n))*Math.pow(10,n-e)).toFixed(Math.max(e-n,0))+"e"+(this.e>=0?"+":"")+this.e},a.prototype.toFixed=function(t){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=9e15?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||0===this.m?"0"+(t>0?m()(".",t+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(t>0?m()(".",t+1,"0"):""):this.toNumber().toFixed(t)},a.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},a.prototype.valueOf=function(){return this.toString()},a.prototype.toJSON=function(){return this.toString()},a.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},a.prototype.abs=function(){return o(Math.abs(this.m),this.e)},a.prototype.neg=function(){return o(-this.m,this.e)},a.prototype.negate=function(){return this.neg()},a.prototype.negated=function(){return this.neg()},a.prototype.sign=function(){return Math.sign(this.m)},a.prototype.sgn=function(){return this.sign()},a.prototype.round=function(){return this.e<-1?new a(0):this.e<17?new a(Math.round(this.toNumber())):this},a.prototype.floor=function(){return this.e<-1?new a(Math.sign(this.m)>=0?0:-1):this.e<17?new a(Math.floor(this.toNumber())):this},a.prototype.ceil=function(){return this.e<-1?new a(Math.sign(this.m)>0?1:0):this.e<17?new a(Math.ceil(this.toNumber())):this},a.prototype.trunc=function(){return this.e<0?new a(0):this.e<17?new a(Math.trunc(this.toNumber())):this},a.prototype.add=function(t){var e,n,l=r(t);return 0===this.m?l:0===l.m?this:(this.e>=l.e?(e=this,n=l):(e=l,n=this),e.e-n.e>17)?e:i(Math.round(1e14*e.m+1e14*n.m*p(n.e-e.e)),e.e-14)},a.prototype.plus=function(t){return this.add(t)},a.prototype.sub=function(t){return this.add(r(t).neg())},a.prototype.subtract=function(t){return this.sub(t)},a.prototype.minus=function(t){return this.sub(t)},a.prototype.mul=function(t){if("number"==typeof t)return t<1e307&&t>-1e307?i(this.m*t,this.e):i(1e-307*this.m*t,this.e+307);var e="string"==typeof t?new a(t):t;return i(this.m*e.m,this.e+e.e)},a.prototype.multiply=function(t){return this.mul(t)},a.prototype.times=function(t){return this.mul(t)},a.prototype.div=function(t){return this.mul(r(t).recip())},a.prototype.divide=function(t){return this.div(t)},a.prototype.divideBy=function(t){return this.div(t)},a.prototype.dividedBy=function(t){return this.div(t)},a.prototype.recip=function(){return i(1/this.m,-this.e)},a.prototype.reciprocal=function(){return this.recip()},a.prototype.reciprocate=function(){return this.recip()},a.prototype.cmp=function(t){var e=r(t);if(0===this.m){if(0===e.m)return 0;if(e.m<0)return 1;if(e.m>0)return -1}if(0===e.m){if(this.m<0)return -1;if(this.m>0)return 1}if(this.m>0)return e.m<0||this.e>e.e?1:this.e<e.e?-1:this.m>e.m?1:this.m<e.m?-1:0;if(this.m<0)return e.m>0||this.e>e.e?-1:this.e<e.e||this.m>e.m?1:this.m<e.m?-1:0;throw Error("Unreachable code")},a.prototype.compare=function(t){return this.cmp(t)},a.prototype.eq=function(t){var e=r(t);return this.e===e.e&&this.m===e.m},a.prototype.equals=function(t){return this.eq(t)},a.prototype.neq=function(t){return!this.eq(t)},a.prototype.notEquals=function(t){return this.neq(t)},a.prototype.lt=function(t){var e=r(t);return 0===this.m?e.m>0:0===e.m?this.m<=0:this.e===e.e?this.m<e.m:this.m>0?e.m>0&&this.e<e.e:e.m>0||this.e>e.e},a.prototype.lte=function(t){return!this.gt(t)},a.prototype.gt=function(t){var e=r(t);return 0===this.m?e.m<0:0===e.m?this.m>0:this.e===e.e?this.m>e.m:this.m>0?e.m<0||this.e>e.e:e.m<0&&this.e<e.e},a.prototype.gte=function(t){return!this.lt(t)},a.prototype.max=function(t){var e=r(t);return this.lt(e)?e:this},a.prototype.min=function(t){var e=r(t);return this.gt(e)?e:this},a.prototype.clamp=function(t,e){return this.max(t).min(e)},a.prototype.clampMin=function(t){return this.max(t)},a.prototype.clampMax=function(t){return this.min(t)},a.prototype.cmp_tolerance=function(t,e){var n=r(t);return this.eq_tolerance(n,e)?0:this.cmp(n)},a.prototype.compare_tolerance=function(t,e){return this.cmp_tolerance(t,e)},a.prototype.eq_tolerance=function(t,e){var n=r(t);return a.lte(this.sub(n).abs(),a.max(this.abs(),n.abs()).mul(e))},a.prototype.equals_tolerance=function(t,e){return this.eq_tolerance(t,e)},a.prototype.neq_tolerance=function(t,e){return!this.eq_tolerance(t,e)},a.prototype.notEquals_tolerance=function(t,e){return this.neq_tolerance(t,e)},a.prototype.lt_tolerance=function(t,e){var n=r(t);return!this.eq_tolerance(n,e)&&this.lt(n)},a.prototype.lte_tolerance=function(t,e){var n=r(t);return this.eq_tolerance(n,e)||this.lt(n)},a.prototype.gt_tolerance=function(t,e){var n=r(t);return!this.eq_tolerance(n,e)&&this.gt(n)},a.prototype.gte_tolerance=function(t,e){var n=r(t);return this.eq_tolerance(n,e)||this.gt(n)},a.prototype.log10=function(){return this.e+Math.log10(this.m)},a.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},a.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},a.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},a.prototype.log2=function(){return 3.321928094887362*this.log10()},a.prototype.ln=function(){return 2.302585092994045*this.log10()},a.prototype.logarithm=function(t){return this.log(t)},a.prototype.pow=function(t){var e,n=t instanceof a?t.toNumber():t,l=this.e*n;if(Number.isSafeInteger(l)&&isFinite(e=Math.pow(this.m,n))&&0!==e)return i(e,l);var c=Math.trunc(l),m=l-c;if(isFinite(e=Math.pow(10,n*Math.log10(this.m)+m))&&0!==e)return i(e,c);var p=a.pow10(n*this.absLog10());return -1===this.sign()?1===Math.abs(n%2)?p.neg():0===Math.abs(n%2)?p:new a(Number.NaN):p},a.prototype.pow_base=function(t){return r(t).pow(this)},a.prototype.factorial=function(){var t=this.toNumber()+1;return a.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},a.prototype.exp=function(){var t=this.toNumber();return -706<t&&t<709?a.fromNumber(Math.exp(t)):a.pow(Math.E,t)},a.prototype.sqr=function(){return i(Math.pow(this.m,2),2*this.e)},a.prototype.sqrt=function(){return this.m<0?new a(Number.NaN):this.e%2!=0?i(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):i(Math.sqrt(this.m),Math.floor(this.e/2))},a.prototype.cube=function(){return i(Math.pow(this.m,3),3*this.e)},a.prototype.cbrt=function(){var t=1,e=this.m;e<0&&(t=-1,e=-e);var n=t*Math.pow(e,1/3),l=this.e%3;return i(1===l||-1===l?2.154434690031883*n:0!==l?4.641588833612778*n:n,Math.floor(this.e/3))},a.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},a.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},a.prototype.tanh=function(){return this.sinh().div(this.cosh())},a.prototype.asinh=function(){return a.ln(this.add(this.sqr().add(1).sqrt()))},a.prototype.acosh=function(){return a.ln(this.add(this.sqr().sub(1).sqrt()))},a.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:a.ln(this.add(1).div(new a(1).sub(this)))/2},a.prototype.ascensionPenalty=function(t){return 0===t?this:this.pow(Math.pow(10,-t))},a.prototype.egg=function(){return this.add(9)},a.prototype.lessThanOrEqualTo=function(t){return 1>this.cmp(t)},a.prototype.lessThan=function(t){return 0>this.cmp(t)},a.prototype.greaterThanOrEqualTo=function(t){return this.cmp(t)>-1},a.prototype.greaterThan=function(t){return this.cmp(t)>0},a.prototype.decimalPlaces=function(){return this.dp()},a.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,e=-this.exponent,n=1;Math.abs(Math.round(t*n)/n-t)>1e-10;)n*=10,e++;return e>0?e:0},Object.defineProperty(a,"MAX_VALUE",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(a,"MIN_VALUE",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(a,"NUMBER_MAX_VALUE",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(a,"NUMBER_MIN_VALUE",{get:function(){return v},enumerable:!1,configurable:!0}),a}(),f=o(1,9e15),d=o(1,-9e15),g=r(Number.MAX_VALUE),v=r(Number.MIN_VALUE),y={createDecimal:function(t){return new h(t.mantissa||0===t.mantissa?"".concat(t.mantissa,"e").concat(t.exponent):t)},multiplyDecimal:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t)).times(e)},divideDecimal:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t)).dividedBy(e)},addDecimal:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t)).plus(e)},subtractDecimal:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t)).minus(e)},logDecimal:function(t,e){return t=t.mantissa||0===t.mantissa?t:this.createDecimal(t),this.createDecimal(t.log(e))},pow:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t)).pow(e)},min:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t),e=e.mantissa||0===e.mantissa?e:this.createDecimal(e),t.greaterThan(e))?e:t},max:function(t,e){return(t=t.mantissa||0===t.mantissa?t:this.createDecimal(t),e=e.mantissa||0===e.mantissa?e:this.createDecimal(e),t.greaterThan(e))?t:e}},P={findMultipliersWithMinPercentage:function(t,e,n){let l=[],c=0;function backtrack(m,p,h){if(c++,m===e.length){let c=h.reduce((t,n,l)=>t+n*e[l],0);c>=n*t&&l.push([...h]);return}let f=Math.floor((t-p)/e[m]);for(let n=0;n<=f;n++)h[m]=n,p+n*e[m]<t&&backtrack(m+1,p+n*e[m],h)}return backtrack(0,0,[]),console.log(c),l},calcGrowthTime:function(t,e){let n=y.createDecimal(e.originalShopGrowingBonus);n=y.divideDecimal(n,1+.05*e.originalShopGrowingLevel),n=y.multiplyDecimal(n,1+.05*e.shopGrowingSpeed).toNumber();let l=Math.floor(t.TimeNeeded/t.prestigeBonus/n);return l<10?10:l},calcPlantHarvest:function(t,e){return l.roundInt((1+t.Rank)*Math.pow(1.05,t.Rank))*Math.pow(1.02,t.prestige)*e.manualHarvestBonus},calcShopProdBonus:function(t,e){return e=e||0===e?e:t.FarmingShopPlantTotalProduction,y.pow(1.25,e)},calcProdOutput:function(t,e){let n=t.totalMade,l=e.shopProdBonus,c=t.prestige,m=y.createDecimal(e.originalShopProdBonus);m=y.divideDecimal(m,this.calcShopProdBonus(null,e.originalShopProdLevel)),m=y.multiplyDecimal(l,m);let p=t.futureMult,h=y.multiplyDecimal(y.multiplyDecimal(y.multiplyDecimal(n,p),m),y.createDecimal(Math.pow(1.02,c)));return 1===t.ID&&(h=y.multiplyDecimal(h,e.hpBonus)),h},calcFryOutput:function(t,e){if(!t||t.lessThan(1e16))return 0;let n=0,l=e.timePassed?e.timePassed:0;l>1800&&(n=l<86400?l/86400:1+(l-86400)/(172800+.5*(l-86400)));let c=y.logDecimal(t,10),m=y.subtractDecimal(c,15.75),p=c;p=p.lessThan(31)?p:31;let h=y.subtractDecimal(36,p),f=y.subtractDecimal(c,16),d=y.pow(1.15,f),g=y.multiplyDecimal(m,h),v=y.multiplyDecimal(g,d),P=y.createDecimal(e.fryBonus),b=y.multiplyDecimal(v,P);return y.multiplyDecimal(b,n)},calcCarryOverEXP_OLD:function(t){let{plant:e,numAutos:n,expTick:l}=t,c=0,m=1;if(n>1){let t=l/n,p=Math.ceil((e.reqExp-e.curExp)/t);if(n>p){c=(n-p)*t;let l=10+5*(e.Rank+m)*Math.pow(1.05,e.Rank+m);for(;c>l;)c-=l,m++,l=10+5*(e.Rank+m)*Math.pow(1.05,e.Rank+m)}else c=0}else c=0;let p=10+5*(e.Rank+m)*Math.pow(1.05,e.Rank+m);return{leftOver:c,numLevels:m,reqExp:p}},calcCarryOverEXP:function(t){let{plant:e,numAutos:n,expTick:l}=t,c=0,m=e.curExp+n*l,p=10+5*(e.Rank+c)*Math.pow(1.05,e.Rank+c);for(;m>=p;)m-=p,c++,p=10+5*(e.Rank+c)*Math.pow(1.05,e.Rank+c);return{leftOver:m,numLevels:c,reqExp:p}},calcEXPBonus:function(t){let e=t.originalRankLevelBonus,n=t.originalShopRankLevel,l=t.shopRankLevel,c=t.originalPotionRank,m=t.potionRank,p=y.createDecimal(e);return p=y.divideDecimal(p,1+.1*n),p=y.divideDecimal(p,c>0?1.5:1),p=y.multiplyDecimal(p,1+.1*l),p=(p=y.multiplyDecimal(p,m)).toNumber()},futureMultBD:function(t,e){return y.pow(1+.05*(1+.02*e.manualHarvestFormula),y.logDecimal(t.created,1.25))},calcFutureMult:function(t,e){let n=!1===e.string?t:JSON.parse(JSON.stringify(t)),l=!1===e.string?e:JSON.parse(JSON.stringify(e)),c=l.time,m=l.numAuto||(null==l?void 0:l.numAuto)===0?l.numAuto:1,p=this.calcEXPBonus(l),h=n.prestigeBonus*p;if(n.growthTime=this.calcGrowthTime(n,l),0===m){let t=this.calcProdOutput(n,l);return n.production=t,n}for(;c>0;){n.timeToLevel=this.calcTimeTillLevel(n,l);let t=0,e=!1;n.timeToLevel>c?t=c:(t=n.timeToLevel,e=!0),c-=t,n.elapsedTime+=t;let p=0;if(n.elapsedTime>=n.growthTime){p=Math.floor(n.elapsedTime/n.growthTime);let t=n.perHarvest*p*m;if(n.created=y.addDecimal(n.created,t),n.totalMade=y.addDecimal(n.totalMade,t),n.futureMult=this.futureMultBD(n,l),e){let t=this.calcCarryOverEXP({plant:n,expTick:h*p,numAutos:m});n.curExp=t.leftOver,n.Rank+=t.numLevels,n.perHarvest=this.calcPlantHarvest(n,l),n.reqExp=t.reqExp}else{let t=p*h*m,e=n.curExp+t;n.curExp=e}n.elapsedTime=n.elapsedTime%n.growthTime}}let f=this.calcProdOutput(n,l);return n.production=f,n},calcTimeTillLevel:function(t,e){let n=e.numAuto||(null==e?void 0:e.numAuto)===0?e.numAuto:1;if(0===n)return 1/0;let l=t.reqExp-t.curExp,c=this.calcEXPBonus(e);return Math.ceil(l/(t.prestigeBonus*c*n))*t.growthTime-t.elapsedTime},getNextShopCosts:function(t){let e=1,n=t.FarmingShopPlantTotalProduction||0===t.FarmingShopPlantTotalProduction?t.FarmingShopPlantTotalProduction:t.shopProdLevel,l=1,c=t.FarmingShopPlantGrowingSpeed||0===t.FarmingShopPlantGrowingSpeed?t.FarmingShopPlantGrowingSpeed:t.shopGrowingSpeed,m=t.FarmingShopPlantRankExpEarned||0===t.FarmingShopPlantRankExpEarned?t.FarmingShopPlantRankExpEarned:t.shopRankLevel,p=y.pow(1.05,n-50),h=y.multiplyDecimal(100,p),f=y.pow(h,n),d=y.multiplyDecimal(1e8,f);return{prodCost:e=n>50?d:y.multiplyDecimal(1e8,y.pow(100,n)),growthCost:y.multiplyDecimal(y.pow(500,c),1e10),expCost:y.multiplyDecimal(y.pow(250,m),1e15)}},calcMaxPrestige:function(t){let e=t.prestige,n=0,l=!0;for(;l;){let c=10*Math.pow(2,e),m=n+c;t.created.greaterThanOrEqualTo(m)?(e++,n+=c):l=!1}return e-t.prestige},calcTimeTillPrestige:function(t,e){let n=JSON.parse(JSON.stringify(t));this.resetPlantBD(n);let l=JSON.parse(JSON.stringify(e));this.resetModifiersBD(l);let c=l.numAuto||(null==l?void 0:l.numAuto)===0?l.numAuto:1,m=!1,p=0,h=0,f=this.calcEXPBonus(l),d=n.prestigeBonus*f;for(;!m;){let t=this.calcTimeTillLevel(n,l),e=10*Math.pow(2,n.prestige),f=h+e,g=y.subtractDecimal(f,n.created),v=y.multiplyDecimal(y.divideDecimal(g,n.perHarvest*c).ceil(),n.growthTime).ceil().toNumber();if(0===c&&g.greaterThan(0))m=!0,p=1/0;else if(v<=0)m=!0,p<=0&&(n.prestige++,m=!1,h+=e);else if(v>t){n.elapsedTime+=t;let e=Math.floor(n.elapsedTime/n.growthTime);n.created=y.addDecimal(n.created,e*n.perHarvest*c),n.totalMade=y.addDecimal(n.totalMade,e*n.perHarvest*c);let m=this.calcCarryOverEXP({plant:n,numAutos:c,expTick:d*e});n.Rank+=m.numLevels,n.curExp=m.leftOver,n.reqExp=m.reqExp,n.perHarvest=this.calcPlantHarvest(n,l),p+=t,n.elapsedTime=n.elapsedTime%n.growthTime}else{m=!0,n.elapsedTime+=v;let t=Math.floor(n.elapsedTime/n.growthTime);n.created=y.addDecimal(n.created,t*n.perHarvest*c),n.totalMade=y.addDecimal(n.totalMade,t*n.perHarvest*c),p+=v,n.elapsedTime=n.elapsedTime%n.growthTime}}return{remainingTime:p,prestige:n.prestige,prestiged:m}},resetPlantBD:function(t){var e,n,l,c,m,p;t.totalMade=(null==t?void 0:null===(e=t.totalMade)||void 0===e?void 0:e.mantissa)||(null==t?void 0:null===(n=t.totalMade)||void 0===n?void 0:n.mantissa)===0?t.totalMade:y.createDecimal(t.totalMade),t.created=(null==t?void 0:null===(l=t.created)||void 0===l?void 0:l.mantissa)||(null==t?void 0:null===(c=t.created)||void 0===c?void 0:c.mantissa)===0?t.created:y.createDecimal(t.created),t.production=(null==t?void 0:null===(m=t.production)||void 0===m?void 0:m.mantissa)||(null==t?void 0:null===(p=t.production)||void 0===p?void 0:p.mantissa)===0?t.production:y.createDecimal(t.production),t.futureMult=y.createDecimal(t.futureMult)},resetModifiersBD:function(t){var e,n,l,c,m,p,h;t.shopProdBonus=(null==t?void 0:null===(e=t.shopProdBonus)||void 0===e?void 0:e.mantissa)||(null==t?void 0:null===(n=t.shopProdBonus)||void 0===n?void 0:n.mantissa)===0?t.shopProdBonus:y.createDecimal(t.shopProdBonus),t.hpBonus=(null==t?void 0:null===(l=t.hpBonus)||void 0===l?void 0:l.mantissa)||(null==t?void 0:null===(c=t.hpBonus)||void 0===c?void 0:c.mantissa)===0?t.hpBonus:y.createDecimal(t.hpBonus),t.curPotatoes=(null==t?void 0:null===(m=t.curPotatoes)||void 0===m?void 0:m.mantissa)||(null==t?void 0:t.curPotatoes.mantissa)===0?t.curPotatoes:y.createDecimal(t.curPotatoes),t.totalPotatoes=(null==t?void 0:null===(p=t.totalPotatoes)||void 0===p?void 0:p.mantissa)||(null==t?void 0:null===(h=t.totalPotatoes)||void 0===h?void 0:h.mantissa)===0?t.totalPotatoes:y.createDecimal(t.totalPotatoes)},calcHPProd:function(t,e){let n=JSON.parse(JSON.stringify(t));for(let t=0;t<n.length;t++)this.resetPlantBD(n[t]);let c=JSON.parse(JSON.stringify(e));this.resetModifiersBD(c),c.nextCosts.prodCost=y.createDecimal(c.nextCosts.prodCost),c.nextCosts.growthCost=y.createDecimal(c.nextCosts.growthCost),c.nextCosts.expCost=y.createDecimal(c.nextCosts.expCost);let m=c.numAutos,p=c.time,h=c.startTime?c.startTime:0,f=c.runningTime?c.runningTime:0,d=c.maxSteps?c.maxSteps:100,g=c.tickStart?c.tickStart:0,v=c.tickRate?c.tickRate:60,b=c.dataPointThreshold?c.dataPointThreshold:p/v<d?1:l.roundInt(p/v/d),M=[],N=[],D=c.totalPotatoes,w=c.curPotatoes,T=Array(n.length).fill(0);for(let t=0;t<n.length;t++)T[t]=n[t].production;let x=0,S=!1,E=1;for(v>2&&(E=.95),E=1;x<p/v||S;x++){let t=0;for(let e=n.length-1;e>=0;e--){let l=n[e],p=e===n.length-1?0:v>1?y.multiplyDecimal(y.addDecimal(T[e+1],n[e+1].production),.5*v*E):y.multiplyDecimal(n[e+1].production,v);l.totalMade=y.addDecimal(l.totalMade,p),1===(l=this.calcFutureMult(l,{...c,time:v,numAuto:m[e],string:!1})).ID&&(t=T[e]),T[e]=l.production}c.timePassed+=v,c.potionRank>1&&!c.forceRankPotion&&(c.potionRankTime-=v,c.potionRankTime<0&&(c.potionRank=1));let e=l.roundInt(x*v+h),d=v>1?y.multiplyDecimal(y.addDecimal(t,n[0].production),.525*v*E):n[0].production;if(D=y.addDecimal(D,d),w=y.addDecimal(w,d),c.autoBuyPBC){let t=!1,e=!0;for(;e;)if(e=!1,!0===w.greaterThanOrEqualTo(c.nextCosts.prodCost)&&(w=y.subtractDecimal(w,c.nextCosts.prodCost),c.shopProdLevel++,c.shopProdBonus=this.calcShopProdBonus(c,c.shopProdLevel),t=!0,e=!0),!0===w.greaterThanOrEqualTo(c.nextCosts.growthCost)&&(w=y.subtractDecimal(w,c.nextCosts.growthCost),c.shopGrowingSpeed++,t=!0,e=!0),!0===w.greaterThanOrEqualTo(c.nextCosts.expCost)&&(w=y.subtractDecimal(w,c.nextCosts.expCost),c.shopRankLevel++,c.shopRankEXP=1+.1*c.shopRankLevel,t=!0,e=!0),t){let t=this.getNextShopCosts(c);c.nextCosts=t}}if(x%b==0&&e>=g&&e<=p+f&&(M.push({time:e,production:D}),N.push({time:e,fries:y.multiplyDecimal(P.calcFryOutput(D,c),1.05)})),!c.skipFinal){if(S&&e>=p+f)break;!S&&e<p+f&&(S=!0)}}if(x>0&&!c.skipFinal){let t=l.roundInt(x*v+h);if(c.passedTime=x*v+h,0===M.length)M.push({time:t,production:D}),N.push({time:t,fries:y.multiplyDecimal(P.calcFryOutput(D,c),1.05)});else if(M[M.length-1].production!==D&&t>p+f){let e=t-M[M.length-1].time,n=y.divideDecimal(y.subtractDecimal(D,M[M.length-1].production),e),l=p+f-M[M.length-1].time,m=y.addDecimal(M[M.length-1].production,y.multiplyDecimal(n,l)),h={time:M[M.length-1].time+l,production:m};M.push(h),N.push({time:M[M.length-1].time+l,fries:y.multiplyDecimal(P.calcFryOutput(D,c),1.05)}),D=m}}return{totalPotatoes:D,potatoeProduction:n[0].production,plants:n,nextCosts:c.nextCosts,dataPointsPotatoes:M,dataPointsFries:N,finalModifiers:c}},calcStepHPProd:function(t,e){let n=JSON.parse(JSON.stringify(t));for(let t=0;t<n.length;t++)this.resetPlantBD(n[t]);let c=JSON.parse(JSON.stringify(e));this.resetModifiersBD(c);let m=c.steps,p=-1,h=[],f=[],d=0,g=c.maxSteps?c.maxSteps:100,v=c.tickRate?c.tickRate:60,y=e.time/v<g?1:l.roundInt(e.time/v/g);for(let t=0;t<m.length;t++)0!==m[t].time&&((c=(p=this.calcHPProd(n,{...c,numAutos:m[t].autos,time:m[t].time,dataPointThreshold:y,startTime:h.length>0?h[h.length-1].time:0,runningTime:d,skipFinal:t<m.length-1,tickStart:h.length>0?h[h.length-1].time+y*v:0})).finalModifiers).totalPotatoes=p.totalPotatoes,n=p.plants,h=h.concat(p.dataPointsPotatoes),f=f.concat(p.dataPointsFries),m[t].obj={text:"P".concat(m.length-t," for ").concat(m[t].time),numAutos:m[t].autos,time:m[t].time},d+=m[t].time);return -1===p?(p={}).dataPointsPotatoes=h:p.dataPointsPotatoes=h,p.dataPointsFries=f,p.steps=m,p},calcAssemblyHP:function(t){let e=1;return(null==t?void 0:t.AssemblerCollection[0].BonusList[0].StartingLevel)<=(null==t?void 0:t.AssemblerCollection[0].Level)&&(e=Math.pow(1+(null==t?void 0:t.AssemblerCollection[0].BonusList[0].Gain),(null==t?void 0:t.AssemblerCollection[0].Level)-(null==t?void 0:t.AssemblerCollection[0].BonusList[0].StartingLevel))),e},calcAssembly:function(t,e,n){let l=1;return(null==t?void 0:t.AssemblerCollection[e].BonusList[n].StartingLevel)<=(null==t?void 0:t.AssemblerCollection[e].Level)&&(l=Math.pow(1+(null==t?void 0:t.AssemblerCollection[e].BonusList[n].Gain),Math.max(0,t.AssemblerCollection[e].Level-(t.AssemblerCollection[e].BonusList[n].StartingLevel-1)))),l},calcAssemblyLine:function(t,e){let n=1;return t.StartingLevel<=e&&(n=Math.pow(1+t.Gain,Math.max(0,e-(t.StartingLevel-1)))),n},calcAssemblyCost:function(t,e){y.createDecimal(-1);let n=y.createDecimal(e.AssemblyCostReductionBonus),l=e.AssemblerCollection[t],c=y.createDecimal(l.BaseCost),m=y.addDecimal(c,y.multiplyDecimal(c,l.Level)),p=1+l.CostExpo+l.CostExpo*l.Level*.02,h=y.createDecimal(p),f=y.pow(h,l.Level);return y.divideDecimal(y.multiplyDecimal(m,f),n)},calcProteinPerSecond:function(t){let e=y.createDecimal(t.ProteinBonus),n=y.createDecimal(t.FrenchFriesTotal),l=y.createDecimal(1);if(n.greaterThan(1e10)){let t=y.logDecimal(n,5);t=y.subtractDecimal(t,13.48);let c=y.logDecimal(n,10);c=y.subtractDecimal(c,8),l=y.multiplyDecimal(y.multiplyDecimal(t,y.pow(1.1,c)),e)}return l},calcContagionBonus:function(t,e){let n=1;return t.GrasshopperCollection[e].Locked>0&&(n*=Math.pow(1+.01*l.calcPOW(t.GrasshopperCollection[e].BaseBonus),l.calcPOW(t.GrasshopperCollection[e].Level))),n},calcExpeditionHP:function(t){let e=1;if(t.ExpeditionsCollection[16].Locked>0){let n=t.ExpeditionsCollection[16];e=Math.pow(1+n.BonusPower,n.Room-1)}return e},calcUniqueHPBonus:function(t){let e=1;for(let n=0;n<t.FarmingShopUniqueHealthy.length;n++)e*=t.FarmingShopUniqueHealthy[n]+1;return e},calcFriesHPBonus:function(t){return 1*(1+l.calcPOW(t.FrenchFriesTotal)*((.01*t.FarmingShopFriesHealthyBonus+.1)*this.calcContagionBonus(t,5)))},calcPetHPBonus:function(t){let e=1,n=t.EquipedPetID,c=t.PetsCollection,m={};for(let t=0;t<n.length;t++)n[t]>0&&(m[n[t]]=!0);for(let t=0;t<c.length;t++){let n=c[t];if(n.ID in m)for(let t=0;t<n.BonusList.length;t++){let c=n.BonusList[t];23===c.ID&&(e+=.5*((Math.pow(1+c.Gain,n.Level)-1+Math.max(0,(.005*l.calculateLogarithm(1.0125,n.Level+1)-1)*.5))*(1+.005*l.calculateLogarithm(1.075,n.Rank+1))))}}return e},calcHPBonus:function(t){return l.calcPOW(t.HealthyPotatoBonus)}};self.onmessage=t=>{let{data:{data:e,id:n,data1:c}}=t;try{let t=e.finalPlants;for(let e=0;e<t.length;e++){let n=t[e];n.created=y.createDecimal(n.created),n.totalMade=y.createDecimal(n.totalMade),n.production=y.createDecimal(n.production)}let n=e.modifiers;n.shopProdBonus=y.createDecimal(n.shopProdBonus),n.hpBonus=y.createDecimal(n.hpBonus),n.curPotatoes=y.createDecimal(n.curPotatoes),n.totalPotatoes=y.createDecimal(n.totalPotatoes);let c=e.mode,m=e.time,p=e.numSimulatedAutos?e.numSimulatedAutos:1,h=e.combinations,f=y.createDecimal(0),d={},g=y.createDecimal(0),v={},b=0,M={potatoeProduction:0},N=0,D={potatoeProduction:0},w={...n,time:3600*m},T=[],x=[],S=0,E=e.end-e.start;for(let n=e.start;n<=e.end;n++){let y,B;E--,S++;let L=h[n];switch(w.numAutos=L,c){case"afk":default:y=P.calcHPProd(t,w);break;case"carlo":y=P.calcStepHPProd(t,{...w,steps:L});break;case"step":0===L[0]&&0===L[1]&&0===L[2]&&0===L[3]&&L[4];let I=[],q=0,C=0,_=0;for(let t=0;t<L.length;t++)L[t]>0&&(C++,_+=L[t]*e.baseTimers[t]);let O=3600*m-_;for(let n=0;n<e.baseTimers.length;n++){L[n]>0&&q++;let c=Array(e.baseTimers.length).fill(0);c[n]=p,c.reverse();let m=L[n]*e.baseTimers[n];if(q===C&&L[n]>0)m+=O;else if(L[n]>0){let e=t[t.length-1-n],l=m%e.growthTime;if(l<=.5*e.growthTime)m-=l,O+=l;else{let t=e.growthTime-l;O>=t&&(m+=t,O-=t)}}I.push({time:l.roundInt(m),autos:c})}y=P.calcStepHPProd(t,{...w,steps:I})}let F=0,k=0;for(let t=0;t<y.plants.length;t++){let e=P.calcMaxPrestige(y.plants[t]);F+=e,k+=Math.pow(1.02,y.plants[t].prestige+e)-Math.pow(1.02,y.plants[t].prestige),y.plants[t].picIncrease=e}!0===y.totalPotatoes.greaterThanOrEqualTo(f)&&(f=y.totalPotatoes,d={combo:L,result:y,plants:y.plants},T.unshift({data:y.dataPointsPotatoes,result:f}),T.length>10&&T.pop(),x.unshift({data:y.dataPointsFries,result:f}),x.length>10&&x.pop()),!0===y.potatoeProduction.greaterThanOrEqualTo(g)&&(g=y.potatoeProduction,v={combo:L,result:y,plants:y.plants}),F>b?(B={combo:L,result:y,plants:y.plants,potatoeProduction:y.potatoeProduction,picGain:F,picStats:{picLevel:F,picPercent:k}},b=F,M=B):F===b&&y.potatoeProduction.greaterThanOrEqualTo(M.potatoeProduction)&&(B={combo:L,result:y,plants:y.plants,potatoeProduction:y.potatoeProduction,picGain:F,picStats:{picLevel:F,picPercent:k}},b=F,M=B),k>N?(B={combo:L,result:y,plants:y.plants,potatoeProduction:y.potatoeProduction,picGain:k,picStats:{picLevel:F,picPercent:k}},N=k,D=B):k===N&&y.potatoeProduction.greaterThanOrEqualTo(D.potatoeProduction)&&(B={combo:L,result:y,plants:y.plants,potatoeProduction:y.potatoeProduction,picGain:k,picStats:{picLevel:F,picPercent:k}},N=k,D=B),S%100==0&&self.postMessage({update:!0,temp:B,updateAmount:100})}self.postMessage({update:!0,updateAmount:E}),self.postMessage({success:!0,totalPotCombo:d,bestProdCombo:v,bestPicCombo:M,bestPICPercCombo:D,top10DataPointsPotatoes:T,top10DataPointsFries:x})}catch(t){console.log(t)}}},82405:function(t){t.exports=function(t,e,n){if(null==t||null==e)return t;var l=String(t),c="number"==typeof e?e:parseInt(e,10);if(isNaN(c)||!isFinite(c))return l;var m=l.length;if(m>=c)return l;var p=null==n?"":String(n);""===p&&(p=" ");for(var h=c-m;p.length<h;)p+=p;return l+(p.length>h?p.substr(0,h):p)}}}]);