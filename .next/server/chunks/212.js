"use strict";exports.id=212,exports.ids=[212],exports.modules={46212:(t,e,o)=>{var a=o(11263),s=o(92989),l=o(5492);self.onmessage=({data:{data:t,id:e,data1:o}})=>{try{let e=t.finalPlants;for(let t=0;t<e.length;t++){let o=e[t];o.created=s.Z.createDecimal(o.created),o.totalMade=s.Z.createDecimal(o.totalMade),o.production=s.Z.createDecimal(o.production)}let o=t.modifiers;o.shopProdBonus=s.Z.createDecimal(o.shopProdBonus),o.hpBonus=s.Z.createDecimal(o.hpBonus),o.curPotatoes=s.Z.createDecimal(o.curPotatoes),o.totalPotatoes=s.Z.createDecimal(o.totalPotatoes);let r=t.mode,c=t.time,i=t.numSimulatedAutos?t.numSimulatedAutos:1,p=t.combinations,n=s.Z.createDecimal(0),u={},d=s.Z.createDecimal(0),P={},m=0,h={potatoeProduction:0},g=0,b={potatoeProduction:0},f={...o,time:3600*c},T=[],Z=[],D=0,M=t.end-t.start;for(let o=t.start;o<=t.end;o++){let s,S;M--,D++;let v=p[o];switch(f.numAutos=v,r){case"afk":default:s=a.Z.calcHPProd(e,f);break;case"carlo":s=a.Z.calcStepHPProd(e,{...f,steps:v});break;case"step":0===v[0]&&0===v[1]&&0===v[2]&&0===v[3]&&v[4];let w=[],A=0,C=0,q=0;for(let e=0;e<v.length;e++)v[e]>0&&(C++,q+=v[e]*t.baseTimers[e]);let x=3600*c-q;for(let o=0;o<t.baseTimers.length;o++){v[o]>0&&A++;let a=Array(t.baseTimers.length).fill(0);a[o]=i,a.reverse();let s=v[o]*t.baseTimers[o];if(A===C&&v[o]>0)s+=x;else if(v[o]>0){let t=e[e.length-1-o],a=s%t.growthTime;if(a<=.5*t.growthTime)s-=a,x+=a;else{let e=t.growthTime-a;x>=e&&(s+=e,x-=e)}}w.push({time:l.Z.roundInt(s),autos:a})}s=a.Z.calcStepHPProd(e,{...f,steps:w})}let B=0,E=0;for(let t=0;t<s.plants.length;t++){let e=a.Z.calcMaxPrestige(s.plants[t]);B+=e,E+=Math.pow(1.02,s.plants[t].prestige+e)-Math.pow(1.02,s.plants[t].prestige),s.plants[t].picIncrease=e}!0===s.totalPotatoes.greaterThanOrEqualTo(n)&&(n=s.totalPotatoes,u={combo:v,result:s,plants:s.plants},T.unshift({data:s.dataPointsPotatoes,result:n}),T.length>10&&T.pop(),Z.unshift({data:s.dataPointsFries,result:n}),Z.length>10&&Z.pop()),!0===s.potatoeProduction.greaterThanOrEqualTo(d)&&(d=s.potatoeProduction,P={combo:v,result:s,plants:s.plants}),B>m?(S={combo:v,result:s,plants:s.plants,potatoeProduction:s.potatoeProduction,picGain:B,picStats:{picLevel:B,picPercent:E}},m=B,h=S):B===m&&s.potatoeProduction.greaterThanOrEqualTo(h.potatoeProduction)&&(S={combo:v,result:s,plants:s.plants,potatoeProduction:s.potatoeProduction,picGain:B,picStats:{picLevel:B,picPercent:E}},m=B,h=S),E>g?(S={combo:v,result:s,plants:s.plants,potatoeProduction:s.potatoeProduction,picGain:E,picStats:{picLevel:B,picPercent:E}},g=E,b=S):E===g&&s.potatoeProduction.greaterThanOrEqualTo(b.potatoeProduction)&&(S={combo:v,result:s,plants:s.plants,potatoeProduction:s.potatoeProduction,picGain:E,picStats:{picLevel:B,picPercent:E}},g=E,b=S),D%100==0&&self.postMessage({update:!0,temp:S,updateAmount:100})}self.postMessage({update:!0,updateAmount:M}),self.postMessage({success:!0,totalPotCombo:u,bestProdCombo:P,bestPicCombo:h,bestPICPercCombo:b,top10DataPointsPotatoes:T,top10DataPointsFries:Z})}catch(t){console.log(t)}}}};